From trac at avcodec.org  Sun Sep  1 00:41:12 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 31 Aug 2013 22:41:12 -0000
Subject: [FFmpeg-trac] #2917(avformat:closed): Wrong framerate for
 mpeg2video in lxf
In-Reply-To: <036.09125b88401f07830c558c0ffa27c6ee@avcodec.org>
References: <036.09125b88401f07830c558c0ffa27c6ee@avcodec.org>
Message-ID: <051.50818361a66d463277bcdcf1ad1f1a46@avcodec.org>

#2917: Wrong framerate for mpeg2video in lxf
-------------------------------------+-------------------------------------
             Reporter:  cehoyos      |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:  fixed
             Keywords:  lxf          |               Blocked By:
  mpeg2video regression              |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 Fixed in 8349be852be7f68fe0590584fd46c4d5f1c16b3d

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2917#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 04:27:53 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 02:27:53 -0000
Subject: [FFmpeg-trac]
 =?utf-8?q?=232910=28avcodec=3Aclosed=29=3A_Skipping?=
 =?utf-8?q?_=E2=80=98nokey=E2=80=99_frames_in_h264_video_causes_errors?=
In-Reply-To: <034.2c867f0aadcc4cd9b5103e8217f8e77a@avcodec.org>
References: <034.2c867f0aadcc4cd9b5103e8217f8e77a@avcodec.org>
Message-ID: <049.422777d2e29ab6cbd8b1443ae05bc2be@avcodec.org>

#2910: Skipping ?nokey? frames in h264 video causes errors
-------------------------------------+-------------------------------------
             Reporter:  eelco        |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  h264         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in 93cf7b01950b9d8e1646227752b522d0275d32df

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2910#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 07:23:06 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 05:23:06 -0000
Subject: [FFmpeg-trac] #2896(avfilter:new): Using video filters
 "fieldmatch" and "yadif" together causes crash
In-Reply-To: <035.279a9f9524243ad34b5f5734cc456cb1@avcodec.org>
References: <035.279a9f9524243ad34b5f5734cc456cb1@avcodec.org>
Message-ID: <050.4e9c87989a5c1a302fb3d74d0219a629@avcodec.org>

#2896: Using video filters "fieldmatch" and "yadif" together causes crash
-------------------------------------+-------------------------------------
             Reporter:  Mornix       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:  avfilter
              Version:  git-master   |               Resolution:
             Keywords:  yadif crash  |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Mornix):

 I expanded the macro that GDB was showing where the crash occurred on the
 latest commit (93cf7b01950b9d8e1646227752b522d0275d32df) and this is the
 GDB output:

 {{{
 Starting program: ffmpeg_g.exe -v 9 -loglevel 99 -report -i crash-
 fieldmatch-yadif-sample.mkv -vcodec mpeg2video -vf
 fieldmatch=order=tff:combmatch=full,yadif=deint=interlaced,decimate
 out.mkv
 [New Thread 6328.0x1f98]
 [New Thread 6328.0x150c]
 [New Thread 6328.0x1300]
 [New Thread 6328.0x1a74]
 [New Thread 6328.0x478]
 [New Thread 6328.0x80c]
 [New Thread 6328.0x1e44]
 [New Thread 6328.0x1f94]
 [New Thread 6328.0x1a30]
 [New Thread 6328.0x14b4]
 [New Thread 6328.0x18b4]
 [New Thread 6328.0x580]
 [New Thread 6328.0x134c]
 [New Thread 6328.0xc2c]
 [New Thread 6328.0x173c]
 [New Thread 6328.0x1ef4]

 Program received signal SIGSEGV, Segmentation fault.
 [Switching to Thread 6328.0x80c]
 0x0046e4ce in filter_line_c (dst1=0xa05c6e3, prev1=0x90b3e13,
 cur1=0x9df6073,
     next1=0xa15ecc3, w=710, prefs=768, mrefs=-768, parity=1, mode=0)
     at libavfilter/vf_yadif.c:115
 115             int temporal_diff2 =(FFABS(next[mrefs] - c) +
 FFABS(next[prefs] - e) )>>1;
 #0  0x0046e4ce in filter_line_c (dst1=0xa05c6e3, prev1=0x90b3e13,
     cur1=0x9df6073, next1=0xa15ecc3, w=710, prefs=768, mrefs=-768,
 parity=1,
     mode=0) at libavfilter/vf_yadif.c:115
 #1  0x00471629 in filter_slice (ctx=0x4869fa0, arg=0x28f348, jobnr=4,
     nb_jobs=5) at libavfilter/vf_yadif.c:244
 #2  0x0042a4ab in worker (v=0x48d9960) at libavfilter/pthread.c:88
 #3  0x6248b4c1 in ptw32_threadStart at 4 () from C:\MinGW\bin\pthreadGC2.dll
 #4  0x766e1287 in msvcrt!_itow_s () from C:\Windows\syswow64\msvcrt.dll
 #5  0x766e1328 in msvcrt!_endthreadex () from
 C:\Windows\syswow64\msvcrt.dll
 #6  0x75d133aa in KERNEL32!BaseCleanupAppcompatCacheSupport ()
    from C:\Windows\syswow64\kernel32.dll
 #7  0x0741ffd4 in ?? ()
 #8  0x76ee9f72 in ntdll!RtlpNtSetValueKey ()
    from C:\Windows\system32\ntdll.dll
 #9  0x04869a68 in ?? ()
 #10 0x76ee9f45 in ntdll!RtlpNtSetValueKey ()
    from C:\Windows\system32\ntdll.dll
 #11 0x766e12e5 in msvcrt!_endthreadex () from
 C:\Windows\syswow64\msvcrt.dll
 #12 0x00000000 in ?? ()
 Dump of assembler code from 0x46e4ae to 0x46e4ee:
    0x0046e4ae <filter_line_c+482>:      decb   0xf3c246c(%ebx)
    0x0046e4b4 <filter_line_c+488>:      mov    $0x6c,%dh
    0x0046e4b6 <filter_line_c+490>:      add    $0x246c8900,%eax
    0x0046e4bb <filter_line_c+495>:      or     $0x2b,%al
    0x0046e4bd <filter_line_c+497>:      insb   (%dx),%es:(%edi)
    0x0046e4be <filter_line_c+498>:      and    $0x8,%al
    0x0046e4c0 <filter_line_c+500>:      mov    %ebp,0x14(%esp)
    0x0046e4c4 <filter_line_c+504>:      js     0x46e774
 <filter_line_c+1192>
    0x0046e4ca <filter_line_c+510>:      mov    0x38(%esp),%ebp
 => 0x0046e4ce <filter_line_c+514>:      movzbl 0x0(%ebp,%eax,1),%ebp
    0x0046e4d3 <filter_line_c+519>:      mov    %ebp,0xc(%esp)
    0x0046e4d7 <filter_line_c+523>:      sub    0x4(%esp),%ebp
    0x0046e4db <filter_line_c+527>:      js     0x46e76c
 <filter_line_c+1184>
    0x0046e4e1 <filter_line_c+533>:      add    0x14(%esp),%ebp
    0x0046e4e5 <filter_line_c+537>:      sar    %ebp
    0x0046e4e7 <filter_line_c+539>:      cmp    %ebp,%esi
    0x0046e4e9 <filter_line_c+541>:      jge    0x46e4ed
 <filter_line_c+545>
    0x0046e4eb <filter_line_c+543>:      mov    %ebp,%esi
    0x0046e4ed <filter_line_c+545>:      sub    %ebx,%edi
 End of assembler dump.
 eax            0x3d     61
 ecx            0x9df5db0        165633456
 edx            0x9df63b0        165634992
 ebx            0x12     18
 esp            0x741fdbc        0x741fdbc
 ebp            0xa15efc3        0xa15efc3
 esi            0x0      0
 edi            0x12     18
 eip            0x46e4ce 0x46e4ce <filter_line_c+514>
 eflags         0x10202  [ IF RF ]
 cs             0x23     35
 ss             0x2b     43
 ds             0x2b     43
 es             0x2b     43
 fs             0x53     83
 gs             0x2b     43
 st0            0        (raw 0x00000000000000000000)
 st1            0        (raw 0x00000000000000000000)
 st2            0        (raw 0x00000000000000000000)
 st3            0        (raw 0x00000000000000000000)
 st4            0        (raw 0x00000000000000000000)
 st5            0        (raw 0x00000000000000000000)
 st6            0        (raw 0x00000000000000000000)
 st7            0        (raw 0x00000000000000000000)
 fctrl          0x27f    639
 fstat          0x0      0
 ftag           0xffff   65535
 fiseg          0x0      0
 fioff          0x0      0
 foseg          0x0      0
 fooff          0x0      0
 fop            0x0      0
 xmm0           {v4_float = {0x0, 0x0, 0x0, 0x0}, v2_double = {0x0, 0x0},
   v16_int8 = {0x0 <repeats 16 times>}, v8_int16 = {0x0, 0x0, 0x0, 0x0,
 0x0,
     0x0, 0x0, 0x0}, v4_int32 = {0x0, 0x0, 0x0, 0x0}, v2_int64 = {0x0,
 0x0},
   uint128 = 0x00000000000000000000000000000000}
 xmm1           {v4_float = {0x0, 0x0, 0x0, 0x0}, v2_double = {0x0, 0x0},
   v16_int8 = {0x0 <repeats 16 times>}, v8_int16 = {0x0, 0x0, 0x0, 0x0,
 0x0,
     0x0, 0x0, 0x0}, v4_int32 = {0x0, 0x0, 0x0, 0x0}, v2_int64 = {0x0,
 0x0},
   uint128 = 0x00000000000000000000000000000000}
 xmm2           {v4_float = {0x0, 0x0, 0x0, 0x0}, v2_double = {0x0, 0x0},
   v16_int8 = {0x0 <repeats 16 times>}, v8_int16 = {0x0, 0x0, 0x0, 0x0,
 0x0,
     0x0, 0x0, 0x0}, v4_int32 = {0x0, 0x0, 0x0, 0x0}, v2_int64 = {0x0,
 0x0},
   uint128 = 0x00000000000000000000000000000000}
 xmm3           {v4_float = {0x0, 0x0, 0x0, 0x0}, v2_double = {0x0, 0x0},
   v16_int8 = {0x0 <repeats 16 times>}, v8_int16 = {0x0, 0x0, 0x0, 0x0,
 0x0,
     0x0, 0x0, 0x0}, v4_int32 = {0x0, 0x0, 0x0, 0x0}, v2_int64 = {0x0,
 0x0},
   uint128 = 0x00000000000000000000000000000000}
 xmm4           {v4_float = {0x0, 0x0, 0x0, 0x0}, v2_double = {0x0, 0x0},
   v16_int8 = {0x0 <repeats 16 times>}, v8_int16 = {0x0, 0x0, 0x0, 0x0,
 0x0,
     0x0, 0x0, 0x0}, v4_int32 = {0x0, 0x0, 0x0, 0x0}, v2_int64 = {0x0,
 0x0},
   uint128 = 0x00000000000000000000000000000000}
 xmm5           {v4_float = {0x0, 0x0, 0x0, 0x0}, v2_double = {0x0, 0x0},
   v16_int8 = {0x0 <repeats 16 times>}, v8_int16 = {0x0, 0x0, 0x0, 0x0,
 0x0,
     0x0, 0x0, 0x0}, v4_int32 = {0x0, 0x0, 0x0, 0x0}, v2_int64 = {0x0,
 0x0},
   uint128 = 0x00000000000000000000000000000000}
 xmm6           {v4_float = {0x0, 0x0, 0x0, 0x0}, v2_double = {0x0, 0x0},
   v16_int8 = {0x0 <repeats 16 times>}, v8_int16 = {0x0, 0x0, 0x0, 0x0,
 0x0,
     0x0, 0x0, 0x0}, v4_int32 = {0x0, 0x0, 0x0, 0x0}, v2_int64 = {0x0,
 0x0},
   uint128 = 0x00000000000000000000000000000000}
 xmm7           {v4_float = {0x0, 0x0, 0x0, 0x0}, v2_double = {0x0, 0x0},
   v16_int8 = {0x0 <repeats 16 times>}, v8_int16 = {0x0, 0x0, 0x0, 0x0,
 0x0,
     0x0, 0x0, 0x0}, v4_int32 = {0x0, 0x0, 0x0, 0x0}, v2_int64 = {0x0,
 0x0},
   uint128 = 0x00000000000000000000000000000000}
 mxcsr          0x1f80   [ IM DM ZM OM UM PM ]
 mm0            {uint64 = 0x0, v2_int32 = {0x0, 0x0}, v4_int16 = {0x0, 0x0,
     0x0, 0x0}, v8_int8 = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}}
 mm1            {uint64 = 0x0, v2_int32 = {0x0, 0x0}, v4_int16 = {0x0, 0x0,
     0x0, 0x0}, v8_int8 = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}}
 mm2            {uint64 = 0x0, v2_int32 = {0x0, 0x0}, v4_int16 = {0x0, 0x0,
     0x0, 0x0}, v8_int8 = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}}
 mm3            {uint64 = 0x0, v2_int32 = {0x0, 0x0}, v4_int16 = {0x0, 0x0,
     0x0, 0x0}, v8_int8 = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}}
 mm4            {uint64 = 0x0, v2_int32 = {0x0, 0x0}, v4_int16 = {0x0, 0x0,
     0x0, 0x0}, v8_int8 = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}}
 mm5            {uint64 = 0x0, v2_int32 = {0x0, 0x0}, v4_int16 = {0x0, 0x0,
     0x0, 0x0}, v8_int8 = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}}
 mm6            {uint64 = 0x0, v2_int32 = {0x0, 0x0}, v4_int16 = {0x0, 0x0,
     0x0, 0x0}, v8_int8 = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}}
 mm7            {uint64 = 0x0, v2_int32 = {0x0, 0x0}, v4_int16 = {0x0, 0x0,
     0x0, 0x0}, v8_int8 = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}}
 }}}

 I've attached the log (ffmpeg-crash-fieldmatch-yadif-log-3.log).

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2896#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 11:43:13 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 09:43:13 -0000
Subject: [FFmpeg-trac] #2621(FFprobe:closed): ffprobe should output
 formatted information about detection reliability
In-Reply-To: <041.287fff3ee607bfbdbf08d62a0cb13e66@avcodec.org>
References: <041.287fff3ee607bfbdbf08d62a0cb13e66@avcodec.org>
Message-ID: <056.bd429130572a7d1b5beae0b8cd3d3a33@avcodec.org>

#2621: ffprobe should output formatted information about detection reliability
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  ahthovaikied                       |                   Status:  closed
                 Type:  enhancement  |                Component:  FFprobe
             Priority:  wish         |               Resolution:  fixed
              Version:  git-master   |               Blocked By:
             Keywords:  ffprobe      |  Reproduced by developer:  1
  format probe score                 |
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------
Changes (by saste):

 * analyzed:  0 => 1
 * keywords:  ffprobe => ffprobe format probe score
 * status:  new => closed
 * resolution:   => fixed
 * reproduced:  0 => 1


Comment:

 Fixed in:
 {{{
 commit 291ad12ea2d1f9297d4ed22d54f4f8fa232e43dc
 Author: Stefano Sabatini <stefasab at gmail.com>
 Date:   Thu Aug 29 00:28:26 2013 +0200

     ffprobe: show probe_score in the format section

     Should address trac ticket #2621.
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2621#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 11:50:41 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 09:50:41 -0000
Subject: [FFmpeg-trac]  #2923(undetermined:new): ffv1: invalid read
Message-ID: <038.0c14a964c7bee9aed20683b6332216b4@avcodec.org>

#2923: ffv1: invalid read
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 crashes with threads > 2

 http://www.datafilehost.com/d/ec2176ad

 {{{
 knoppix at Microknoppix:/media/sdb1$ valgrind --leak-check=full ffmpeg-
 HEAD-c042684/ffmpeg_g -i ./ffv1_fuzz2.avi -f null -
 ==3389== Memcheck, a memory error detector
 ==3389== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
 ==3389== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
 ==3389== Command: ffmpeg-HEAD-c042684/ffmpeg_g -i ./ffv1_fuzz2.avi -f null
 -
 ==3389==
 ffmpeg version 2.0-c042684 Copyright (c) 2000-2013 the FFmpeg developers
   built on Aug 30 2013 20:55:53 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 42.100 / 52. 42.100
   libavcodec     55. 29.100 / 55. 29.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [avi @ 0x4229020] Something went wrong during header parsing, I will
 ignore it and try to continue anyway.
 [ffv1 @ 0x423a500] Cannot decode non-keyframe without valid keyframe
     Last message repeated 1 times
 [ffv1 @ 0x423a500] read_quant_table error
 Input #0, avi, from './ffv1_fuzz2.avi':
   Metadata:
     encoder         : Lavf55.13.101
   Duration: 00:00:12.64, start: 0.000000, bitrate: 5802 kb/s
     Stream #0:0: Video: ffv1 (FFV1 / 0x31564646), yuv410p, 320x240, 23.98
 fps, 23.97 tbr, 23.97 tbn, 23.97 tbc
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.15.100
     Stream #0:0: Video: rawvideo (YUV9 / 0x39565559), yuv410p, 320x240,
 q=2-31, 200 kb/s, 90k tbn, 23.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (ffv1 -> rawvideo)
 Press [q] to stop, [?] for help
 [ffv1 @ 0x4548000] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x4554860] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x455efc0] read_quant_table error
 [ffv1 @ 0x4569700] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x4573e60] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x457e5a0] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x4588d00] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x4593440] Invalid change of global parameters
 Error while decoding stream #0:0: Invalid data found when processing input
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x459dba0] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x4548000] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x4554860] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x455efc0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x4569700] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x4573e60] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x457e5a0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x4588d00] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x4593440] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x459dba0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x4548000] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x4554860] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x455efc0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x4569700] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x4573e60] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 ==3389== Thread 11:peated 4 times
 ==3389== Invalid read of size 2
 ==3389==    at 0x832D168: decode_plane (ffv1dec.c:74)
 ==3389==    by 0x832FEB2: decode_slice (ffv1dec.c:399)
 ==3389==    by 0x86753C3: avcodec_default_execute (utils.c:948)
 ==3389==    by 0x832E56D: decode_frame (ffv1dec.c:898)
 ==3389==    by 0x85CC83D: frame_worker_thread (pthread.c:339)
 ==3389==    by 0x407B953: start_thread (pthread_create.c:304)
 ==3389==    by 0x416395D: clone (clone.S:130)
 ==3389==  Address 0x2 is not stack'd, malloc'd or (recently) free'd
 ==3389==
 ==3389==
 ==3389== Process terminating with default action of signal 11 (SIGSEGV)
 ==3389==  Access not within mapped region at address 0x2
 ==3389==    at 0x832D168: decode_plane (ffv1dec.c:74)
 ==3389==    by 0x832FEB2: decode_slice (ffv1dec.c:399)
 ==3389==    by 0x86753C3: avcodec_default_execute (utils.c:948)
 ==3389==    by 0x832E56D: decode_frame (ffv1dec.c:898)
 ==3389==    by 0x85CC83D: frame_worker_thread (pthread.c:339)
 ==3389==    by 0x407B953: start_thread (pthread_create.c:304)
 ==3389==    by 0x416395D: clone (clone.S:130)
 ==3389==  If you believe this happened as a result of a stack
 ==3389==  overflow in your program's main thread (unlikely but
 ==3389==  possible), you can try to increase the size of the
 ==3389==  main thread stack using the --main-stacksize= flag.
 ==3389==  The main thread stack size used in this run was 8388608.
 ==3389==
 ==3389== HEAP SUMMARY:
 ==3389==     in use at exit: 1,911,601 bytes in 297 blocks
 ==3389==   total heap usage: 1,826 allocs, 1,529 frees, 8,842,790 bytes
 allocated
 ==3389==
 ==3389== Thread 1:
 ==3389== 1,296 bytes in 9 blocks are possibly lost in loss record 105 of
 125
 ==3389==    at 0x4026A68: calloc (vg_replace_malloc.c:566)
 ==3389==    by 0x40111FB: _dl_allocate_tls (dl-tls.c:300)
 ==3389==    by 0x407C2A8: pthread_create@@GLIBC_2.1 (allocatestack.c:580)
 ==3389==    by 0x80D9591: ff_graph_thread_init (pthread.c:180)
 ==3389==    by 0x80CD507: avfilter_graph_alloc_filter
 (avfiltergraph.c:186)
 ==3389==    by 0x80D8144: create_filter (graphparser.c:112)
 ==3389==    by 0x80D8B99: avfilter_graph_parse2 (graphparser.c:169)
 ==3389==
 ==3389== 1,296 bytes in 9 blocks are possibly lost in loss record 106 of
 125
 ==3389==    at 0x4026A68: calloc (vg_replace_malloc.c:566)
 ==3389==    by 0x40111FB: _dl_allocate_tls (dl-tls.c:300)
 ==3389==    by 0x407C2A8: pthread_create@@GLIBC_2.1 (allocatestack.c:580)
 ==3389==    by 0x85CE7BE: ff_thread_init (pthread.c:872)
 ==3389==    by 0x867B19D: avcodec_open2 (utils.c:1223)
 ==3389==    by 0x80B9F46: transcode_init (ffmpeg.c:1983)
 ==3389==    by 0x80A242F: main (ffmpeg.c:3204)
 ==3389==
 ==3389== LEAK SUMMARY:
 ==3389==    definitely lost: 0 bytes in 0 blocks
 ==3389==    indirectly lost: 0 bytes in 0 blocks
 ==3389==      possibly lost: 2,592 bytes in 18 blocks
 ==3389==    still reachable: 1,909,009 bytes in 279 blocks
 ==3389==         suppressed: 0 bytes in 0 blocks
 ==3389== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==3389== To see them, rerun with: --leak-check=full --show-reachable=yes
 ==3389==
 ==3389== For counts of detected and suppressed errors, rerun with: -v
 ==3389== ERROR SUMMARY: 3 errors from 3 contexts (suppressed: 59 from 6)
 Killed
 }}}

 {{{
 knoppix at Microknoppix:/media/sdb1$ gdb ffmpeg-HEAD-c042684/ffmpeg_gGNU gdb
 (GDB) 7.4.1-debian
 Copyright (C) 2012 Free Software Foundation, Inc.
 License GPLv3+: GNU GPL version 3 or later
 <http://gnu.org/licenses/gpl.html>
 This is free software: you are free to change and redistribute it.
 There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
 and "show warranty" for details.
 This GDB was configured as "i486-linux-gnu".
 For bug reporting instructions, please see:
 <http://www.gnu.org/software/gdb/bugs/>...
 Reading symbols from /media/sdb1/ffmpeg-HEAD-c042684/ffmpeg_g...done.
 (gdb) r -i ./ffv1_fuzz2.avi -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-c042684/ffmpeg_g -i
 ./ffv1_fuzz2.avi -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-c042684 Copyright (c) 2000-2013 the FFmpeg developers
   built on Aug 30 2013 20:55:53 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 42.100 / 52. 42.100
   libavcodec     55. 29.100 / 55. 29.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [avi @ 0x9104d40] Something went wrong during header parsing, I will
 ignore it and try to continue anyway.
 [ffv1 @ 0x9105640] Cannot decode non-keyframe without valid keyframe
     Last message repeated 1 times
 [ffv1 @ 0x9105640] read_quant_table error
 Input #0, avi, from './ffv1_fuzz2.avi':
   Metadata:
     encoder         : Lavf55.13.101
   Duration: 00:00:12.64, start: 0.000000, bitrate: 5802 kb/s
     Stream #0:0: Video: ffv1 (FFV1 / 0x31564646), yuv410p, 320x240, 23.98
 fps, 23.97 tbr, 23.97 tbn, 23.97 tbc
 [New Thread 0xb7befb70 (LWP 3415)]
 [New Thread 0xb73efb70 (LWP 3416)]
 [New Thread 0xb6befb70 (LWP 3417)]
 [New Thread 0xb63efb70 (LWP 3418)]
 [New Thread 0xb5befb70 (LWP 3419)]
 [New Thread 0xb53efb70 (LWP 3420)]
 [New Thread 0xb4befb70 (LWP 3421)]
 [New Thread 0xb43efb70 (LWP 3422)]
 [New Thread 0xb3befb70 (LWP 3423)]
 [New Thread 0xb33efb70 (LWP 3424)]
 [New Thread 0xb2befb70 (LWP 3425)]
 [New Thread 0xb23efb70 (LWP 3426)]
 [New Thread 0xb1befb70 (LWP 3427)]
 [New Thread 0xb13efb70 (LWP 3428)]
 [New Thread 0xb0befb70 (LWP 3429)]
 [New Thread 0xb03efb70 (LWP 3430)]
 [New Thread 0xafbefb70 (LWP 3431)]
 [New Thread 0xaf3efb70 (LWP 3432)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.15.100
     Stream #0:0: Video: rawvideo (YUV9 / 0x39565559), yuv410p, 320x240,
 q=2-31, 200 kb/s, 90k tbn, 23.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (ffv1 -> rawvideo)
 Press [q] to stop, [?] for help
 [ffv1 @ 0x91077e0] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x9107dc0] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x90f53a0] read_quant_table error
 [ffv1 @ 0x90f5960] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x90f5fe0] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x90f6660] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x90f6ce0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x90f7360] Invalid change of global parameters
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x90f79e0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x91077e0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x9107dc0] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x90f53a0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x90f5960] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x90f5fe0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x90f6660] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x90f6ce0] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x90f7360] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x90f79e0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x91077e0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x9107dc0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x90f53a0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x90f5960] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x90f5fe0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 6 times
 [null @ 0x910c700] Encoder did not produce proper pts, making some up.

 Program received signal SIGSEGV, Segmentation fault.
 [Switching to Thread 0xb33efb70 (LWP 3424)]
 decode_line (bits=8, plane_index=<optimized out>, sample=<synthetic
 pointer>,
     w=320, s=0x9115420) at libavcodec/ffv1dec.c:146
 146                         diff      = get_vlc_symbol(&s->gb,
 &p->vlc_state[context],
 (gdb) bt
 #0  decode_line (bits=8, plane_index=<optimized out>,
     sample=<synthetic pointer>, w=320, s=0x9115420) at
 libavcodec/ffv1dec.c:146
 #1  decode_plane (s=s at entry=0x9115420, src=0xaea01c90 "", w=w at entry=320,
     h=h at entry=240, stride=384, plane_index=plane_index at entry=0)
     at libavcodec/ffv1dec.c:191
 #2  0x0832feb3 in decode_slice (c=0x91077e0, arg=0x9102aa8)
     at libavcodec/ffv1dec.c:399
 #3  0x086753c4 in avcodec_default_execute (c=0x91077e0,
     func=0x832f8c0 <decode_slice>, arg=0x9102aa8, ret=0x0, count=1,
 size=4)
     at libavcodec/utils.c:948
 #4  0x0832e56e in decode_frame (avctx=0x91077e0, data=0x9103000,
     got_frame=0x91031bc, avpkt=0x9102fb0) at libavcodec/ffv1dec.c:898
 #5  0x085cc83e in frame_worker_thread (arg=0x9102ee0)
     at libavcodec/pthread.c:339
 #6  0xb7f87954 in start_thread (arg=0xb33efb70) at pthread_create.c:304
 #7  0xb7f0895e in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:130
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2923>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 11:58:31 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 09:58:31 -0000
Subject: [FFmpeg-trac] #2924(undetermined:new): ffv1: deadlock with 8 threads
Message-ID: <038.6ccc7094afdf75c16f4b7cd9e84b438d@avcodec.org>

#2924: ffv1: deadlock with 8 threads
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://www.datafilehost.com/d/b7222191

 {{{
 C:\>ffmpeg -threads 8 -i ffv1_dead.avi -f null -
 ffmpeg version N-55934-g8349be8 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  1 2013 02:24:38 with gcc 4.5.0 (GCC) 20100414 (Fedora
 MinGW 4.5.
 0-1.fc14)
   configuration: --prefix=/var/www/users/research/ffmpeg/snapshots/build
 --arch=
 x86 --target-os=mingw32 --cross-prefix=i686-pc-mingw32- --cc='ccache i686
 -pc-min
 gw32-gcc' --enable-pthreads --enable-memalign-hack --enable-runtime-
 cpudetect --
 enable-cross-compile --enable-static --disable-shared --extra-
 libs='-lws2_32 -lw
 inmm -lpthread' --extra-cflags='--static
 -I/var/www/users/research/ffmpeg/snapsh
 ots/build/include' --extra-ldflags='-static
 -L/var/www/users/research/ffmpeg/sna
 pshots/build/lib' --enable-bzlib --enable-zlib --enable-gpl --enable-
 version3 --
 enable-nonfree --enable-libx264 --enable-libspeex --enable-libtheora
 --enable-li
 bvorbis --enable-libfaac --enable-libxvid --enable-libopencore-amrnb
 --enable-li
 bopencore-amrwb --enable-libmp3lame --enable-libfreetype --enable-libvpx
 --disab
 le-decoder=libvpx
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 29.100 / 55. 29.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, avi, from 'ffv1_dead.avi':
   Metadata:
     encoder         : Lavf55.13.101
   Duration: 00:00:12.64, start: 0.000000, bitrate: 5802 kb/s
     Stream #0:0: Video: ffv1 (FFV1 / 0x31564646), yuv410p, 320x240, 23.97
 tbr, 2
 3.97 tbn, 23.97 tbc
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.15.100
     Stream #0:0: Video: rawvideo (YUV9 / 0x39565559), yuv410p, 320x240,
 q=2-31,
 200 kb/s, 90k tbn, 23.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (ffv1 -> rawvideo)
 Press [q] to stop, [?] for help
 [ffv1 @ 0x21281a0] Invalid change of global parameters
 [ffv1 @ 0x2128820] Cannot decode non-keyframe without valid keyframe
 [null @ 0x2137aa0] [ffv1 @ 0x2120280] Encoder did not produce proper pts,
 making
  some up.
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2120ae0] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2049360] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x21410e0] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x212e4a0] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2125240] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 5 times
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2924>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 12:24:00 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 10:24:00 -0000
Subject: [FFmpeg-trac] #2621(FFprobe:closed): ffprobe should output
 formatted information about detection reliability
In-Reply-To: <041.287fff3ee607bfbdbf08d62a0cb13e66@avcodec.org>
References: <041.287fff3ee607bfbdbf08d62a0cb13e66@avcodec.org>
Message-ID: <056.063eef638521fe9c9e0a5ac6cdcabbc5@avcodec.org>

#2621: ffprobe should output formatted information about detection reliability
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  ahthovaikied                       |                   Status:  closed
                 Type:  enhancement  |                Component:  FFprobe
             Priority:  wish         |               Resolution:  fixed
              Version:  git-master   |               Blocked By:
             Keywords:  ffprobe      |  Reproduced by developer:  1
  format probe score                 |
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by ahthovaikied):

 Thank you

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2621#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 13:12:03 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 11:12:03 -0000
Subject: [FFmpeg-trac] #2923(undetermined:new): ffv1: invalid read
In-Reply-To: <038.0c14a964c7bee9aed20683b6332216b4@avcodec.org>
References: <038.0c14a964c7bee9aed20683b6332216b4@avcodec.org>
Message-ID: <053.248785ae027d4ed9f788448e58bfde51@avcodec.org>

#2923: ffv1: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  ffv1         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => ffv1


Comment:

 The sample cannot be decoded here:
 {{{
 $ md5sum ffv1_fuzz2.avi
 8b3d8f916fecd0804064c88ddabda056  ffv1_fuzz2.avi
 $ ffmpeg -i ffv1_fuzz2.avi
 ffmpeg version N-55917-gc042684 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  1 2013 13:10:08 with gcc 4.7 (SUSE Linux)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 42.100 / 52. 42.100
   libavcodec     55. 29.100 / 55. 29.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [avi @ 0x17d70c0] Something went wrong during header parsing, I will
 ignore it and try to continue anyway.
 [ffv1 @ 0x17d7ba0] Cannot decode non-keyframe without valid keyframe
     Last message repeated 1 times
 [avi @ 0x17d70c0] decoding for stream 0 failed
 [avi @ 0x17d70c0] Could not find codec parameters for stream 0 (Video:
 ffv1 (FFV1 / 0x31564646), 320x240): unspecified pixel format
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 ffv1_fuzz2.avi: could not find codec parameters
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2923#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 13:22:30 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 11:22:30 -0000
Subject: [FFmpeg-trac] #2924(avcodec:open): ffv1: deadlock with 8 threads
In-Reply-To: <038.6ccc7094afdf75c16f4b7cd9e84b438d@avcodec.org>
References: <038.6ccc7094afdf75c16f4b7cd9e84b438d@avcodec.org>
Message-ID: <053.cf60f80a58a4564c58639b6a037ee958@avcodec.org>

#2924: ffv1: deadlock with 8 threads
--------------------------------------+-----------------------------------
             Reporter:  ami_stuff     |                    Owner:
                 Type:  defect        |                   Status:  open
             Priority:  important     |                Component:  avcodec
              Version:  git-master    |               Resolution:
             Keywords:  fv1 deadlock  |               Blocked By:
             Blocking:                |  Reproduced by developer:  1
Analyzed by developer:  0             |
--------------------------------------+-----------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => fv1 deadlock


Comment:

 {{{
 (gdb) r -i ffv1_dead.avi -f null -
 Starting program: ffmpeg_g -i ffv1_dead.avi -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib64/libthread_db.so.1".
 ffmpeg version N-55944-g7c18058 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  1 2013 13:14:38 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl --disable-indev=jack
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 30.100 / 55. 30.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, avi, from 'ffv1_dead.avi':
   Metadata:
     encoder         : Lavf55.13.101
   Duration: 00:00:12.64, start: 0.000000, bitrate: 5802 kb/s
     Stream #0:0: Video: ffv1 (FFV1 / 0x31564646), yuv410p, 320x240, 23.97
 tbr, 23.97 tbn, 23.97 tbc
 [New Thread 0x7ffff59eb700 (LWP 2425)]
 [New Thread 0x7ffff51ea700 (LWP 2426)]
 [New Thread 0x7ffff49e9700 (LWP 2427)]
 [New Thread 0x7ffff41e8700 (LWP 2428)]
 [New Thread 0x7ffff39e7700 (LWP 2430)]
 [New Thread 0x7ffff31e6700 (LWP 2431)]
 [New Thread 0x7ffff29e5700 (LWP 2432)]
 [New Thread 0x7ffff21e4700 (LWP 2433)]
 [New Thread 0x7ffff19e3700 (LWP 2434)]
 [New Thread 0x7ffff11e2700 (LWP 2435)]
 [New Thread 0x7ffff09e1700 (LWP 2436)]
 [New Thread 0x7ffff01e0700 (LWP 2437)]
 [New Thread 0x7fffef9df700 (LWP 2438)]
 [New Thread 0x7fffef1de700 (LWP 2439)]
 [New Thread 0x7fffee9dd700 (LWP 2440)]
 [New Thread 0x7fffee1dc700 (LWP 2441)]
 [New Thread 0x7fffed9db700 (LWP 2442)]
 [New Thread 0x7fffed1da700 (LWP 2443)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.15.100
     Stream #0:0: Video: rawvideo (YUV9 / 0x39565559), yuv410p, 320x240,
 q=2-31, 200 kb/s, 90k tbn, 23.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (ffv1 -> rawvideo)
 Press [q] to stop, [?] for help
 [ffv1 @ 0x16e0ea0] Invalid change of global parameters
 [ffv1 @ 0x16e1700] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x16e1f60] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x16e27c0] Cannot decode non-keyframe without valid keyframe
 [null @ 0x16edb80] Encoder did not produce proper pts, making some up.
 [ffv1 @ 0x16e3020] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x16ebd20] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x16ec440] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dfdc0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 6 times
 Program received signal SIGINT, Interrupt.
 0x00007ffff6ce88f4 in pthread_cond_wait@@GLIBC_2.3.2 () from
 /lib64/libpthread.so.0
 (gdb) bt
 #0  0x00007ffff6ce88f4 in pthread_cond_wait@@GLIBC_2.3.2 () from
 /lib64/libpthread.so.0
 #1  0x000000000092e9ab in ff_thread_decode_frame
 (avctx=avctx at entry=0x16e7360,
     picture=picture at entry=0x16e3a00,
 got_picture_ptr=got_picture_ptr at entry=0x7fffffffd7ec,
     avpkt=avpkt at entry=0x7fffffffd570) at libavcodec/pthread.c:631
 #2  0x00000000009d6d43 in avcodec_decode_video2 (avctx=0x16e7360,
     picture=picture at entry=0x16e3a00,
 got_picture_ptr=got_picture_ptr at entry=0x7fffffffd7ec,
     avpkt=avpkt at entry=0x7fffffffda50) at libavcodec/utils.c:1980
 #3  0x000000000046c3e0 in decode_video (ist=ist at entry=0x16ed7e0,
     pkt=pkt at entry=0x7fffffffda50,
 got_output=got_output at entry=0x7fffffffd7ec)
     at ffmpeg.c:1668
 #4  0x000000000046f6df in output_packet (pkt=0x7fffffffd9f0,
 ist=0x16ed7e0) at ffmpeg.c:1866
 #5  process_input (file_index=<optimized out>) at ffmpeg.c:3085
 #6  0x000000000045d850 in transcode_step () at ffmpeg.c:3181
 #7  transcode () at ffmpeg.c:3233
 #8  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3411
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2924#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 13:27:57 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 11:27:57 -0000
Subject: [FFmpeg-trac] #2923(undetermined:new): ffv1: invalid read
In-Reply-To: <038.0c14a964c7bee9aed20683b6332216b4@avcodec.org>
References: <038.0c14a964c7bee9aed20683b6332216b4@avcodec.org>
Message-ID: <053.c09d0892787cfcc145202a17e575fb95@avcodec.org>

#2923: ffv1: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  ffv1         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by ami_stuff):

 I have downloaded my own file and it looks it have a different md5sum than
 yours?

 {{{
 C:\>md5sum ffv1_fuzz2.avi
 155b887068bee4d7ed7016970fc72dd2 *ffv1_fuzz2.avi
 }}}

 {{{
 C:\>ffmpeg -i ffv1_fuzz2.avi -f null -
 ffmpeg version N-55934-g8349be8 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  1 2013 02:24:38 with gcc 4.5.0 (GCC) 20100414 (Fedora
 MinGW 4.5.
 0-1.fc14)
   configuration: --prefix=/var/www/users/research/ffmpeg/snapshots/build
 --arch=
 x86 --target-os=mingw32 --cross-prefix=i686-pc-mingw32- --cc='ccache i686
 -pc-min
 gw32-gcc' --enable-pthreads --enable-memalign-hack --enable-runtime-
 cpudetect --
 enable-cross-compile --enable-static --disable-shared --extra-
 libs='-lws2_32 -lw
 inmm -lpthread' --extra-cflags='--static
 -I/var/www/users/research/ffmpeg/snapsh
 ots/build/include' --extra-ldflags='-static
 -L/var/www/users/research/ffmpeg/sna
 pshots/build/lib' --enable-bzlib --enable-zlib --enable-gpl --enable-
 version3 --
 enable-nonfree --enable-libx264 --enable-libspeex --enable-libtheora
 --enable-li
 bvorbis --enable-libfaac --enable-libxvid --enable-libopencore-amrnb
 --enable-li
 bopencore-amrwb --enable-libmp3lame --enable-libfreetype --enable-libvpx
 --disab
 le-decoder=libvpx
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 29.100 / 55. 29.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [avi @ 0x204fa40] Something went wrong during header parsing, I will
 ignore it a
 nd try to continue anyway.
 [ffv1 @ 0x212e2c0] Cannot decode non-keyframe without valid keyframe
     Last message repeated 1 times
 [ffv1 @ 0x212e2c0] read_quant_table error
 Input #0, avi, from 'ffv1_fuzz2.avi':
   Metadata:
     encoder         : Lavf55.13.101
   Duration: 00:00:12.64, start: 0.000000, bitrate: 5802 kb/s
     Stream #0:0: Video: ffv1 (FFV1 / 0x31564646), yuv410p, 320x240, 23.98
 fps, 2
 3.97 tbr, 23.97 tbn, 23.97 tbc
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.15.100
     Stream #0:0: Video: rawvideo (YUV9 / 0x39565559), yuv410p, 320x240,
 q=2-31,
 200 kb/s, 90k tbn, 23.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (ffv1 -> rawvideo)
 Press [q] to stop, [?] for help
 [ffv1 @ 0x2127500] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2127920] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2137c20] read_quant_table error
 [ffv1 @ 0x2125600] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2120500] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x218e860] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2199000] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x21a3940] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Invalid change of global parameters
 [ffv1 @ 0x21ae280] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2127500] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2127920] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2137c20] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2125600] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2120500] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x218e860] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2199000] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x21a3940] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x21ae280] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2127500] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2127920] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2137c20] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2125600] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x2120500] Error while decoding stream #0:0: Invalid data found
 when pro
 cessing input
 Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 6 times
 [null @ 0x2141560] Encoder did not produce proper pts, making some up.
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2923#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 13:49:17 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 11:49:17 -0000
Subject: [FFmpeg-trac] #2923(avcodec:open): ffv1: invalid read
In-Reply-To: <038.0c14a964c7bee9aed20683b6332216b4@avcodec.org>
References: <038.0c14a964c7bee9aed20683b6332216b4@avcodec.org>
Message-ID: <053.4c1734616b4769cfa8310f4158f79eb7@avcodec.org>

#2923: ffv1: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  ffv1 crash   |               Blocked By:
  SIGSEGV regression                 |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:  ffv1 => ffv1 crash SIGSEGV regression


Comment:

 My first download was corrupted.
 {{{
 (gdb) r -threads 4 -i ffv1_fuzz2.avi -f null -
 Starting program: ffmpeg_g -threads 4 -i ffv1_fuzz2.avi -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib64/libthread_db.so.1".
 ffmpeg version N-55944-g7c18058 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  1 2013 13:14:38 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl --disable-indev=jack
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 30.100 / 55. 30.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [avi @ 0x16e6a20] Something went wrong during header parsing, I will
 ignore it and try to continue anyway.
 [ffv1 @ 0x16e7440] Cannot decode non-keyframe without valid keyframe
     Last message repeated 1 times
 [ffv1 @ 0x16e7440] read_quant_table error
 Input #0, avi, from 'ffv1_fuzz2.avi':
   Metadata:
     encoder         : Lavf55.13.101
   Duration: 00:00:12.64, start: 0.000000, bitrate: 5802 kb/s
     Stream #0:0: Video: ffv1 (FFV1 / 0x31564646), yuv410p, 320x240, 23.98
 fps, 23.97 tbr, 23.97 tbn, 23.97 tbc
 [New Thread 0x7ffff57e2700 (LWP 3092)]
 [New Thread 0x7ffff4fe1700 (LWP 3093)]
 [New Thread 0x7ffff47e0700 (LWP 3094)]
 [New Thread 0x7ffff3fdf700 (LWP 3095)]
 [New Thread 0x7ffff37de700 (LWP 3096)]
 [New Thread 0x7ffff2fdd700 (LWP 3097)]
 [New Thread 0x7ffff27dc700 (LWP 3098)]
 [New Thread 0x7ffff1fdb700 (LWP 3099)]
 [New Thread 0x7ffff17da700 (LWP 3100)]
 [New Thread 0x7ffff0fd9700 (LWP 3101)]
 [New Thread 0x7ffff07d8700 (LWP 3102)]
 [New Thread 0x7fffeffd7700 (LWP 3103)]
 [New Thread 0x7fffef7d6700 (LWP 3104)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.15.100
     Stream #0:0: Video: rawvideo (YUV9 / 0x39565559), yuv410p, 320x240,
 q=2-31, 200 kb/s, 90k tbn, 23.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (ffv1 -> rawvideo)
 Press [q] to stop, [?] for help
 [ffv1 @ 0x16d9f40] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x16dc780] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dcfe0] read_quant_table error
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dd840] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16d9f40] Cannot decode non-keyframe without valid keyframe
 [ffv1 @ 0x16dc780] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dcfe0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dd840] Invalid change of global parameters
 [ffv1 @ 0x16d9f40] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dc780] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dcfe0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dd840] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16d9f40] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dc780] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dcfe0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dd840] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16d9f40] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dc780] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dcfe0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dd840] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16d9f40] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dc780] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
 [ffv1 @ 0x16dcfe0] Cannot decode non-keyframe without valid keyframe
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [null @ 0x16e8880] Encoder did not produce proper pts, making some up.

 Program received signal SIGSEGV, Segmentation fault.
 [Switching to Thread 0x7ffff0fd9700 (LWP 3101)]
 0x00000000006b6acb in get_vlc_symbol (state=0x0, gb=0x1713898,
 bits=<optimized out>)
     at libavcodec/ffv1dec.c:74
 74          while (i < state->error_sum) { // FIXME: optimize
 (gdb) print state
 $1 = (VlcState * const) 0x0
 (gdb) disass $pc-32,$pc+32
 Dump of assembler code from 0x6b6aab to 0x6b6aeb:
    0x00000000006b6aab <decode_plane+1579>:      and    $0xc,%al
    0x00000000006b6aad <decode_plane+1581>:      xor    %ebp,%ebp
    0x00000000006b6aaf <decode_plane+1583>:      test   %ebx,%ebx
    0x00000000006b6ab1 <decode_plane+1585>:      jns    0x6b6792
 <decode_plane+786>
    0x00000000006b6ab7 <decode_plane+1591>:      movslq %edi,%rdi
    0x00000000006b6aba <decode_plane+1594>:      mov    0xa10(%rdx),%rcx
    0x00000000006b6ac1 <decode_plane+1601>:      lea    (%rdi,%rdi,2),%rsi
    0x00000000006b6ac5 <decode_plane+1605>:      lea    (%rcx,%rsi,2),%rdi
    0x00000000006b6ac9 <decode_plane+1609>:      xor    %esi,%esi
 => 0x00000000006b6acb <decode_plane+1611>:      movzwl 0x2(%rdi),%ebx
    0x00000000006b6acf <decode_plane+1615>:      movzbl 0x5(%rdi),%ecx
    0x00000000006b6ad3 <decode_plane+1619>:      movzwl %bx,%r8d
    0x00000000006b6ad7 <decode_plane+1623>:      cmp    %r8d,%ecx
    0x00000000006b6ada <decode_plane+1626>:      jge    0x6b6aea
 <decode_plane+1642>
    0x00000000006b6adc <decode_plane+1628>:      nopl   0x0(%rax)
    0x00000000006b6ae0 <decode_plane+1632>:      add    %ecx,%ecx
    0x00000000006b6ae2 <decode_plane+1634>:      add    $0x1,%esi
    0x00000000006b6ae5 <decode_plane+1637>:      cmp    %r8d,%ecx
    0x00000000006b6ae8 <decode_plane+1640>:      jl     0x6b6ae0
 <decode_plane+1632>
    0x00000000006b6aea <decode_plane+1642>:      mov    0x248(%r14),%r11d
 End of assembler dump.
 (gdb) info register
 rax            0x16dab72        23964530
 rbx            0xffffffff       4294967295
 rcx            0x0      0
 rdx            0x1714998        24201624
 rsi            0x0      0
 rdi            0x0      0
 rbp            0x0      0x0
 rsp            0x7ffff0fd8b40   0x7ffff0fd8b40
 r8             0x0      0
 r9             0x0      0
 r10            0x1      1
 r11            0x34910  215312
 r12            0x0      0
 r13            0x1713670        24196720
 r14            0x1713660        24196704
 r15            0x16da8e4        23963876
 rip            0x6b6acb 0x6b6acb <decode_plane+1611>
 eflags         0x10246  [ PF ZF IF RF ]
 cs             0x33     51
 ss             0x2b     43
 ds             0x0      0
 es             0x0      0
 fs             0x0      0
 gs             0x0      0
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2923#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 15:01:36 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 13:01:36 -0000
Subject: [FFmpeg-trac] #2925(undetermined:new): wmav2: deadlock with fuzzed
 file
Message-ID: <038.17b07ef646a2bc102dcc6a7d8f203cfa@avcodec.org>

#2925: wmav2: deadlock with fuzzed file
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 {{{
 (gdb) r -i ./wmav2_dead.wmv -vn -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-c042684/ffmpeg_g -i
 ./wmav2_dead.wmv -vn -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-c042684 Copyright (c) 2000-2013 the FFmpeg developers
   built on Aug 30 2013 20:55:53 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 42.100 / 52. 42.100
   libavcodec     55. 29.100 / 55. 29.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [asf @ 0x9104d60] ff asf bad header 8a  at:5440
 [asf @ 0x9104d60] ff asf skip 1218 (unknown stream)
 [asf @ 0x9104d60] unexpected packet_replic_size of 3
 [asf @ 0x9104d60] ff asf skip 1220 (unknown stream)
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] ff asf bad header 63  at:47698
 [asf @ 0x9104d60] invalid packet_length -1127480349 at:47702
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] ff asf skip 0 (unknown stream)
     Last message repeated 3 times
 [asf @ 0x9104d60] ff asf bad header 90  at:53712
 [asf @ 0x9104d60] invalid padsize 42126 at:53713
 [asf @ 0x9104d60] invalid padsize 1278 at:54964
 [asf @ 0x9104d60] ff asf bad header c4  at:57418
 [asf @ 0x9104d60] packet_replic_size 8519681 is invalid
 [asf @ 0x9104d60] ff asf bad header 10  at:122924
 [asf @ 0x9104d60] invalid padsize 27664 at:122925
 [asf @ 0x9104d60] ff asf bad header f3  at:188290
 [asf @ 0x9104d60] invalid packet_length -1513297106 at:188296
 [asf @ 0x9104d60] ff asf bad header d5  at:253418
 [asf @ 0x9104d60] invalid padsize 33353 at:253423
 [asf @ 0x9104d60] packet_frag_size is invalid (69-10)
 [asf @ 0x9104d60] ff asf bad header 0  at:319912
 [asf @ 0x9104d60] packet_replic_size 37457 is invalid
 [asf @ 0x9104d60] ff asf bad header 5a  at:321180
 [asf @ 0x9104d60] invalid padsize -293877938 at:321186
 [asf @ 0x9104d60] ff asf bad header a1  at:322470
 [asf @ 0x9104d60] packet_replic_size 74 is invalid
 [asf @ 0x9104d60] ff asf bad header 5d  at:323830
 [asf @ 0x9104d60] invalid padsize 316529875 at:323837
 [asf @ 0x9104d60] ff asf bad header 8  at:325292
 [asf @ 0x9104d60] packet_replic_size 52693 is invalid
 [asf @ 0x9104d60] ff asf bad header e6  at:326984
 [asf @ 0x9104d60] invalid packet_length 1529179864 at:326991
 [asf @ 0x9104d60] ff asf bad header de  at:329126
 [asf @ 0x9104d60] invalid padsize -1445783319 at:329135
 [asf @ 0x9104d60] ff asf bad header 7f  at:330938
 [asf @ 0x9104d60] invalid packet_length -1892764079 at:330949
 [asf @ 0x9104d60] ff asf bad header c2  at:333510
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] ff asf bad header d9  at:338408
 [asf @ 0x9104d60] invalid padsize 1188097748 at:338413
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] ff asf skip 1220 (unknown stream)
 [asf @ 0x9104d60] invalid padsize 5310 at:343418
 [asf @ 0x9104d60] ff asf bad header c  at:343428
 [asf @ 0x9104d60] packet_replic_size 54347 is invalid
 [asf @ 0x9104d60] ff asf bad header 44  at:344688
 [asf @ 0x9104d60] packet_obj_size invalid
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] invalid padsize 34608 at:355800
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] invalid padsize 1468 at:359512
 [asf @ 0x9104d60] ff asf bad header 80  at:363222
 [asf @ 0x9104d60] ff asf skip 1229 (unknown stream)
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] ff asf bad header 4  at:364466
 [asf @ 0x9104d60] ff asf skip 1225 (unknown stream)
 [asf @ 0x9104d60] ff asf bad header 0  at:365710
 [asf @ 0x9104d60] unexpected packet_replic_size of 2
 [asf @ 0x9104d60] ff asf bad header 35  at:366964
 [asf @ 0x9104d60] packet_replic_size 4736 is invalid
 [asf @ 0x9104d60] ff asf bad header b6  at:368248
 [asf @ 0x9104d60] invalid padsize 32900 at:368254
 [asf @ 0x9104d60] ff asf bad header 6d  at:369550
 [asf @ 0x9104d60] invalid packet_length 998078948 at:369556
 [asf @ 0x9104d60] ff asf bad header de  at:370916
 [asf @ 0x9104d60] invalid padsize 711446516 at:370925
 [asf @ 0x9104d60] ff asf bad header a1  at:372416
 [asf @ 0x9104d60] ff asf bad header 9f  at:374182
 [asf @ 0x9104d60] invalid padsize -1026936850 at:374189
 [asf @ 0x9104d60] ff asf bad header be  at:376476
 [asf @ 0x9104d60] invalid padsize 2055202886 at:376484
 [asf @ 0x9104d60] ff asf bad header c2  at:379316
 [asf @ 0x9104d60] freeing incomplete packet size 4962, new 23
 [asf @ 0x9104d60] packet_obj_size invalid
 [asf @ 0x9104d60] ff asf bad header 0  at:385528
 [asf @ 0x9104d60] ff asf skip 1229 (unknown stream)
 [asf @ 0x9104d60] ff asf bad header 48  at:386788
 [asf @ 0x9104d60] packet_replic_size 127541202 is invalid
 [asf @ 0x9104d60] ff asf bad header f2  at:420378
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] ff asf bad header ad  at:454098
 [asf @ 0x9104d60] invalid padsize 252 at:454101
 [asf @ 0x9104d60] ff asf bad header 52  at:488118
 [asf @ 0x9104d60] packet_replic_size 1811351201 is invalid
 [asf @ 0x9104d60] ff asf bad header 23  at:507954
 [asf @ 0x9104d60] packet_replic_size 63176 is invalid
 [asf @ 0x9104d60] invalid padsize 49516 at:509312
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] invalid padsize 49812 at:513026
 [asf @ 0x9104d60] invalid padsize -748944202 at:515502
 [asf @ 0x9104d60] ff asf bad header 83  at:519210
 [asf @ 0x9104d60] ff asf skip 0 (unknown stream)
     Last message repeated 1 times
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] invalid padsize 50913 at:525406
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] ff asf bad header 2a  at:530310
 [asf @ 0x9104d60] invalid padsize 233 at:530312
 [asf @ 0x9104d60] ff asf bad header 19  at:532706
 [asf @ 0x9104d60] invalid padsize 1397656782 at:532709
 [asf @ 0x9104d60] invalid padsize 276 at:534071
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] invalid padsize 39172 at:537785
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] packet fragment position invalid 1208017424,24 not in 2
 [asf @ 0x9104d60] ff asf bad header 99  at:546398
 [asf @ 0x9104d60] invalid padsize -549495214 at:546401
 [asf @ 0x9104d60] ff asf bad header 80  at:548922
 [asf @ 0x9104d60] ff asf skip 1229 (unknown stream)
 [asf @ 0x9104d60] packet_replic_size 169 is invalid
 [asf @ 0x9104d60] ff asf bad header 40  at:552656
 [asf @ 0x9104d60] packet_replic_size 512 is invalid
 [asf @ 0x9104d60] ff asf bad header 95  at:553920
 [asf @ 0x9104d60] invalid padsize 40953 at:553923
 [asf @ 0x9104d60] ff asf bad header 86  at:555196
 [asf @ 0x9104d60] packet_replic_size 57737 is invalid
 [asf @ 0x9104d60] ff asf bad header 60  at:556536
 [asf @ 0x9104d60] invalid packet_length 1569834841 at:556539
 [asf @ 0x9104d60] ff asf bad header cf  at:557948
 [asf @ 0x9104d60] packet_replic_size 152372822 is invalid
 [asf @ 0x9104d60] ff asf bad header b6  at:618384
 [asf @ 0x9104d60] invalid padsize 21489 at:618390
 [asf @ 0x9104d60] ff asf bad header 35  at:678564
 [asf @ 0x9104d60] invalid padsize 12003 at:678568
 [asf @ 0x9104d60] ff asf bad header 12  at:739496
 [asf @ 0x9104d60] invalid padsize 33388 at:739498
 [asf @ 0x9104d60] ff asf bad header 8c  at:799456
 [asf @ 0x9104d60] packet_replic_size 59592 is invalid
 [asf @ 0x9104d60] ff asf bad header 80  at:801164
 [asf @ 0x9104d60] packet_obj_size invalid
 [asf @ 0x9104d60] invalid padsize 1253 at:806430
 [asf @ 0x9104d60] ff asf skip 3 (unknown stream)
 [asf @ 0x9104d60] invalid padsize 896804030 at:812622
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] invalid padsize 33972 at:817572
 [asf @ 0x9104d60] packet_obj_size invalid
 [asf @ 0x9104d60] ff asf bad header 0  at:823780
 [asf @ 0x9104d60] ff asf skip 1229 (unknown stream)
 [asf @ 0x9104d60] ff asf bad header 35  at:825040
 [asf @ 0x9104d60] invalid padsize 10333 at:825044
 [asf @ 0x9104d60] ff asf bad header 69  at:825098
 [asf @ 0x9104d60] invalid packet_length -819551906 at:825102
 [asf @ 0x9104d60] ff asf bad header 10  at:825214
 [asf @ 0x9104d60] invalid padsize 57801 at:825215
 [asf @ 0x9104d60] ff asf bad header 13  at:825440
 [asf @ 0x9104d60] invalid padsize 52806 at:825442
 [asf @ 0x9104d60] ff asf bad header b3  at:825894
 [asf @ 0x9104d60] invalid padsize 11797 at:825897
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] ff asf bad header 83  at:829948
 [asf @ 0x9104d60] ff asf skip 0 (unknown stream)
 [asf @ 0x9104d60] invalid padsize 1278 at:831190
 [asf @ 0x9104d60] invalid padsize 15584 at:832430
 [asf @ 0x9104d60] invalid padsize 15784 at:834906
 [asf @ 0x9104d60] ff asf bad header 43  at:837368
 [asf @ 0x9104d60] ff asf skip 0 (unknown stream)
     Last message repeated 1 times
 [asf @ 0x9104d60] packet fragment position invalid 512,0 not in 0
 [asf @ 0x9104d60] ff asf skip 0 (unknown stream)
     Last message repeated 13 times
 [asf @ 0x9104d60] ff asf bad header a7  at:874962
 [asf @ 0x9104d60] packet_replic_size 209 is invalid
 [asf @ 0x9104d60] ff asf bad header 1f  at:876656
 [asf @ 0x9104d60] invalid padsize 473893035 at:876663
 [asf @ 0x9104d60] ff asf bad header d  at:878788
 [asf @ 0x9104d60] packet_frag_size is invalid (1111-9)
 [asf @ 0x9104d60] ff asf bad header 4f  at:880602
 [asf @ 0x9104d60] packet_obj_size invalid
 [asf @ 0x9104d60] ff asf bad non zero
 [asf @ 0x9104d60] packet_frag_size is invalid (36-10)
 [asf @ 0x9104d60] ff asf bad header 8  at:910438
 [asf @ 0x9104d60] packet_obj_size invalid
 [asf @ 0x9104d60] ff asf bad header f6  at:911714
 [asf @ 0x9104d60] invalid packet_length -381568174 at:911723
 [asf @ 0x9104d60] ff asf bad header 4c  at:913016
 [asf @ 0x9104d60] packet_obj_size invalid
 [asf @ 0x9104d60] ff asf bad header 5e  at:937480
 [asf @ 0x9104d60] invalid padsize -27015494 at:937489
 [asf @ 0x9104d60] ff asf bad header 18  at:961624
 [asf @ 0x9104d60] invalid padsize -377878436 at:961627
 [asf @ 0x9104d60] invalid padsize 1074 at:962087
 Guessed Channel Layout for  Input Stream #0.0 : mono
 Input #0, asf, from './wmav2_dead.wmv':
   Metadata:
     WMFSDKVersion   : 7.01.00.3055
     WMFSDKNeeded    : 0.0.0.0000
   Duration: 00:02:12.53, start: 0.192000, bitrate: 59 kb/s
     Stream #0:0: Audio: wmav2 (a[1][0][0] / 0x0161), 8000 Hz, mono, fltp,
 0 kb/s
     Stream #0:1: Video: mss1 (MSS1 / 0x3153534D), pal8, 1024x768, 48.92
 tbr, 1k tbn, 1k tbc
 [New Thread 0xb7dd1b70 (LWP 30691)]
 [New Thread 0xb75d1b70 (LWP 30692)]
 [New Thread 0xb6dd1b70 (LWP 30693)]
 [New Thread 0xb65d1b70 (LWP 30694)]
 [New Thread 0xb5dd1b70 (LWP 30695)]
 [New Thread 0xb55d1b70 (LWP 30696)]
 [New Thread 0xb4dd1b70 (LWP 30697)]
 [New Thread 0xb45d1b70 (LWP 30698)]
 [New Thread 0xb3dd1b70 (LWP 30699)]
 Output #0, null, to 'pipe:':
   Metadata:
     WMFSDKVersion   : 7.01.00.3055
     WMFSDKNeeded    : 0.0.0.0000
     encoder         : Lavf55.15.100
     Stream #0:0: Audio: pcm_s16le, 8000 Hz, mono, s16, 128 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (wmav2 -> pcm_s16le)
 Press [q] to stop, [?] for help
 Multiple frames in a packet from stream 0
 [null @ 0x9106ba0] Application provided invalid, non monotonically
 increasing dts to muxer in stream 0: 388800 >= 383040
 [null @ 0x9106ba0] Application provided invalid, non monotonically
 increasing dts to muxer in stream 0: 388800 >= 388800
 [wmav2 @ 0x9105620] overflow in spectral RLE, ignoring
     Last message repeated 5 times
 Program received signal SIGINT, Interrupt.
 wma_decode_block (s=s at entry=0x911d3e0) at libavcodec/wmadec.c:516
 516             total_gain += a;
 (gdb) bt
 #0  wma_decode_block (s=s at entry=0x911d3e0) at libavcodec/wmadec.c:516
 #1  0x0871a3f7 in wma_decode_frame (samples_offset=0, samples=0x9109be0,
     s=0x911d3e0) at libavcodec/wmadec.c:780
 #2  wma_decode_superframe (avctx=0x9105620, data=0x9109be0,
     got_frame_ptr=0xbffff504, avpkt=0xbffff218) at libavcodec/wmadec.c:918
 #3  0x086774f5 in avcodec_decode_audio4 (avctx=avctx at entry=0x9105620,
     frame=frame at entry=0x9109be0,
 got_frame_ptr=got_frame_ptr at entry=0xbffff504,
     avpkt=avpkt at entry=0xbffff750) at libavcodec/utils.c:2124
 #4  0x080b534a in decode_audio (ist=ist at entry=0x9106800,
     pkt=pkt at entry=0xbffff750, got_output=got_output at entry=0xbffff504)
     at ffmpeg.c:1526
 #5  0x080b8760 in output_packet (pkt=0xbffff6e8, ist=0x9106800)
     at ffmpeg.c:1863
 #6  process_input (file_index=2) at ffmpeg.c:3085
 #7  0x080a2e33 in transcode_step () at ffmpeg.c:3181
 #8  transcode () at ffmpeg.c:3233
 #9  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3411
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2925>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 16:38:14 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 14:38:14 -0000
Subject: [FFmpeg-trac] #2925(undetermined:open): wmav2: deadlock with
 fuzzed file
In-Reply-To: <038.17b07ef646a2bc102dcc6a7d8f203cfa@avcodec.org>
References: <038.17b07ef646a2bc102dcc6a7d8f203cfa@avcodec.org>
Message-ID: <053.6864bf3ca6f245bee9796b1bf8c0590b@avcodec.org>

#2925: wmav2: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  wmav2        |               Resolution:
  deadlock regression                |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => wmav2 deadlock regression
 * priority:  normal => important
 * version:  unspecified => git-master
 * status:  new => open
 * reproduced:  0 => 1


Comment:

 Regression since 1bdc212 / 8cfbbd9
 {{{
 (gdb) r -i wmav2_dead.wmv -vn -f null -
 Starting program: ffmpeg_g -i wmav2_dead.wmv -vn -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib64/libthread_db.so.1".
 ffmpeg version N-55950-g8901f48 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  1 2013 16:34:25 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl --disable-indev=jack
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 30.100 / 55. 30.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [asf @ 0x16e6880] ff asf bad header 8a  at:5440
 [asf @ 0x16e6880] ff asf skip 1218 (unknown stream)
 [asf @ 0x16e6880] unexpected packet_replic_size of 3
 [asf @ 0x16e6880] ff asf skip 1220 (unknown stream)
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] ff asf bad header 63  at:47698
 [asf @ 0x16e6880] invalid packet_length -1127480349 at:47702
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] ff asf skip 0 (unknown stream)
     Last message repeated 3 times
 [asf @ 0x16e6880] ff asf bad header 90  at:53712
 [asf @ 0x16e6880] invalid padsize 42126 at:53713
 [asf @ 0x16e6880] invalid padsize 1278 at:54964
 [asf @ 0x16e6880] ff asf bad header c4  at:57418
 [asf @ 0x16e6880] packet_replic_size 8519681 is invalid
 [asf @ 0x16e6880] ff asf bad header 10  at:122924
 [asf @ 0x16e6880] invalid padsize 27664 at:122925
 [asf @ 0x16e6880] ff asf bad header f3  at:188290
 [asf @ 0x16e6880] invalid packet_length -1513297106 at:188296
 [asf @ 0x16e6880] ff asf bad header d5  at:253418
 [asf @ 0x16e6880] invalid padsize 33353 at:253423
 [asf @ 0x16e6880] packet_frag_size is invalid (69-10)
 [asf @ 0x16e6880] ff asf bad header 0  at:319912
 [asf @ 0x16e6880] packet_replic_size 37457 is invalid
 [asf @ 0x16e6880] ff asf bad header 5a  at:321180
 [asf @ 0x16e6880] invalid padsize -293877938 at:321186
 [asf @ 0x16e6880] ff asf bad header a1  at:322470
 [asf @ 0x16e6880] packet_replic_size 74 is invalid
 [asf @ 0x16e6880] ff asf bad header 5d  at:323830
 [asf @ 0x16e6880] invalid padsize 316529875 at:323837
 [asf @ 0x16e6880] ff asf bad header 8  at:325292
 [asf @ 0x16e6880] packet_replic_size 52693 is invalid
 [asf @ 0x16e6880] ff asf bad header e6  at:326984
 [asf @ 0x16e6880] invalid packet_length 1529179864 at:326991
 [asf @ 0x16e6880] ff asf bad header de  at:329126
 [asf @ 0x16e6880] invalid padsize -1445783319 at:329135
 [asf @ 0x16e6880] ff asf bad header 7f  at:330938
 [asf @ 0x16e6880] invalid packet_length -1892764079 at:330949
 [asf @ 0x16e6880] ff asf bad header c2  at:333510
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] ff asf bad header d9  at:338408
 [asf @ 0x16e6880] invalid padsize 1188097748 at:338413
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] ff asf skip 1220 (unknown stream)
 [asf @ 0x16e6880] invalid padsize 5310 at:343418
 [asf @ 0x16e6880] ff asf bad header c  at:343428
 [asf @ 0x16e6880] packet_replic_size 54347 is invalid
 [asf @ 0x16e6880] ff asf bad header 44  at:344688
 [asf @ 0x16e6880] packet_obj_size invalid
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] invalid padsize 34608 at:355800
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] invalid padsize 1468 at:359512
 [asf @ 0x16e6880] ff asf bad header 80  at:363222
 [asf @ 0x16e6880] ff asf skip 1229 (unknown stream)
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] ff asf bad header 4  at:364466
 [asf @ 0x16e6880] ff asf skip 1225 (unknown stream)
 [asf @ 0x16e6880] ff asf bad header 0  at:365710
 [asf @ 0x16e6880] unexpected packet_replic_size of 2
 [asf @ 0x16e6880] ff asf bad header 35  at:366964
 [asf @ 0x16e6880] packet_replic_size 4736 is invalid
 [asf @ 0x16e6880] ff asf bad header b6  at:368248
 [asf @ 0x16e6880] invalid padsize 32900 at:368254
 [asf @ 0x16e6880] ff asf bad header 6d  at:369550
 [asf @ 0x16e6880] invalid packet_length 998078948 at:369556
 [asf @ 0x16e6880] ff asf bad header de  at:370916
 [asf @ 0x16e6880] invalid padsize 711446516 at:370925
 [asf @ 0x16e6880] ff asf bad header a1  at:372416
 [asf @ 0x16e6880] ff asf bad header 9f  at:374182
 [asf @ 0x16e6880] invalid padsize -1026936850 at:374189
 [asf @ 0x16e6880] ff asf bad header be  at:376476
 [asf @ 0x16e6880] invalid padsize 2055202886 at:376484
 [asf @ 0x16e6880] ff asf bad header c2  at:379316
 [asf @ 0x16e6880] freeing incomplete packet size 4962, new 23
 [asf @ 0x16e6880] packet_obj_size invalid
 [asf @ 0x16e6880] ff asf bad header 0  at:385528
 [asf @ 0x16e6880] ff asf skip 1229 (unknown stream)
 [asf @ 0x16e6880] ff asf bad header 48  at:386788
 [asf @ 0x16e6880] packet_replic_size 127541202 is invalid
 [asf @ 0x16e6880] ff asf bad header f2  at:420378
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] ff asf bad header ad  at:454098
 [asf @ 0x16e6880] invalid padsize 252 at:454101
 [asf @ 0x16e6880] ff asf bad header 52  at:488118
 [asf @ 0x16e6880] packet_replic_size 1811351201 is invalid
 [asf @ 0x16e6880] ff asf bad header 23  at:507954
 [asf @ 0x16e6880] packet_replic_size 63176 is invalid
 [asf @ 0x16e6880] invalid padsize 49516 at:509312
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] invalid padsize 49812 at:513026
 [asf @ 0x16e6880] invalid padsize -748944202 at:515502
 [asf @ 0x16e6880] ff asf bad header 83  at:519210
 [asf @ 0x16e6880] ff asf skip 0 (unknown stream)
     Last message repeated 1 times
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] invalid padsize 50913 at:525406
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] ff asf bad header 2a  at:530310
 [asf @ 0x16e6880] invalid padsize 233 at:530312
 [asf @ 0x16e6880] ff asf bad header 19  at:532706
 [asf @ 0x16e6880] invalid padsize 1397656782 at:532709
 [asf @ 0x16e6880] invalid padsize 276 at:534071
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] invalid padsize 39172 at:537785
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] packet fragment position invalid 1208017424,24 not in 2
 [asf @ 0x16e6880] ff asf bad header 99  at:546398
 [asf @ 0x16e6880] invalid padsize -549495214 at:546401
 [asf @ 0x16e6880] ff asf bad header 80  at:548922
 [asf @ 0x16e6880] ff asf skip 1229 (unknown stream)
 [asf @ 0x16e6880] packet_replic_size 169 is invalid
 [asf @ 0x16e6880] ff asf bad header 40  at:552656
 [asf @ 0x16e6880] packet_replic_size 512 is invalid
 [asf @ 0x16e6880] ff asf bad header 95  at:553920
 [asf @ 0x16e6880] invalid padsize 40953 at:553923
 [asf @ 0x16e6880] ff asf bad header 86  at:555196
 [asf @ 0x16e6880] packet_replic_size 57737 is invalid
 [asf @ 0x16e6880] ff asf bad header 60  at:556536
 [asf @ 0x16e6880] invalid packet_length 1569834841 at:556539
 [asf @ 0x16e6880] ff asf bad header cf  at:557948
 [asf @ 0x16e6880] packet_replic_size 152372822 is invalid
 [asf @ 0x16e6880] ff asf bad header b6  at:618384
 [asf @ 0x16e6880] invalid padsize 21489 at:618390
 [asf @ 0x16e6880] ff asf bad header 35  at:678564
 [asf @ 0x16e6880] invalid padsize 12003 at:678568
 [asf @ 0x16e6880] ff asf bad header 12  at:739496
 [asf @ 0x16e6880] invalid padsize 33388 at:739498
 [asf @ 0x16e6880] ff asf bad header 8c  at:799456
 [asf @ 0x16e6880] packet_replic_size 59592 is invalid
 [asf @ 0x16e6880] ff asf bad header 80  at:801164
 [asf @ 0x16e6880] packet_obj_size invalid
 [asf @ 0x16e6880] invalid padsize 1253 at:806430
 [asf @ 0x16e6880] ff asf skip 3 (unknown stream)
 [asf @ 0x16e6880] invalid padsize 896804030 at:812622
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] invalid padsize 33972 at:817572
 [asf @ 0x16e6880] packet_obj_size invalid
 [asf @ 0x16e6880] ff asf bad header 0  at:823780
 [asf @ 0x16e6880] ff asf skip 1229 (unknown stream)
 [asf @ 0x16e6880] ff asf bad header 35  at:825040
 [asf @ 0x16e6880] invalid padsize 10333 at:825044
 [asf @ 0x16e6880] ff asf bad header 69  at:825098
 [asf @ 0x16e6880] invalid packet_length -819551906 at:825102
 [asf @ 0x16e6880] ff asf bad header 10  at:825214
 [asf @ 0x16e6880] invalid padsize 57801 at:825215
 [asf @ 0x16e6880] ff asf bad header 13  at:825440
 [asf @ 0x16e6880] invalid padsize 52806 at:825442
 [asf @ 0x16e6880] ff asf bad header b3  at:825894
 [asf @ 0x16e6880] invalid padsize 11797 at:825897
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] ff asf bad header 83  at:829948
 [asf @ 0x16e6880] ff asf skip 0 (unknown stream)
 [asf @ 0x16e6880] invalid padsize 1278 at:831190
 [asf @ 0x16e6880] invalid padsize 15584 at:832430
 [asf @ 0x16e6880] invalid padsize 15784 at:834906
 [asf @ 0x16e6880] ff asf bad header 43  at:837368
 [asf @ 0x16e6880] ff asf skip 0 (unknown stream)
     Last message repeated 1 times
 [asf @ 0x16e6880] packet fragment position invalid 512,0 not in 0
 [asf @ 0x16e6880] ff asf skip 0 (unknown stream)
     Last message repeated 13 times
 [asf @ 0x16e6880] ff asf bad header a7  at:874962
 [asf @ 0x16e6880] packet_replic_size 209 is invalid
 [asf @ 0x16e6880] ff asf bad header 1f  at:876656
 [asf @ 0x16e6880] invalid padsize 473893035 at:876663
 [asf @ 0x16e6880] ff asf bad header d  at:878788
 [asf @ 0x16e6880] packet_frag_size is invalid (1111-9)
 [asf @ 0x16e6880] ff asf bad header 4f  at:880602
 [asf @ 0x16e6880] packet_obj_size invalid
 [asf @ 0x16e6880] ff asf bad non zero
 [asf @ 0x16e6880] packet_frag_size is invalid (36-10)
 [asf @ 0x16e6880] ff asf bad header 8  at:910438
 [asf @ 0x16e6880] packet_obj_size invalid
 [asf @ 0x16e6880] ff asf bad header f6  at:911714
 [asf @ 0x16e6880] invalid packet_length -381568174 at:911723
 [asf @ 0x16e6880] ff asf bad header 4c  at:913016
 [asf @ 0x16e6880] packet_obj_size invalid
 [asf @ 0x16e6880] ff asf bad header 5e  at:937480
 [asf @ 0x16e6880] invalid padsize -27015494 at:937489
 [asf @ 0x16e6880] ff asf bad header 18  at:961624
 [asf @ 0x16e6880] invalid padsize -377878436 at:961627
 [asf @ 0x16e6880] invalid padsize 1074 at:962087
 Guessed Channel Layout for  Input Stream #0.0 : mono
 Input #0, asf, from 'wmav2_dead.wmv':
   Metadata:
     WMFSDKVersion   : 7.01.00.3055
     WMFSDKNeeded    : 0.0.0.0000
   Duration: 00:02:12.53, start: 0.192000, bitrate: 59 kb/s
     Stream #0:0: Audio: wmav2 (a[1][0][0] / 0x0161), 8000 Hz, mono, fltp,
 0 kb/s
     Stream #0:1: Video: mss1 (MSS1 / 0x3153534D), pal8, 1024x768, 48.92
 tbr, 1k tbn, 1k tbc
 [New Thread 0x7ffff59eb700 (LWP 7009)]
 [New Thread 0x7ffff51ea700 (LWP 7010)]
 [New Thread 0x7ffff49e9700 (LWP 7011)]
 [New Thread 0x7ffff41e8700 (LWP 7012)]
 [New Thread 0x7ffff39e7700 (LWP 7013)]
 [New Thread 0x7ffff31e6700 (LWP 7014)]
 [New Thread 0x7ffff29e5700 (LWP 7015)]
 [New Thread 0x7ffff21e4700 (LWP 7016)]
 [New Thread 0x7ffff19e3700 (LWP 7017)]
 Output #0, null, to 'pipe:':
   Metadata:
     WMFSDKVersion   : 7.01.00.3055
     WMFSDKNeeded    : 0.0.0.0000
     encoder         : Lavf55.15.100
     Stream #0:0: Audio: pcm_s16le, 8000 Hz, mono, s16, 128 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (wmav2 -> pcm_s16le)
 Press [q] to stop, [?] for help
 Multiple frames in a packet from stream 0
 [null @ 0x16e8ec0] Application provided invalid, non monotonically
 increasing dts to muxer in stream 0: 388800 >= 383040
 [null @ 0x16e8ec0] Application provided invalid, non monotonically
 increasing dts to muxer in stream 0: 388800 >= 388800
 [wmav2 @ 0x16e7420] overflow in spectral RLE, ignoring
     Last message repeated 5 times
 Program received signal SIGINT, Interrupt.
 get_bits (n=7, s=0x170bec8) at libavcodec/get_bits.h:261
 261         tmp = SHOW_UBITS(re, s, n);
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2925#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 16:41:06 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 14:41:06 -0000
Subject: [FFmpeg-trac] #2925(avcodec:open): wmav2: deadlock with fuzzed
 file
In-Reply-To: <038.17b07ef646a2bc102dcc6a7d8f203cfa@avcodec.org>
References: <038.17b07ef646a2bc102dcc6a7d8f203cfa@avcodec.org>
Message-ID: <053.988dbd73de3a30ead74f86bd187107ec@avcodec.org>

#2925: wmav2: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  wmav2        |               Blocked By:
  deadlock regression                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * component:  undetermined => avcodec


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2925#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 19:23:52 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 17:23:52 -0000
Subject: [FFmpeg-trac] #2904(FFplay:open): ffplay: png apic doesn't
 display anymore
In-Reply-To: <038.fcdef36b9adffd31f82652fa36243aa1@avcodec.org>
References: <038.fcdef36b9adffd31f82652fa36243aa1@avcodec.org>
Message-ID: <053.a3cbdb3fe77840e878b5c62885b61790@avcodec.org>

#2904: ffplay: png apic doesn't display anymore
------------------------------------+----------------------------------
             Reporter:  ami_stuff   |                    Owner:  cus
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  FFplay
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  1           |
------------------------------------+----------------------------------
Changes (by cus):

 * analyzed:  0 => 1
 * owner:   => cus
 * reproduced:  0 => 1


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2904#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 23:37:03 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 21:37:03 -0000
Subject: [FFmpeg-trac] #2923(avcodec:closed): ffv1: invalid read
In-Reply-To: <038.0c14a964c7bee9aed20683b6332216b4@avcodec.org>
References: <038.0c14a964c7bee9aed20683b6332216b4@avcodec.org>
Message-ID: <053.a2369b221b2a41e0238f603f82af450e@avcodec.org>

#2923: ffv1: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  ffv1 crash   |               Blocked By:
  SIGSEGV regression                 |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in 21dc3a3cc23c624630a4379f08a6efe0230de37a

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2923#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 23:52:05 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 21:52:05 -0000
Subject: [FFmpeg-trac] #2924(avcodec:closed): ffv1: deadlock with 8
 threads
In-Reply-To: <038.6ccc7094afdf75c16f4b7cd9e84b438d@avcodec.org>
References: <038.6ccc7094afdf75c16f4b7cd9e84b438d@avcodec.org>
Message-ID: <053.b1b4e4cfada48b825bb671dd529d7a90@avcodec.org>

#2924: ffv1: deadlock with 8 threads
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  fv1          |  worksforme
  deadlock                           |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => worksforme


Comment:

 It appears my fix for #2923 fixed this too, please reopen if you can still
 reproduce an issue.
 I could reproduce it with therads 9 and an old checkout

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2924#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  1 23:52:57 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 01 Sep 2013 21:52:57 -0000
Subject: [FFmpeg-trac] #2924(avcodec:closed): ffv1: deadlock with 8
 threads
In-Reply-To: <038.6ccc7094afdf75c16f4b7cd9e84b438d@avcodec.org>
References: <038.6ccc7094afdf75c16f4b7cd9e84b438d@avcodec.org>
Message-ID: <053.c5692872b14146272ad93d4826f4d45e@avcodec.org>

#2924: ffv1: deadlock with 8 threads
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  ffv1         |  worksforme
  deadlock                           |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * keywords:  fv1 deadlock => ffv1 deadlock


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2924#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 02:56:23 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 00:56:23 -0000
Subject: [FFmpeg-trac] #2927(undetermined:new): h264: deadlock with fuzzed
 file (when threads > 1)
Message-ID: <038.94b57978d6de8239025d885ea0a019f9@avcodec.org>

#2927: h264: deadlock with fuzzed file (when threads > 1)
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 {{{
 knoppix at Microknoppix:/media/sdb1$ gdb ffmpeg-HEAD-c042684/ffmpeg_g
 GNU gdb (GDB) 7.4.1-debian
 Copyright (C) 2012 Free Software Foundation, Inc.
 License GPLv3+: GNU GPL version 3 or later
 <http://gnu.org/licenses/gpl.html>
 This is free software: you are free to change and redistribute it.
 There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
 and "show warranty" for details.
 This GDB was configured as "i486-linux-gnu".
 For bug reporting instructions, please see:
 <http://www.gnu.org/software/gdb/bugs/>...
 Reading symbols from /media/sdb1/ffmpeg-HEAD-c042684/ffmpeg_g...done.
 (gdb) r -i ./h264_dead.avi -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-c042684/ffmpeg_g -i
 ./h264_dead.avi -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-c042684 Copyright (c) 2000-2013 the FFmpeg developers
   built on Aug 30 2013 20:55:53 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 42.100 / 52. 42.100
   libavcodec     55. 29.100 / 55. 29.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [h264 @ 0x9105640] missing picture in access unit with size 1103
 [h264 @ 0x9105640] missing picture in access unit with size 8679
 [h264 @ 0x9105640] missing picture in access unit with size 11231
 [h264 @ 0x9105640] missing picture in access unit with size 6734
 [h264 @ 0x9105640] missing picture in access unit with size 8321
 [h264 @ 0x9105640] missing picture in access unit with size 5562
 [h264 @ 0x9105640] missing picture in access unit with size 1065
 [h264 @ 0x9105640] missing picture in access unit with size 10464
 [h264 @ 0x9105640] missing picture in access unit with size 1689
 Input #0, avi, from './h264_dead.avi':
   Metadata:
     encoder         : Lavf55.15.100
   Duration: 00:00:15.13, start: 0.000000, bitrate: 578 kb/s
     Stream #0:0: Video: h264 (High 4:4:4 Predictive) (H264 / 0x34363248),
 gbrp, 320x240, 15 fps, 15 tbr, 15 tbn, 30 tbc
 [New Thread 0xb7c64b70 (LWP 4530)]
 [New Thread 0xb7464b70 (LWP 4531)]
 [New Thread 0xb6c64b70 (LWP 4532)]
 [New Thread 0xb6464b70 (LWP 4533)]
 [New Thread 0xb5c64b70 (LWP 4534)]
 [New Thread 0xb5464b70 (LWP 4535)]
 [New Thread 0xb4c64b70 (LWP 4536)]
 [New Thread 0xb4464b70 (LWP 4537)]
 [New Thread 0xb3c64b70 (LWP 4538)]
 [New Thread 0xb3464b70 (LWP 4539)]
 [New Thread 0xb2c64b70 (LWP 4540)]
 [New Thread 0xb2464b70 (LWP 4541)]
 [New Thread 0xb1c64b70 (LWP 4542)]
 [New Thread 0xb1464b70 (LWP 4543)]
 [New Thread 0xb0c64b70 (LWP 4544)]
 [New Thread 0xb0464b70 (LWP 4545)]
 [New Thread 0xafc64b70 (LWP 4546)]
 [New Thread 0xaf464b70 (LWP 4547)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.15.100
     Stream #0:0: Video: rawvideo (G3[0][8] / 0x8003347), gbrp, 320x240,
 q=2-31, 200 kb/s, 90k tbn, 15 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (h264 -> rawvideo)
 Press [q] to stop, [?] for help
 [h264 @ 0x910bfe0] non-existing PPS 1 referenced
 [h264 @ 0x910bfe0] decode_slice_header error
 [h264 @ 0x910bfe0] QP 56 out of range
 [h264 @ 0x910bfe0] decode_slice_header error
 [h264 @ 0x910bfe0] top block unavailable for requested intra mode at 3 0
 [h264 @ 0x910bfe0] error while decoding MB 3 0, bytestream (10726)
 [h264 @ 0x910bfe0] Reference 3 >= 2
 [h264 @ 0x910bfe0] error while decoding MB 4 0, bytestream (1601)
 [h264 @ 0x910bfe0] Reference 4 >= 2
 [h264 @ 0x910bfe0] error while decoding MB 10 0, bytestream (693)
 [h264 @ 0x910bfe0] Reference 2 >= 2
 [h264 @ 0x910bfe0] error while decoding MB 1 1, bytestream (2331)
 [h264 @ 0x910bfe0] abs_diff_pic_num overflow
 [h264 @ 0x910bfe0] decode_slice_header error
 [h264 @ 0x9178d20] mmco: unref short failure
 [h264 @ 0x9178d20] number of reference frames (0+5) exceeds max (4;
 probably corrupt input), discarding one
 [h264 @ 0x9178d20] Reference 4 >= 2
 [h264 @ 0x9178d20] error while decoding MB 10 0, bytestream (1703)
 [h264 @ 0x9178d20] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x91792e0] cabac_init_idc overflow
 [h264 @ 0x91792e0] decode_slice_header error
 [h264 @ 0x91792e0] Reference 2 >= 2
 [h264 @ 0x91792e0] error while decoding MB 6 1, bytestream (360)
 [h264 @ 0x91792e0] reference picture missing during reorder
     Last message repeated 1 times
 [h264 @ 0x91792e0] Missing reference picture, default is 65568
     Last message repeated 1 times
 [h264 @ 0x91792e0] Reference 4 >= 4
 [h264 @ 0x91792e0] error while decoding MB 17 0, bytestream (13152)
 [h264 @ 0x91792e0] reference picture missing during reorder
 [h264 @ 0x91792e0] reference count overflow
 [h264 @ 0x91792e0] decode_slice_header error
 [h264 @ 0x91792e0] reference picture missing during reorder
 [h264 @ 0x91792e0] Missing reference picture, default is 65572
 [h264 @ 0x91792e0] top block unavailable for requested intra mode at 11 0
 [h264 @ 0x91792e0] error while decoding MB 11 0, bytestream (11808)
 [h264 @ 0x91792e0] Reference 2 >= 2
 [h264 @ 0x91792e0] error while decoding MB 14 1, bytestream (307)
 [h264 @ 0x91792e0] top block unavailable for requested intra4x4 mode -1 at
 3 0
 [h264 @ 0x91792e0] error while decoding MB 3 0, bytestream (10492)
 [h264 @ 0x91792e0] Reference 2 >= 2
 [h264 @ 0x91792e0] error while decoding MB 12 0, bytestream (181)
 [h264 @ 0x91792e0] deblocking_filter_idc 11 out of range
 [h264 @ 0x91792e0] decode_slice_header error
 [h264 @ 0x91792e0] error while decoding MB 0 8, bytestream (-22)
 [h264 @ 0x91792e0] Reference 5 >= 4
 [h264 @ 0x91792e0] error while decoding MB 8 2, bytestream (9678)
 [h264 @ 0x91792e0] Reference 7 >= 4
 [h264 @ 0x91792e0] error while decoding MB 10 0, bytestream (10828)
 [h264 @ 0x91792e0] cabac_init_idc overflow
 [h264 @ 0x91792e0] decode_slice_header error
 [h264 @ 0x91792e0] Reference 4 >= 4
 [h264 @ 0x91792e0] error while decoding MB 18 0, bytestream (8021)
 [h264 @ 0x91792e0] Reference 4 >= 4
 [h264 @ 0x91792e0] error while decoding MB 2 2, bytestream (9879)
 [h264 @ 0x91792e0] Reference 5 >= 2
 [h264 @ 0x91792e0] error while decoding MB 13 0, bytestream (1241)
 [h264 @ 0x91792e0] slice type too large (24) at 16 7
 [h264 @ 0x91792e0] decode_slice_header error
 [h264 @ 0x91792e0] illegal reordering_of_pic_nums_idc
 [h264 @ 0x91792e0] decode_slice_header error
 [h264 @ 0x91792e0] Reference 2 >= 2
 [h264 @ 0x91792e0] error while decoding MB 0 2, bytestream (1307)
 [h264 @ 0x91792e0] gray chroma
 [h264 @ 0x91792e0] error while decoding MB 3 0, bytestream (10724)
 [h264 @ 0x91792e0] Reference 2 >= 2
 [h264 @ 0x91792e0] error while decoding MB 14 1, bytestream (873)
 [h264 @ 0x91792e0] top block unavailable for requested intra mode at 14 0
 [h264 @ 0x91792e0] error while decoding MB 14 0, bytestream (12743)
 [h264 @ 0x91792e0] cabac_init_idc overflow
 [h264 @ 0x91792e0] decode_slice_header error
 [h264 @ 0x91792e0] Reference 2 >= 2
 [h264 @ 0x91792e0] error while decoding MB 14 1, bytestream (2085)
 [h264 @ 0x91792e0] Reference 5 >= 4
 [h264 @ 0x91792e0] error while decoding MB 10 0, bytestream (10480)
 [h264 @ 0x91792e0] Reference 2 >= 2
 [h264 @ 0x91792e0] error while decoding MB 6 4, bytestream (1310)
 [h264 @ 0x91792e0] reference overflow 59 > 15 or 0 > 15
 [h264 @ 0x91792e0] decode_slice_header error
 [h264 @ 0x91792e0] concealing 296 DC, 296 AC, 296 MV errors in P frame
 [h264 @ 0x9179880] no frame!
 [h264 @ 0x9179e20] top block unavailable for requested intra4x4 mode -1 at
 19 0
 [h264 @ 0x9179e20] error while decoding MB 19 0, bytestream (8243)
 [h264 @ 0x9179e20] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x917a4a0] left block unavailable for requested intra4x4 mode -1
 at 0 4
 [h264 @ 0x917a4a0] error while decoding MB 0 4, bytestream (10409)
 [h264 @ 0x917a4a0] concealing 269 DC, 269 AC, 269 MV errors in P frame
 [h264 @ 0x919df80] Reference 4 >= 2
 [h264 @ 0x919df80] error while decoding MB 2 1, bytestream (2048)
 [h264 @ 0x919df80] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x910cf20] no frame!
 [h264 @ 0x919e540] Reference 6 >= 4
 [h264 @ 0x919e540] error while decoding MB 0 0, bytestream (7880)
 [null @ 0x9109c40] Encoder did not produce proper pts, making some up.
 [h264 @ 0x919e540] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x910bfe0] Reference 7 >= 4
 [h264 @ 0x910bfe0] error while decoding MB 1 0, bytestream (7926)
 [h264 @ 0x910bfe0] concealing 300 DC, 300 AC, 300 MV errors in P frame
 Error while decoding stream #0:0: Invalid data found when processing input
 [h264 @ 0x9178d20] Reference 7 >= 4
 [h264 @ 0x9178d20] error while decoding MB 3 0, bytestream (5916)
 [h264 @ 0x9178d20] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x91792e0] Reference 4 >= 4
 [h264 @ 0x91792e0] error while decoding MB 1 0, bytestream (10583)
 [h264 @ 0x91792e0] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x9179880] Reference 3 >= 2
 [h264 @ 0x9179880] error while decoding MB 6 0, bytestream (2737)
 [h264 @ 0x9179880] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x9179e20] Reference 4 >= 4
 [h264 @ 0x9179e20] error while decoding MB 6 1, bytestream (8959)
 [h264 @ 0x9179e20] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x917a4a0] no frame!
 Error while decoding stream #0:0: Invalid data found when processing input
 [h264 @ 0x919e540] no frame!
 [h264 @ 0x919df80] [h264 @ 0x910cf20] concealing 279 DC, 279 AC, 279 MV
 errors in B frame
 [h264 @ 0x910bfe0] reference picture missing during reorder
 [h264 @ 0x910bfe0] Missing reference picture, default is 65608
 concealing 37 DC, 37 AC, 37 MV errors in B frame
 [h264 @ 0x9178d20] no frame!
 [h264 @ 0x910bfe0] Reference 4 >= 4
 [h264 @ 0x910bfe0] error while decoding MB 13 1, bytestream (3748)
 [h264 @ 0x910bfe0] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x91792e0] Reference 5 >= 4
 [h264 @ 0x91792e0] error while decoding MB 9 0, bytestream (12487)
 [h264 @ 0x9179880] Reference 5 >= 2
 [h264 @ 0x9179880] error while decoding MB 16 0, bytestream (2936)
 [h264 @ 0x9179880] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x9179e20] gray chroma
 [h264 @ 0x9179e20] error while decoding MB 2 1, bytestream (5927)
 Error while decoding stream #0:0: Invalid data found when processing input
 [h264 @ 0x9179e20] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x91792e0] concealing 300 DC, 300 AC, 300 MV errors in P frame
 Error while decoding stream #0:0: Invalid data found when processing input
 [h264 @ 0x917a4a0] Reference 5 >= 5
 [h264 @ 0x917a4a0] error while decoding MB 14 2, bytestream (8721)
 [h264 @ 0x910cf20] no frame!
 [h264 @ 0x917a4a0] concealing 295 DC, 295 AC, 295 MV errors in P frame
 [h264 @ 0x919e540] Reference 4 >= 4
 [h264 @ 0x910bfe0] [h264 @ 0x919df80] Reference 2 >= 2
 [h264 @ 0x919df80] error while decoding MB 9 0, bytestream (2680)
 [h264 @ 0x919df80] Error while decoding stream #0:0: Invalid data found
 when processing input
 cabac_init_idc overflow
 [h264 @ 0x910bfe0] decode_slice_header error
 concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x919e540] [h264 @ 0x9178d20] number of reference frames (0+5)
 exceeds max (4; probably corrupt input), discarding one
 error while decoding MB 6 0, bytestream (9375)
 [h264 @ 0x9178d20] [h264 @ 0x919e540] concealing 300 DC, 300 AC, 300 MV
 errors in P frame
 reference count overflow
 [h264 @ 0x9178d20] decode_slice_header error
 [h264 @ 0x91792e0] number of reference frames (0+5) exceeds max (4;
 probably corrupt input), discarding one
 [h264 @ 0x91792e0] Reference 4 >= 2
 [h264 @ 0x91792e0] error while decoding MB 11 0, bytestream (3585)
 [h264 @ 0x91792e0] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x919df80] no frame!
 [h264 @ 0x9179880] Reference 6 >= 5
 [h264 @ 0x9179880] error while decoding MB 18 2, bytestream (10420)
 [h264 @ 0x9179880] concealing 291 DC, 291 AC, 291 MV errors in P frame
 [h264 @ 0x917a4a0] concealing 284 DC, 284 AC, 284 MV errors in P frame
 [h264 @ 0x9179e20] Reference 2 >= 2
 [h264 @ 0x9179e20] error while decoding MB 5 1, bytestream (3546)
 [h264 @ 0x9179e20] concealing 300 DC, 300 AC, 300 MV errors in B frame
 Error while decoding stream #0:0: Invalid data found when processing input
 [h264 @ 0x919e540] gray chroma
 [h264 @ 0x919e540] error while decoding MB 0 9, bytestream (6936)
 [h264 @ 0x919e540] concealing 169 DC, 169 AC, 169 MV errors in P frame
 [h264 @ 0x910cf20] no frame!
 [h264 @ 0x91792e0] no frame!
 [h264 @ 0x9178d20] gray chroma
 [h264 @ 0x9179880] cabac_init_idc overflow
 [h264 @ 0x910bfe0] [h264 @ 0x9105640] [h264 @ 0x9178d20] Reference 3 >= 2
 missing picture in access unit with size 10641
 [h264 @ 0x910bfe0] error while decoding MB 19 3, bytestream (3571)
 error while decoding MB 4 6, bytestream (9067)
 [h264 @ 0x9178d20] concealing 225 DC, 225 AC, 225 MV errors in P frame
 [h264 @ 0x910bfe0] concealing 270 DC, 270 AC, 270 MV errors in B frame
 [h264 @ 0x9179880] decode_slice_header error
 [h264 @ 0x9179e20] number of reference frames (0+5) exceeds max (4;
 probably corrupt input), discarding one
 [h264 @ 0x9179e20] no frame!
 Error while decoding stream #0:0: Invalid data found when processing input
 [h264 @ 0x917a4a0] Reference 2 >= 2
 [h264 @ 0x917a4a0] error while decoding MB 7 0, bytestream (4077)
 Error while decoding stream #0:0: Invalid data found when processing input
 [h264 @ 0x919df80] Reference 5 >= 4
 [h264 @ 0x919df80] error while decoding MB 10 1, bytestream (7133)
 [h264 @ 0x917a4a0] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x919df80] concealing 300 DC, 300 AC, 300 MV errors in P frame
 Error while decoding stream #0:0: Invalid data found when processing input
 [h264 @ 0x919e540] concealing 276 DC, 276 AC, 276 MV errors in P frame
 [h264 @ 0x910bfe0] [h264 @ 0x910cf20] Reference 2 >= 2
 [h264 @ 0x910cf20] error while decoding MB 7 1, bytestream (3285)
 [h264 @ 0x910cf20] [h264 @ 0x9178d20] Missing reference picture, default
 is 65680
 [h264 @ 0x9178d20] illegal memory management control operation 10
 concealing 300 DC, 300 AC, 300 MV errors in B frame
 Reference 4 >= 4
 [h264 @ 0x910bfe0] error while decoding MB 6 0, bytestream (4654)
 [h264 @ 0x91792e0] number of reference frames (0+5) exceeds max (4;
 probably corrupt input), discarding one
 [h264 @ 0x910bfe0] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x9178d20] Reference 6 >= 6
 [h264 @ 0x9178d20] error while decoding MB 1 0, bytestream (6771)
 [h264 @ 0x9178d20] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x91792e0] concealing 298 DC, 298 AC, 298 MV errors in P frame
 Error while decoding stream #0:0: Invalid data found when processing input
 [h264 @ 0x9105640] missing picture in access unit with size 6254
 [h264 @ 0x9179e20] no frame!
 [h264 @ 0x9179880] Reference 5 >= 4
 [h264 @ 0x9179880] error while decoding MB 19 1, bytestream (6216)
 [h264 @ 0x917a4a0] Reference 5 >= 4
 [h264 @ 0x917a4a0] error while decoding MB 5 0, bytestream (5476)
 [h264 @ 0x9179880] [h264 @ 0x917a4a0] concealing 300 DC, 300 AC, 300 MV
 errors in P frame
 [h264 @ 0x919df80] Reference 4 >= 4
 [h264 @ 0x919df80] error while decoding MB 7 1, bytestream (7144)
 [h264 @ 0x919df80] slice type too large (24) at 7 1
 [h264 @ 0x919df80] decode_slice_header error
 [h264 @ 0x919df80] concealing 300 DC, 300 AC, 300 MV errors in P frame
 concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x919e540] Reference 4 >= 2
 [h264 @ 0x919e540] error while decoding MB 2 3, bytestream (2354)
 [h264 @ 0x919e540] concealing 287 DC, 287 AC, 287 MV errors in B frame
 [h264 @ 0x910cf20] Reference 4 >= 4
 [h264 @ 0x910cf20] error while decoding MB 18 0, bytestream (5674)
 [h264 @ 0x910cf20] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x9105640] missing picture in access unit with size 7549
 [h264 @ 0x910bfe0] no frame!
 [h264 @ 0x9178d20] abs_diff_pic_num overflow
 [h264 @ 0x9178d20] decode_slice_header error
 [h264 @ 0x91792e0] mmco: unref short failure
 [h264 @ 0x91792e0] number of reference frames (0+5) exceeds max (4;
 probably corrupt input), discarding one
 Error while decoding stream #0:0: Invalid data found when processing input
 [h264 @ 0x919df80] reference count overflow
 [h264 @ 0x91792e0] concealing 197 DC, 197 AC, 197 MV errors in P frame
 [h264 @ 0x919df80] decode_slice_header error
 [h264 @ 0x9179e20] Reference 8 >= 4
 [h264 @ 0x9179e20] [h264 @ 0x919e540] mmco: unref short failure
 error while decoding MB 5 0, bytestream (6335)
 [h264 @ 0x9179e20] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x910cf20] reference picture missing during reorder
 Error while decoding stream #0:0: Invalid data found when processing input
 [h264 @ 0x910cf20] reference picture missing during reorder
 [h264 @ 0x910cf20] Missing reference picture, default is 65728
 [h264 @ 0x917a4a0] concealing 92 DC, 92 AC, 92 MV errors in B frame
     Last message repeated 1 times
 [h264 @ 0x910cf20]     Last message repeated 1 times
 [h264 @ 0x919e540] Reference 2 >= 2
 [h264 @ 0x9179880] Reference 2 >= 2
 [h264 @ 0x9105640] missing picture in access unit with size 6317
 Reference 10 >= 4
 [h264 @ 0x910cf20] error while decoding MB 15 0, bytestream (1033)
 [h264 @ 0x9179880] error while decoding MB 16 8, bytestream (2083)
 [h264 @ 0x9179880] concealing 173 DC, 173 AC, 173 MV errors in B frame
 [h264 @ 0x910bfe0] Reference 3 >= 2
 [h264 @ 0x910bfe0] error while decoding MB 7 0, bytestream (2125)
 [h264 @ 0x910bfe0] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x9178d20] no frame!
 [h264 @ 0x919e540] error while decoding MB 15 4, bytestream (1526)
 [h264 @ 0x91792e0] Reference 3 >= 2
 [h264 @ 0x91792e0] error while decoding MB 3 1, bytestream (2049)
 [h264 @ 0x910cf20] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x91792e0] reference picture missing during reorder
     Last message repeated 1 times
 [h264 @ 0x91792e0] Missing reference picture, default is 65734
     Last message repeated 1 times
 [h264 @ 0x919e540] concealing 254 DC, 254 AC, 254 MV errors in B frame
 [h264 @ 0x91792e0] Reference 4 >= 4
 [h264 @ 0x91792e0] error while decoding MB 2 2, bytestream (6126)
 [h264 @ 0x91792e0] illegal memory management control operation 21
 [h264 @ 0x91792e0] Reference 3 >= 2
 [h264 @ 0x91792e0] error while decoding MB 12 2, bytestream (1817)
 [h264 @ 0x91792e0] reference picture missing during reorder
 [h264 @ 0x91792e0] Missing reference picture, default is 65736
 [h264 @ 0x91792e0] Reference 4 >= 4
 [h264 @ 0x91792e0] error while decoding MB 7 1, bytestream (5439)
 [h264 @ 0x91792e0] Reference 3 >= 2
 [h264 @ 0x91792e0] error while decoding MB 3 0, bytestream (1767)
 [h264 @ 0x91792e0] reference picture missing during reorder
 [h264 @ 0x91792e0] Missing reference picture, default is 65738
 [h264 @ 0x91792e0] gray chroma
 [h264 @ 0x91792e0] error while decoding MB 0 1, bytestream (28)
 [h264 @ 0x9179880] mmco: unref short failure
 [h264 @ 0x9179880] number of reference frames (0+5) exceeds max (4;
 probably corrupt input), discarding one
 [h264 @ 0x91792e0] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x9179880] reference count overflow
 [h264 @ 0x9179880] decode_slice_header error
 [h264 @ 0x9179e20] mmco: unref short failure
 [h264 @ 0x9179e20] number of reference frames (0+5) exceeds max (4;
 probably corrupt input), discarding one
 [h264 @ 0x917a4a0] Reference 4 >= 4
 [h264 @ 0x917a4a0] error while decoding MB 1 0, bytestream (5753)
 [h264 @ 0x9179e20] Reference 2 >= 2
 [h264 @ 0x9179e20] [h264 @ 0x917a4a0] concealing 300 DC, 300 AC, 300 MV
 errors in P frame
 [h264 @ 0x919e540] error while decoding MB 0 0, bytestream (-7)
 [h264 @ 0x919df80] Reference 3 >= 3
 error while decoding MB 1 2, bytestream (2436)
 [h264 @ 0x919df80] [h264 @ 0x9179e20] Error while decoding stream #0:0:
 Invalid data found when processing input
 concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x910cf20] Reference 5 >= 2
 [h264 @ 0x910cf20] error while decoding MB 13 4, bytestream (1660)
 [h264 @ 0x919df80] concealing 256 DC, 256 AC, 256 MV errors in B frame
 [h264 @ 0x919e540] concealing 300 DC, 300 AC, 300 MV errors in I frame
 [h264 @ 0x910bfe0] top block unavailable for requested intra mode at 2 0
 [h264 @ 0x910bfe0] error while decoding MB 2 0, bytestream (5709)
 [h264 @ 0x910bfe0] error while decoding MB 16 1, bytestream (2286)
 concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x91792e0] reference count overflow
 [h264 @ 0x91792e0] decode_slice_header error
 [h264 @ 0x9179880] [h264 @ 0x910cf20] concealing 300 DC, 300 AC, 300 MV
 errors in B frame
 [h264 @ 0x9178d20] Reference 2 >= 2
 [h264 @ 0x9178d20] error while decoding MB 9 0, bytestream (1487)
 [h264 @ 0x9178d20] concealing 300 DC, 300 AC, 300 MV errors in B frame
 mmco: unref short failure
 [h264 @ 0x9179880] number of reference frames (0+5) exceeds max (4;
 probably corrupt input), discarding one
 [h264 @ 0x9179e20] Reference 7 >= 4
 [h264 @ 0x9179e20] error while decoding MB 15 1, bytestream (5651)
 [h264 @ 0x9179880] concealing 6 DC, 6 AC, 6 MV errors in B frame
 [h264 @ 0x917a4a0] Reference 3 >= 3
 [h264 @ 0x917a4a0] error while decoding MB 4 1, bytestream (1599)
 [h264 @ 0x9179e20] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x919df80] top block unavailable for requested intra mode at 2 0
 [h264 @ 0x919df80] error while decoding MB 2 0, bytestream (1655)
 [h264 @ 0x919df80] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x917a4a0] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x910cf20] concealing 253 DC, 253 AC, 253 MV errors in B frame
 [h264 @ 0x910bfe0] top block unavailable for requested intra4x4 mode -1 at
 5 0
 [h264 @ 0x910bfe0] error while decoding MB 5 0, bytestream (6612)
 [h264 @ 0x919e540] gray chroma
 [h264 @ 0x910bfe0] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x9178d20] Reference 3 >= 3
 [h264 @ 0x9178d20] error while decoding MB 0 1, bytestream (531)
 [h264 @ 0x9178d20] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x9179880] Reference 4 >= 4
 [h264 @ 0x9179880] error while decoding MB 1 0, bytestream (6482)
 [h264 @ 0x919e540] error while decoding MB 5 7, bytestream (4473)
 [h264 @ 0x9179880] concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x919e540] concealing 204 DC, 204 AC, 204 MV errors in P frame
 [h264 @ 0x91792e0] gray chroma
 [h264 @ 0x91792e0] error while decoding MB 10 8, bytestream (1529)
 [h264 @ 0x91792e0] concealing 179 DC, 179 AC, 179 MV errors in B frame
 [h264 @ 0x9179e20] Reference 3 >= 3
 [h264 @ 0x9179e20] error while decoding MB 0 6, bytestream (960)
 [h264 @ 0x917a4a0] Reference 2 >= 2
 [h264 @ 0x917a4a0] error while decoding MB 10 2, bytestream (1023)
 [h264 @ 0x9179e20] concealing 229 DC, 229 AC, 229 MV errors in B frame
 [h264 @ 0x917a4a0] Reference 6 >= 4
 [h264 @ 0x917a4a0] error while decoding MB 15 0, bytestream (1693)
 [h264 @ 0x917a4a0] concealing 300 DC, 300 AC, 300 MV errors in p frame
 [h264 @ 0x919df80] Reference 7 >= 3
 [h264 @ 0x919df80] error while decoding MB 13 0, bytestream (1222)
 [h264 @ 0x910cf20] top block unavailable for requested intra4x4 mode -1 at
 0 0
 [h264 @ 0x910cf20] error while decoding MB 0 0, bytestream (619)
 [h264 @ 0x919df80] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x910bfe0] [h264 @ 0x9178d20] Reference 2 >= 2
 [h264 @ 0x9178d20] error while decoding MB 7 0, bytestream (717)
 concealing 255 DC, 255 AC, 255 MV errors in B frame
 [h264 @ 0x9178d20] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x919e540] Reference 2 >= 2
 [h264 @ 0x919e540] error while decoding MB 4 2, bytestream (656)
 [h264 @ 0x91792e0] Reference 4 >= 4
 [h264 @ 0x91792e0] error while decoding MB 5 0, bytestream (3449)
 [h264 @ 0x919e540] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x9179880] Reference 6 >= 3
 [h264 @ 0x9179880] error while decoding MB 7 1, bytestream (719)
 [h264 @ 0x910cf20] Reference 2 >= 2
 [h264 @ 0x91792e0] [h264 @ 0x910cf20] error while decoding MB 7 4,
 bytestream (101)
 [h264 @ 0x910cf20] [h264 @ 0x9179880] Reference 2 >= 2
 [h264 @ 0x9179880] error while decoding MB 12 0, bytestream (639)
 concealing 262 DC, 262 AC, 262 MV errors in B frame
 concealing 300 DC, 300 AC, 300 MV errors in P frame
 [h264 @ 0x917a4a0] Reinit context to 16x160, pix_fmt: 0
 [h264 @ 0x9179880] gray chroma
 [h264 @ 0x9179880] error while decoding MB 12 3, bytestream (694)
 [h264 @ 0x9179880] concealing 277 DC, 277 AC, 277 MV errors in P frame
 [h264 @ 0x9179e20] Reference 4 >= 2
 [h264 @ 0x9179e20] error while decoding MB 14 0, bytestream (497)
 [h264 @ 0x917a4a0] deblocking_filter_idc 4 out of range
 [h264 @ 0x917a4a0] decode_slice_header error
 [h264 @ 0x9179e20] concealing 300 DC, 300 AC, 300 MV errors in B frame
 [h264 @ 0x919df80] cabac_init_idc overflow
 [h264 @ 0x919df80] decode_slice_header error
 [h264 @ 0x9105640] missing picture in access unit with size 217
 [h264 @ 0x919e540] left block unavailable for requested intra mode at 0 0
 [h264 @ 0x919e540] error while decoding MB 0 0, bytestream (1155)
 [h264 @ 0x910bfe0] mmco: unref short failure
     Last message repeated 1 times
 [h264 @ 0x910bfe0] This stream was generated by a broken encoder, invalid
 8x8 inference
 [h264 @ 0x910bfe0] decode_slice_header error

 Program received signal SIGINT, Interrupt.
 0xb7f8bea5 in __pthread_cond_wait (cond=0x9177804, mutex=0x917787c)
     at pthread_cond_wait.c:153
 153     pthread_cond_wait.c: No such file or directory.
 (gdb) bt
 #0  0xb7f8bea5 in __pthread_cond_wait (cond=0x9177804, mutex=0x917787c)
     at pthread_cond_wait.c:153
 #1  0x085cd75c in submit_packet (avpkt=0xbffff2a8, p=0x9177acc)
     at libavcodec/pthread.c:515
 #2  ff_thread_decode_frame (avctx=avctx at entry=0x9105640,
     picture=picture at entry=0x919eb00,
     got_picture_ptr=got_picture_ptr at entry=0xbffff504,
     avpkt=avpkt at entry=0xbffff2a8) at libavcodec/pthread.c:602
 #3  0x08676db4 in avcodec_decode_video2 (avctx=0x9105640,
     picture=picture at entry=0x919eb00,
     got_picture_ptr=got_picture_ptr at entry=0xbffff504,
     avpkt=avpkt at entry=0xbffff750) at libavcodec/utils.c:1980
 #4  0x080b366d in decode_video (ist=ist at entry=0x9107740,
     pkt=pkt at entry=0xbffff750, got_output=got_output at entry=0xbffff504)
     at ffmpeg.c:1668
 #5  0x080b758a in output_packet (pkt=0xbffff6e8, ist=0x9107740)
     at ffmpeg.c:1866
 #6  process_input (file_index=1) at ffmpeg.c:3085
 #7  0x080a2e33 in transcode_step () at ffmpeg.c:3181
 #8  transcode () at ffmpeg.c:3233
 #9  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3411
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2927>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 04:52:27 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 02:52:27 -0000
Subject: [FFmpeg-trac] #2905(undetermined:closed): Regression: Double
 free
In-Reply-To: <036.dc29cdfcd08c81f788f56803f41151c4@avcodec.org>
References: <036.dc29cdfcd08c81f788f56803f41151c4@avcodec.org>
Message-ID: <051.cfd84bae9dd3084c1f18cfcb03e64c5f@avcodec.org>

#2905: Regression: Double free
-------------------------------------+-------------------------------------
             Reporter:  Krieger      |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  crash        |               Resolution:  fixed
  regression                         |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in cdd5df8189ff1537f7abe8defe971f80602cc2d2

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2905#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 06:21:36 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 04:21:36 -0000
Subject: [FFmpeg-trac] #2833(avformat:new): can't parse HLS subtitles
 and alternate audio
In-Reply-To: <036.9ab1dc8ef9b69291cf413a8bb0c5753c@avcodec.org>
References: <036.9ab1dc8ef9b69291cf413a8bb0c5753c@avcodec.org>
Message-ID: <051.fc8eb2d94279f25b210f3083755ad3aa@avcodec.org>

#2833: can't parse HLS subtitles and alternate audio
-------------------------------------+------------------------------------
             Reporter:  sinkers      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  hls          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by klpu):

 When add this feature?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2833#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 08:23:35 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 06:23:35 -0000
Subject: [FFmpeg-trac] #2882(avdevice:closed): ffmpeg can't save h264
 stream from v4l2 webcam into file without recoding
In-Reply-To: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
References: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
Message-ID: <049.0723799ab767d2b2a2e3da56f4d24f85@avcodec.org>

#2882: ffmpeg can't save h264 stream from v4l2 webcam into file without recoding
------------------------------------+------------------------------------
             Reporter:  pchel       |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avdevice
              Version:  git-master  |               Resolution:  fixed
             Keywords:  v4l2 h264   |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------
Changes (by cehoyos):

 * status:  open => closed
 * resolution:   => fixed
 * component:  undetermined => avdevice


Comment:

 Should be fixed in cf94299.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2882#comment:17>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 08:36:47 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 06:36:47 -0000
Subject: [FFmpeg-trac] #2925(avcodec:closed): wmav2: deadlock with
 fuzzed file
In-Reply-To: <038.17b07ef646a2bc102dcc6a7d8f203cfa@avcodec.org>
References: <038.17b07ef646a2bc102dcc6a7d8f203cfa@avcodec.org>
Message-ID: <053.74bfac2d6be6302ed53ce4ab59e82af0@avcodec.org>

#2925: wmav2: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  wmav2        |               Blocked By:
  deadlock regression                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in ec8a484.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2925#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 08:39:17 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 06:39:17 -0000
Subject: [FFmpeg-trac] #2086(avcodec:closed): Teletext subtitles
In-Reply-To: <036.59e1c5656cfaff6e09921817a5660c2a@avcodec.org>
References: <036.59e1c5656cfaff6e09921817a5660c2a@avcodec.org>
Message-ID: <051.50643ff218389126e1ff1ac0ff8614fa@avcodec.org>

#2086: Teletext subtitles
-------------------------------------+-------------------------------------
             Reporter:  cehoyos      |                    Owner:
                 Type:  enhancement  |                   Status:  closed
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:               |               Blocked By:
  dvb_teletext sub                   |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  dvb_teletext => dvb_teletext sub
 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed by Marton Balint in b339dcc, based on a patch by Wolfram Gloger and
 work by Tudor Suciu.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2086#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 08:55:58 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 06:55:58 -0000
Subject: [FFmpeg-trac] #2882(avdevice:closed): ffmpeg can't save h264
 stream from v4l2 webcam into file without recoding
In-Reply-To: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
References: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
Message-ID: <049.0f874b3bbf8a06fa586d3a80fcd53a07@avcodec.org>

#2882: ffmpeg can't save h264 stream from v4l2 webcam into file without recoding
------------------------------------+------------------------------------
             Reporter:  pchel       |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avdevice
              Version:  git-master  |               Resolution:  fixed
             Keywords:  v4l2 h264   |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by pchel):

 The -copyinkf worked fine.

 The cf94299 fixes the issue!

 Thanks!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2882#comment:18>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 09:59:55 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 07:59:55 -0000
Subject: [FFmpeg-trac] #2928(undetermined:new): FFmpeg embeds "stts" atom in
 .mov without being asked.
Message-ID: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>

#2928: FFmpeg embeds "stts" atom in .mov without being asked.
-------------------------------------+-------------------------------------
             Reporter:  felixhandte  |                     Type:  defect
               Status:  new          |                 Priority:  normal
            Component:               |                  Version:
  undetermined                       |  unspecified
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 Summary of the bug:

 Despite mapping only one stream from each of the two inputs, the output
 ends up with an extra, third pseudo-stream / atom (which causes Avid to
 refuse to link the file via AMA).

 How to reproduce:
 {{{
 felix at odin:~/thorsamba/footage/nightmares/7-snd$ raw_conv

 ['ffmpeg', '-y', '-i',
 '/home/felix/thorsamba/footage/nightmares/6-grd/M17-0146_C0000_000000.mov',
 '-ss', '00:00:03.206', '-i',
 '/home/felix/thorsamba/footage/nightmares/sound/M17-0146.WAV', '-map',
 '0:0', '-map', '1:0', '-vcodec', 'copy', '-acodec', 'copy',
 '/home/felix/thorsamba/footage/nightmares/7-snd/M17-0146.mov']

 ffmpeg version N-52919-ge4723a8 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on May  8 2013 19:39:14 with gcc 4.7 (Ubuntu/Linaro
 4.7.2-2ubuntu1)
   configuration: --enable-gpl --enable-libass --enable-libfaac --enable-
 libfdk-aac --enable-libmp3lame --enable-libopencore-amrnb --enable-
 libopencore-amrwb --enable-libspeex --enable-librtmp --enable-libtheora
 --enable-libvorbis --enable-libvpx --enable-x11grab --enable-libx264
 --enable-nonfree --enable-version3
   libavutil      52. 30.100 / 52. 30.100
   libavcodec     55.  7.100 / 55.  7.100
   libavformat    55.  4.101 / 55.  4.101
   libavdevice    55.  0.100 / 55.  0.100
   libavfilter     3. 63.101 /  3. 63.101
   libswscale      2.  3.100 /  2.  3.100
   libswresample   0. 17.102 /  0. 17.102
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from
 '/home/felix/thorsamba/footage/nightmares/6-grd/M17-0146_C0000_000000.mov':
   Metadata:
     creation_time   : 2013-09-02 09:08:21
   Duration: 00:01:17.74, start: 0.000000, bitrate: 177522 kb/s
     Stream #0:0(eng): Video: dnxhd (AVdn / 0x6E645641), yuv422p10le,
 1920x1080, 175984 kb/s, SAR 1:1 DAR 16:9, 23.98 fps, 23.98 tbr, 24k tbn,
 24k tbc
     Metadata:
       creation_time   : 2013-09-02 09:08:21
       handler_name    : Apple Alias Data Handler
       timecode        : 00:00:00:00
     Stream #0:1(eng): Audio: pcm_s16le (sowt / 0x74776F73), 48000 Hz,
 stereo, s16, 1536 kb/s
     Metadata:
       creation_time   : 2013-09-02 09:08:21
       handler_name    : Apple Alias Data Handler
     Stream #0:2(eng): Data: none (tmcd / 0x64636D74)
     Metadata:
       creation_time   : 2013-09-02 09:12:57
       handler_name    : Apple Alias Data Handler
       timecode        : 00:00:00:00
 [wav @ 0x32ee480] max_analyze_duration 5000000 reached at 5001333
 microseconds
 Guessed Channel Layout for  Input Stream #1.0 : stereo
 Input #1, wav, from
 '/home/felix/thorsamba/footage/nightmares/sound/M17-0146.WAV':
   Metadata:
     comment         : sSPEED=030.000-ND
                     : sTAKE=116
                     : sUBITS=$08171316
                     : sSWVER=2.66
                     : sPROJECT=
                     : sSCENE=
                     : sFILENAME=T116.WAV
                     : sTAPE=130817
                     : sTRK1=Track A
                     : sTRK2=Track B
                     : sNOTE=
                     :
     encoded_by      : Sound Dev: 702T S#GR0910015001
     originator_reference: USSDVGR0910015001014227033494801
     date            : 2013-08-17
     creation_time   : 01:42:13
     time_reference  : 1871856001
     coding_history  : A=PCM,F=48000,W=24,M=stereo,R=48000,T=2 Ch
                     :
   Duration: 00:01:26.00, bitrate: 2304 kb/s
     Stream #1:0: Audio: pcm_s24le ([1][0][0][0] / 0x0001), 48000 Hz,
 stereo, s32, 2304 kb/s
 Output #0, mov, to
 '/home/felix/thorsamba/footage/nightmares/7-snd/M17-0146.mov':
   Metadata:
     encoder         : Lavf55.4.101
     Stream #0:0(eng): Video: dnxhd (AVdn / 0x6E645641), yuv422p10le,
 1920x1080 [SAR 1:1 DAR 16:9], q=2-31, 175984 kb/s, 23.98 fps, 24k tbn, 24k
 tbc
     Metadata:
       creation_time   : 2013-09-02 09:08:21
       handler_name    : Apple Alias Data Handler
       timecode        : 00:00:00:00
     Stream #0:1: Audio: pcm_s24le (in24 / 0x34326E69), 48000 Hz, stereo,
 2304 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (copy)
   Stream #1:0 -> #0:1 (copy)
 Press [q] to stop, [?] for help
 fps 24000 is too large-1.0 size= 1691999kB time=00:01:22.59
 bitrate=167821.1kbits/s
 frame= 1864 fps= 88 q=-1.0 Lsize= 1693449kB time=00:01:22.79
 bitrate=167557.3kbits/s
 video:1670144kB audio:23286kB subtitle:0 global headers:0kB muxing
 overhead 0.001144%


 felix at odin:~/thorsamba/footage/nightmares/7-snd$ ffmpeg -i M17-0146.mov


 ffmpeg version N-52919-ge4723a8 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on May  8 2013 19:39:14 with gcc 4.7 (Ubuntu/Linaro
 4.7.2-2ubuntu1)
   configuration: --enable-gpl --enable-libass --enable-libfaac --enable-
 libfdk-aac --enable-libmp3lame --enable-libopencore-amrnb --enable-
 libopencore-amrwb --enable-libspeex --enable-librtmp --enable-libtheora
 --enable-libvorbis --enable-libvpx --enable-x11grab --enable-libx264
 --enable-nonfree --enable-version3
   libavutil      52. 30.100 / 52. 30.100
   libavcodec     55.  7.100 / 55.  7.100
   libavformat    55.  4.101 / 55.  4.101
   libavdevice    55.  0.100 / 55.  0.100
   libavfilter     3. 63.101 /  3. 63.101
   libswscale      2.  3.100 /  2.  3.100
   libswresample   0. 17.102 /  0. 17.102
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'M17-0146.mov':
   Metadata:
     major_brand     : qt
     minor_version   : 512
     compatible_brands: qt
     encoder         : Lavf55.4.101
   Duration: 00:01:22.79, start: 0.000000, bitrate: 167557 kb/s
     Stream #0:0(eng): Video: dnxhd (AVdn / 0x6E645641), yuv422p10le,
 1920x1080, 175984 kb/s, 23.98 fps, 23.98 tbr, 24k tbn, 24k tbc
     Metadata:
       handler_name    : DataHandler
     Stream #0:1(eng): Audio: pcm_s24le (in24 / 0x34326E69), 48000 Hz,
 stereo, s32, 2304 kb/s
     Metadata:
       handler_name    : DataHandler
     Stream #0:2(eng): Data: none (stts / 0x73747473)
     Metadata:
       handler_name    : DataHandler
 At least one output file must be specified
 felix at odin:~/thorsamba/footage/nightmares/7-snd$
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2928>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 10:00:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 08:00:49 -0000
Subject: [FFmpeg-trac] #2882(avdevice:closed): ffmpeg can't save h264
 stream from v4l2 webcam into file without recoding
In-Reply-To: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
References: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
Message-ID: <049.1b33c46db29ca7bc2401d1b7ecb44f78@avcodec.org>

#2882: ffmpeg can't save h264 stream from v4l2 webcam into file without recoding
------------------------------------+------------------------------------
             Reporter:  pchel       |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avdevice
              Version:  git-master  |               Resolution:  fixed
             Keywords:  v4l2 h264   |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by pchel):

 Replying to [comment:17 cehoyos]:
 > Should be fixed in cf94299.

 It was fixed but. It gives me 15 fps only. But ffmpeg gives me 30 fps with
 recoding into mpeg.

 Is it ok?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2882#comment:19>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 10:09:27 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 08:09:27 -0000
Subject: [FFmpeg-trac] #2882(avdevice:closed): ffmpeg can't save h264
 stream from v4l2 webcam into file without recoding
In-Reply-To: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
References: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
Message-ID: <049.3bdc4c90752847b882276113907b34db@avcodec.org>

#2882: ffmpeg can't save h264 stream from v4l2 webcam into file without recoding
------------------------------------+------------------------------------
             Reporter:  pchel       |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avdevice
              Version:  git-master  |               Resolution:  fixed
             Keywords:  v4l2 h264   |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by cehoyos):

 Replying to [comment:19 pchel]:
 > Replying to [comment:17 cehoyos]:
 > > Should be fixed in cf94299.
 >
 > It was fixed but. It gives me 15 fps only. But ffmpeg gives me 30 fps
 with recoding into mpeg.

 Command line and complete, uncut console output for both commands missing.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2882#comment:20>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 10:10:11 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 08:10:11 -0000
Subject: [FFmpeg-trac] #2928(undetermined:new): FFmpeg embeds "stts"
 atom in .mov without being asked.
In-Reply-To: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>
References: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>
Message-ID: <055.94d9cfa3b8e7e9071878af37887bc7f7@avcodec.org>

#2928: FFmpeg embeds "stts" atom in .mov without being asked.
-------------------------------------+-------------------------------------
             Reporter:  felixhandte  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  mov          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => mov


Comment:

 Does it work with older versions?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2928#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 10:26:31 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 08:26:31 -0000
Subject: [FFmpeg-trac] #2928(undetermined:new): FFmpeg embeds "stts"
 atom in .mov without being asked.
In-Reply-To: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>
References: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>
Message-ID: <055.e1241bbea9ce36a7675f320a084121e5@avcodec.org>

#2928: FFmpeg embeds "stts" atom in .mov without being asked.
-------------------------------------+-------------------------------------
             Reporter:  felixhandte  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  mov          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Does it work if you add -r 24000/1001 to your command line?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2928#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 11:31:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 09:31:32 -0000
Subject: [FFmpeg-trac] #2882(avdevice:closed): ffmpeg can't save h264
 stream from v4l2 webcam into file without recoding
In-Reply-To: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
References: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
Message-ID: <049.7f5c6d102b075fa384b27ecef06fff8f@avcodec.org>

#2882: ffmpeg can't save h264 stream from v4l2 webcam into file without recoding
------------------------------------+------------------------------------
             Reporter:  pchel       |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avdevice
              Version:  git-master  |               Resolution:  fixed
             Keywords:  v4l2 h264   |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by pchel):

 First one: h264
 {{{
 /home/ps/work/ffmpeg/ffmpeg -f alsa -ac 2 -i plughw:CARD=C920,DEV=0
 -acodec aac -vcodec h264 -f v4l2 -i /dev/video0 -q 0 -vcodec copy -y
 -strict -2 -t 00:00:05 out.h264.mp4
 }}}

 Second one: mpeg

 {{{
 /home/ps/work/ffmpeg/ffmpeg -f alsa -ac 2 -i plughw:CARD=C920,DEV=0
 -acodec aac -vcodec h264 -f v4l2 -i /dev/video0 -q 0 -vcodec mpeg4  -y
 -strict -2 -t 00:00:05 out.mpeg.mp4

 }}}

 The outputs in the attachment.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2882#comment:21>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 11:31:41 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 09:31:41 -0000
Subject: [FFmpeg-trac] #2929(avformat:new): Wrong duration estimation for
 dvvideo in mxf
Message-ID: <036.497d4b07205b5d7766c3ff945d1f7dba@avcodec.org>

#2929: Wrong duration estimation for dvvideo in mxf
-------------------------------------+-------------------------------------
               Reporter:  cehoyos    |                  Owner:
                   Type:             |                 Status:  new
  enhancement                        |              Component:  avformat
               Priority:  wish       |               Keywords:  mxf dvvideo
                Version:  git-       |               Blocking:
  master                             |  Analyzed by developer:  0
             Blocked By:             |
Reproduced by developer:  0          |
-------------------------------------+-------------------------------------
 http://thread.gmane.org/gmane.comp.video.ffmpeg.user/47691
 A user provided a sample with incorrectly estimated duration because the
 mxf demuxer stores no bitrate for dvvideo.
 {{{
 $ ffmpeg -i TESTSMOKE.mxf -f null -
 ffmpeg version N-55962-gec8a484 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  2 2013 10:17:48 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl --enable-libzvbi --disable-indev=jack
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.100 / 55. 31.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mxf @ 0x3699880] Estimating duration from bitrate, this may be inaccurate
 Guessed Channel Layout for  Input Stream #0.1 : stereo
 Input #0, mxf, from 'TESTSMOKE.mxf':
   Metadata:
     uid             : 058bb481-067c-11e3-9682-a8968af1e82e
     generation_uid  : 058bb482-067c-11e3-a20e-a8968af1e82e
     company_name    : Autodesk
     product_name    : Smoke
     product_version : 2013
     application_platform: Mac OS X
     product_uid     : ec500c00-9200-11dc-940c-000d605329fa
     modification_date: 2013-08-16 13:59:09
     timecode        : 00:00:00:00
   Duration: 00:02:10.48, start: 0.000000, bitrate: 2303 kb/s
     Stream #0:0: Video: dvvideo, yuv422p, 720x576 [SAR 16:15 DAR 4:3], 25
 fps, 25 tbr, 25 tbn, 25 tbc
     Stream #0:1: Audio: pcm_s24le, 48000 Hz, stereo, s32, 2304 kb/s
 Output #0, null, to 'pipe:':
   Metadata:
     uid             : 058bb481-067c-11e3-9682-a8968af1e82e
     generation_uid  : 058bb482-067c-11e3-a20e-a8968af1e82e
     company_name    : Autodesk
     product_name    : Smoke
     product_version : 2013
     application_platform: Mac OS X
     product_uid     : ec500c00-9200-11dc-940c-000d605329fa
     modification_date: 2013-08-16 13:59:09
     timecode        : 00:00:00:00
     encoder         : Lavf55.15.100
     Stream #0:0: Video: rawvideo (Y42B / 0x42323459), yuv422p, 720x576
 [SAR 16:15 DAR 4:3], q=2-31, 200 kb/s, 90k tbn, 25 tbc
     Stream #0:1: Audio: pcm_s16le, 48000 Hz, stereo, s16, 1536 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (dvvideo -> rawvideo)
   Stream #0:1 -> #0:1 (pcm_s24le -> pcm_s16le)
 Press [q] to stop, [?] for help
 [null @ 0x369d9a0] Encoder did not produce proper pts, making some up.
 frame=  125 fps=0.0 q=0.0 Lsize=N/A time=00:00:05.00 bitrate=N/A
 video:12kB audio:938kB subtitle:0 global headers:0kB muxing overhead
 -100.002263%
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2929>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 11:32:33 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 09:32:33 -0000
Subject: [FFmpeg-trac] #2929(avformat:new): Wrong duration estimation
 for dvvideo in mxf
In-Reply-To: <036.497d4b07205b5d7766c3ff945d1f7dba@avcodec.org>
References: <036.497d4b07205b5d7766c3ff945d1f7dba@avcodec.org>
Message-ID: <051.25757d3c7c392a03c1de69cd31ed2d71@avcodec.org>

#2929: Wrong duration estimation for dvvideo in mxf
-------------------------------------+------------------------------------
             Reporter:  cehoyos      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mxf dvvideo  |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by cehoyos):

 Sample uploaded to http://samples.ffmpeg.org/ffmpeg-bugs/trac/ticket2929/

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2929#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 11:49:18 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 09:49:18 -0000
Subject: [FFmpeg-trac] #2882(avdevice:closed): ffmpeg can't save h264
 stream from v4l2 webcam into file without recoding
In-Reply-To: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
References: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
Message-ID: <049.958c06c6243a2c7bb8358d878f13129d@avcodec.org>

#2882: ffmpeg can't save h264 stream from v4l2 webcam into file without recoding
------------------------------------+------------------------------------
             Reporter:  pchel       |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avdevice
              Version:  git-master  |               Resolution:  fixed
             Keywords:  v4l2 h264   |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by cehoyos):

 > {{{
 >  frame=  149 fps= 27 q=0.0 Lsize=    3569kB time=00:00:05.02
 bitrate=5823.7kbits/s dup=71 drop=7
 > }}}
 Looks as if the input frame rate is really ~15fps, don't you agree?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2882#comment:22>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 11:57:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 09:57:45 -0000
Subject: [FFmpeg-trac] #2882(avdevice:closed): ffmpeg can't save h264
 stream from v4l2 webcam into file without recoding
In-Reply-To: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
References: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
Message-ID: <049.c3e97ca563767f2cd577960421f02fc4@avcodec.org>

#2882: ffmpeg can't save h264 stream from v4l2 webcam into file without recoding
------------------------------------+------------------------------------
             Reporter:  pchel       |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avdevice
              Version:  git-master  |               Resolution:  fixed
             Keywords:  v4l2 h264   |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by pchel):

 Replying to [comment:22 cehoyos]:
 > > {{{
 > >  frame=  149 fps= 27 q=0.0 Lsize=    3569kB time=00:00:05.02
 bitrate=5823.7kbits/s dup=71 drop=7
 > > }}}
 > Looks as if the input frame rate is really ~15fps, don't you agree?

 I can't agree. When I run the command with mpeg encoding for a minute I
 get following

 {{{
 frame=  648 fps= 30 q=0.0 size=   14966kB time=00:00:22.80
 bitrate=5374.8kbits/s
 frame=  663 fps= 30 q=0.0 size=   15387kB time=00:00:23.28
 bitrate=5414.1kbits/s
 frame=  677 fps= 30 q=0.0 size=   15724kB time=00:00:23.81
 bitrate=5409.1kbits/s
 frame=  689 fps= 29 q=0.0 size=   16012kB time=00:00:24.32
 bitrate=5392.0kbits/s
 frame=  711 fps= 30 q=0.0 size=   16461kB time=00:00:24.82
 bitrate=5432.4kbits/s
 frame=  725 fps= 30 q=0.0 size=   16812kB time=00:00:25.32
 bitrate=5437.5kbits/s
 frame=  740 fps= 30 q=0.0 size=   17190kB time=00:00:25.88
 bitrate=5440.6kbits/s
 frame=  752 fps= 29 q=0.0 size=   17495kB time=00:00:26.39
 bitrate=5429.6kbits/s
 frame=  774 fps= 30 q=0.0 size=   17927kB time=00:00:26.82
 bitrate=5475.0kbits/s
 frame=  786 fps= 30 q=0.0 size=   18220kB time=00:00:27.41
 bitrate=5443.8kbits/s
 frame=  801 fps= 30 q=0.0 size=   18552kB time=00:00:27.90
 bitrate=5445.4kbits/s
 frame=  815 fps= 30 q=0.0 size=   18862kB time=00:00:28.42
 bitrate=5436.5kbits/s
 frame=  829 fps= 30 q=0.0 size=   19317kB time=00:00:28.95
 bitrate=5465.0kbits/s
 frame=  849 fps= 30 q=0.0 size=   19662kB time=00:00:29.46
 bitrate=5466.1kbits/s
 frame=  862 fps= 30 q=0.0 size=   20009kB time=00:00:29.93
 bitrate=5475.1kbits/s
 frame=  876 fps= 30 q=0.0 size=   20352kB time=00:00:30.47
 bitrate=5471.6kbits/s
 frame=  890 fps= 30 q=0.0 size=   20815kB time=00:00:30.96
 bitrate=5507.1kbits/s
 frame=  912 fps= 30 q=0.0 size=   21191kB time=00:00:31.49
 bitrate=5512.4kbits/s
 frame=  924 fps= 30 q=0.0 size=   21479kB time=00:00:31.98
 bitrate=5501.4kbits/s
 frame=  938 fps= 30 q=0.0 size=   21894kB time=00:00:32.49
 bitrate=5519.3kbits/s
 frame=  951 fps= 30 q=0.0 size=   22227kB time=00:00:32.98
 bitrate=5519.6kbits/s
 frame=  956 fps= 30 q=0.0 Lsize=   22385kB time=00:00:33.25
 bitrate=5514.9kbits/s dup=475 drop=7
 video:21817kB audio:529kB subtitle:0 global headers:0kB muxing overhead
 0.172394%

 }}}

 So the fps is 30.

 Also as ffmpeg output

 {{{
 Stream #1:0: Video: h264 (Constrained Baseline), yuvj420p(pc), 1920x1080
 [SAR 1:1 DAR 16:9], -5 kb/s, 30 fps, 30 tbr, 1000k tbn, 60 tbc
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2882#comment:23>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 12:18:43 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 10:18:43 -0000
Subject: [FFmpeg-trac] #2882(avdevice:closed): ffmpeg can't save h264
 stream from v4l2 webcam into file without recoding
In-Reply-To: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
References: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
Message-ID: <049.c5ffdbc2ac66097ed8cbe3b42b90ee08@avcodec.org>

#2882: ffmpeg can't save h264 stream from v4l2 webcam into file without recoding
------------------------------------+------------------------------------
             Reporter:  pchel       |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avdevice
              Version:  git-master  |               Resolution:  fixed
             Keywords:  v4l2 h264   |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by cehoyos):

 Replying to [comment:23 pchel]:
 > Replying to [comment:22 cehoyos]:
 > > > {{{
 > > >  frame=  149 fps= 27 q=0.0 Lsize=    3569kB time=00:00:05.02
 bitrate=5823.7kbits/s dup=71 drop=7
 > > > }}}
 > > Looks as if the input frame rate is really ~15fps, don't you agree?
 >
 > I can't agree. When I run the command with mpeg encoding for a minute I
 get following
 >
 > {{{
 > frame=  956 fps= 30 q=0.0 Lsize=   22385kB time=00:00:33.25
 bitrate=5514.9kbits/s dup=475 drop=7
 > video:21817kB audio:529kB subtitle:0 global headers:0kB muxing overhead
 0.172394%
 > }}}
 >
 > So the fps is 30.

 Of the 956 encoded frames, 475 were duplicates (and seven of the original
 frames were dropped), so around 488 frames were sent from the v4l2 device
 in 33.25 seconds, resulting in ~14.6 fps:
 956 - 475 + 7 = 488
 488 frames / 33,24 seconds ~ 14,6fps
 (It is possible that it is more correct not to add the seven dropped
 frames, I don't know for sure.)

 > Also as ffmpeg output
 >
 > {{{
 > Stream #1:0: Video: h264 (Constrained Baseline), yuvj420p(pc), 1920x1080
 [SAR 1:1 DAR 16:9], -5 kb/s, 30 fps, 30 tbr, 1000k tbn, 60 tbc
 > }}}

 Yes, this may be a bug.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2882#comment:24>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 12:22:23 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 10:22:23 -0000
Subject: [FFmpeg-trac] #2370(avdevice:open): v4l2 should not need ENUMSTD
In-Reply-To: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
References: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
Message-ID: <050.8d358e42569a1befe55c20ba8b95ffe7@avcodec.org>

#2370: v4l2 should not need ENUMSTD
-------------------------------------+-------------------------------------
             Reporter:  ubitux       |                    Owner:  holden
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avdevice
              Version:  git-master   |               Resolution:
             Keywords:  v4l2         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by mrlika):

 This regression effects DVP-7620HE device driver. Latest ffmpeg throws the
 following error:


 {{{
 ffmpeg -f video4linux2 -i /dev/video1 -an -vcodec copy -s cif  test.h264
 -loglevel verbose
 ffmpeg version git-2013-07-12-0da0caa Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Jul 12 2013 16:55:30 with gcc 4.7 (Ubuntu/Linaro
 4.7.3-1ubuntu1)
   configuration: --enable-libfaac --enable-libmp3lame --enable-nonfree
 --disable-vaapi --enable-shared --enable-libx264 --enable-version3
 --enable-gpl
   libavutil      52. 39.100 / 52. 39.100
   libavcodec     55. 18.102 / 55. 18.102
   libavformat    55. 12.102 / 55. 12.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 80.100 /  3. 80.100
   libswscale      2.  3.100 /  2.  3.100
   libswresample   0. 17.102 /  0. 17.102
   libpostproc    52.  3.100 / 52.  3.100
 [video4linux2,v4l2 @ 0x1467900] fd:3 capabilities:4000001
 [video4linux2,v4l2 @ 0x1467900] Querying the device for the current frame
 size
 [video4linux2,v4l2 @ 0x1467900] Setting frame size to 1920x1080
 [video4linux2,v4l2 @ 0x1467900] ioctl(VIDIOC_ENUMSTD): Invalid argument
 /dev/video1: Invalid argument
 }}}


 Older FFmpeg versions work correct with this device:


 {{{
 ffmpeg -f video4linux2 -i /dev/video1 -an -vcodec copy -s cif  test.h264
 -loglevel verbose
 ffmpeg version 0.8.6-6:0.8.6-1ubuntu2, Copyright (c) 2000-2013 the Libav
 developers
   built on Mar 30 2013 22:20:06 with gcc 4.7.2
   configuration: --arch=amd64 --enable-pthreads --enable-runtime-cpudetect
 --extra-version='6:0.8.6-1ubuntu2' --libdir=/usr/lib/x86_64-linux-gnu
 --prefix=/usr --enable-bzlib --enable-libdc1394 --enable-libfreetype
 --enable-gnutls --enable-libgsm --enable-libpulse --enable-libschroedinger
 --enable-libspeex --enable-libtheora --enable-vaapi --enable-vdpau
 --enable-libvorbis --enable-libvpx --enable-zlib --enable-gpl --enable-
 postproc --enable-swscale --enable-libcdio --enable-x11grab
 --shlibdir=/usr/lib/x86_64-linux-gnu --enable-shared --disable-static
   libavutil    51. 22. 1 / 51. 22. 1
   libavcodec   53. 35. 0 / 53. 35. 0
   libavformat  53. 21. 1 / 53. 21. 1
   libavdevice  53.  2. 0 / 53.  2. 0
   libavfilter   2. 15. 0 /  2. 15. 0
   libswscale    2.  1. 0 /  2.  1. 0
   libpostproc  52.  0. 0 / 52.  0. 0
 *** THIS PROGRAM IS DEPRECATED ***
 This program is only provided for compatibility and will be removed in a
 future release. Please use avconv instead.
 [video4linux2 @ 0x1b6a1e0] [4]Capabilities: 4000001
 [video4linux2 @ 0x1b6a1e0] Querying the device for the current frame size
 [video4linux2 @ 0x1b6a1e0] Setting frame size to 1920x1080
 [video4linux2 @ 0x1b6a1e0] Estimating duration from bitrate, this may be
 inaccurate
 Input #0, video4linux2, from '/dev/video1':
   Duration: N/A, start: 1378115441.148443, bitrate: 829440 kb/s
     Stream #0.0: Video: rawvideo, yuyv422, 1920x1080, 829440 kb/s, 25 tbr,
 1000k tbn, 25 tbc
 File 'test.h264' already exists. Overwrite ? [y/N] y
 Output #0, h264, to 'test.h264':
   Metadata:
     encoder         : Lavf53.21.1
     Stream #0.0: Video: rawvideo, yuyv422, 1920x1080, q=2-31, 829440 kb/s,
 90k tbn, 25 tbc
 Stream mapping:
   Stream #0.0 -> #0.0
 Press ctrl-c to stop encoding
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2370#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 12:35:55 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 10:35:55 -0000
Subject: [FFmpeg-trac] #2370(avdevice:open): v4l2 should not need ENUMSTD
In-Reply-To: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
References: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
Message-ID: <050.d874bc6701f0319e6df4139b7f661429@avcodec.org>

#2370: v4l2 should not need ENUMSTD
-------------------------------------+-------------------------------------
             Reporter:  ubitux       |                    Owner:  holden
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avdevice
              Version:  git-master   |               Resolution:
             Keywords:  v4l2         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Replying to [comment:7 mrlika]:
 > Older FFmpeg versions work correct with this device:
 >
 > {{{
 > ffmpeg -f video4linux2 -i /dev/video1 -an -vcodec copy -s cif  test.h264
 -loglevel verbose
 > ffmpeg version 0.8.6-6:0.8.6-1ubuntu2
 > }}}

 This unfortunately is not FFmpeg, testing makes no sense (this
 intentionally broken version has several hundred known regressions, some
 of them security relevant).
 Please test 402ea62

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2370#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 13:35:18 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 11:35:18 -0000
Subject: [FFmpeg-trac] #2928(undetermined:new): FFmpeg embeds "stts"
 atom in .mov without being asked.
In-Reply-To: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>
References: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>
Message-ID: <055.e78c86fe31f62ee4d18c13025de1ebf0@avcodec.org>

#2928: FFmpeg embeds "stts" atom in .mov without being asked.
-------------------------------------+-------------------------------------
             Reporter:  felixhandte  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  mov          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by nichot20):

 stts is a standard atom which should be in all trak atoms and have at
 least one table entry. Given that no timecode is specified I wonder if its
 a broken timecode track.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2928#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 13:50:20 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 11:50:20 -0000
Subject: [FFmpeg-trac] #2928(undetermined:new): FFmpeg embeds "stts"
 atom in .mov without being asked.
In-Reply-To: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>
References: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>
Message-ID: <055.78c2f5d0cbe30aa4e4730e93904c03ef@avcodec.org>

#2928: FFmpeg embeds "stts" atom in .mov without being asked.
-------------------------------------+-------------------------------------
             Reporter:  felixhandte  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  mov          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Replying to [comment:3 nichot20]:
 > stts is a standard atom which should be in all trak atoms and have at
 least one table entry. Given that no timecode is specified I wonder if its
 a broken timecode track.

 The ticket is likely a duplicate of ticket #2892, this can be verified by
 testing with -r 24000/1001.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2928#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 14:43:46 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 12:43:46 -0000
Subject: [FFmpeg-trac] #2370(avdevice:open): v4l2 should not need ENUMSTD
In-Reply-To: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
References: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
Message-ID: <050.cbae59e5f244018688d5de7541f614c3@avcodec.org>

#2370: v4l2 should not need ENUMSTD
-------------------------------------+-------------------------------------
             Reporter:  ubitux       |                    Owner:  holden
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avdevice
              Version:  git-master   |               Resolution:
             Keywords:  v4l2         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by mrlika):

 Patch that fixes the issue:

 {{{
 diff --git a/libavdevice/v4l2.c b/libavdevice/v4l2.c
 index c7cd519..7ada54f 100644
 --- a/libavdevice/v4l2.c
 +++ b/libavdevice/v4l2.c
 @@ -687,6 +687,10 @@ static int v4l2_set_parameters(AVFormatContext *s1)
              standard.index = i;
              if (v4l2_ioctl(s->fd, VIDIOC_ENUMSTD, &standard) < 0) {
                  ret = AVERROR(errno);
 +                if (ret == AVERROR(EINVAL)) {
 +                    tpf = &streamparm.parm.capture.timeperframe;
 +                    break;
 +                }
                  av_log(s1, AV_LOG_ERROR, "ioctl(VIDIOC_ENUMSTD): %s\n",
 av_err2str(ret));
                  return ret;
              }

 }}}

 The patch sent to ffmpeg-devel for review: http://ffmpeg.org/pipermail
 /ffmpeg-devel/2013-September/147793.html

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2370#comment:9>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 15:43:35 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 13:43:35 -0000
Subject: [FFmpeg-trac] #2930(FFprobe:new): ffprobe to report DVD subtitles
 frame size
Message-ID: <037.0af9b4d8595b2f9195848fa09a7dde5f@avcodec.org>

#2930: ffprobe to report DVD subtitles frame size
----------------------------------+---------------------------------------
             Reporter:  lelegard  |                     Type:  enhancement
               Status:  new       |                 Priority:  normal
            Component:  FFprobe   |                  Version:  unspecified
             Keywords:  dvdsub    |               Blocked By:
             Blocking:            |  Reproduced by developer:  0
Analyzed by developer:  0         |
----------------------------------+---------------------------------------
 This is an enhancement request about ffprobe.

 The context of this request can be found on the archive of FFmpeg-user
 mailing list at
 http://ffmpeg-users.933282.n4.nabble.com/Burning-DVD-subtitles-into-video-
 using-overlay-filter-not-working-td4660976.html

 FFprobe reports the frame width and height of video streams. But it does
 not report the same information on DVD subtitles streams.

 DVD subtitles are bitmaps with a frame size. In the above mentioned thread
 in FFmpeg-user, the debug output of a transcoding session reports:

 {{{
 [graph 0 input from stream 0:0 @ 00000000022412a0] w:1280 h:536
 pixfmt:yuv420p tb:1/1000 fr:13978/583 sar:1/1 sws_param:flags=2
 [graph 0 input from stream 0:2 @ 0000000002240e20] w:1920 h:1080
 pixfmt:bgra tb:1/1000 fr:0/1 sar:0/1 sws_param:flags=2
 }}}

 We see that the video frame size is 1280x536 and the dvdsub frame size is
 1920x1080. But ffprobe reports only the video frame size:

 {{{
 $ ffprobe file.mkv -loglevel warning -show_streams -print_format flat |
 grep -e codec_name -e width -e height
 streams.stream.0.codec_name="h264"
 streams.stream.0.width=1280
 streams.stream.0.height=536
 streams.stream.1.codec_name="dca"
 streams.stream.2.codec_name="dvdsub"
 }}}

 For automated tools, it would be extremely useful to obtain the dvdsub
 frame size from ffprobe output.

 It may be possible that such enhancement also applies to DVB subtitles
 since they are bitmaps too.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2930>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 15:53:26 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 13:53:26 -0000
Subject: [FFmpeg-trac] #2930(FFprobe:open): ffprobe to report DVD
 subtitles frame size
In-Reply-To: <037.0af9b4d8595b2f9195848fa09a7dde5f@avcodec.org>
References: <037.0af9b4d8595b2f9195848fa09a7dde5f@avcodec.org>
Message-ID: <052.22c5f3b3194e409b661e1ea51db7d602@avcodec.org>

#2930: ffprobe to report DVD subtitles frame size
-------------------------------------+-----------------------------------
             Reporter:  lelegard     |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  FFprobe
              Version:  git-master   |               Resolution:
             Keywords:  dvdsub       |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by cehoyos):

 * priority:  normal => wish
 * status:  new => open
 * version:  unspecified => git-master
 * reproduced:  0 => 1


Comment:

 Related to ticket #679

 For future tickets: Please always add ffmpeg -i console output.
 {{{
 $ ffmpeg -i gg.mkv
 ffmpeg version N-55962-gec8a484 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  2 2013 10:17:48 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl --enable-libzvbi --disable-indev=jack
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.100 / 55. 31.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, matroska,webm, from 'gg.mkv':
   Metadata:
     ENCODER         : Lavf55.14.102
   Duration: 00:00:23.00, start: 0.000000, bitrate: 5539 kb/s
     Chapter #0.0: start 0.000000, end 20.000000
     Stream #0:0: Video: h264 (High), yuv420p, 1280x536 [SAR 1:1 DAR
 160:67], 23.98 fps, 23.98 tbr, 1k tbn, 47.95 tbc (default)
     Stream #0:1: Audio: dts (DTS), 48000 Hz, 5.1(side), fltp, 1536 kb/s
 (default)
     Stream #0:2: Subtitle: dvd_subtitle (default)
 At least one output file must be specified
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2930#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 16:55:38 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 14:55:38 -0000
Subject: [FFmpeg-trac] #2892(undetermined:new): Setting mov timecode
 fails when remuxing from mpegps because of high tbc value
In-Reply-To: <035.0e90d587663d7770fe826accc28b4b2a@avcodec.org>
References: <035.0e90d587663d7770fe826accc28b4b2a@avcodec.org>
Message-ID: <050.432f8d22fe46a85e8fab3e6972a4a7dc@avcodec.org>

#2892: Setting mov timecode fails when remuxing from mpegps because of high tbc
value
-------------------------------------+-------------------------------------
             Reporter:  ortoni       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  mov mpegps   |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by michael):

 patch on ffmpeg-devel

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2892#comment:10>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 17:24:53 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 15:24:53 -0000
Subject: [FFmpeg-trac]  #2931(undetermined:new): mp3: wrong duration
Message-ID: <038.c4ad80a519b588cb93a6a801e5d8632a@avcodec.org>

#2931: mp3: wrong duration
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 the file have a huge id3 tag, so maybe it's not excluded from bitrate
 calculation?

 http://www.datafilehost.com/d/adf21372

 {{{
 C:\>ffmpeg -i 1.mp3 -f null -
 ffmpeg version N-55957-g21dc3a3 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  2 2013 02:43:35 with gcc 4.5.0 (GCC) 20100414 (Fedora
 MinGW 4.5.
 0-1.fc14)
   configuration: --prefix=/var/www/users/research/ffmpeg/snapshots/build
 --arch=
 x86 --target-os=mingw32 --cross-prefix=i686-pc-mingw32- --cc='ccache i686
 -pc-min
 gw32-gcc' --enable-pthreads --enable-memalign-hack --enable-runtime-
 cpudetect --
 enable-cross-compile --enable-static --disable-shared --extra-
 libs='-lws2_32 -lw
 inmm -lpthread' --extra-cflags='--static
 -I/var/www/users/research/ffmpeg/snapsh
 ots/build/include' --extra-ldflags='-static
 -L/var/www/users/research/ffmpeg/sna
 pshots/build/lib' --enable-bzlib --enable-zlib --enable-gpl --enable-
 version3 --
 enable-nonfree --enable-libx264 --enable-libspeex --enable-libtheora
 --enable-li
 bvorbis --enable-libfaac --enable-libxvid --enable-libopencore-amrnb
 --enable-li
 bopencore-amrwb --enable-libmp3lame --enable-libfreetype --enable-libvpx
 --disab
 le-decoder=libvpx
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 30.100 / 55. 30.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mp3 @ 0x204fa20] Format mp3 detected only with low score of 24,
 misdetection po
 ssible!
 [mp3 @ 0x204fa20] Estimating duration from bitrate, this may be inaccurate
 Input #0, mp3, from '1.mp3':
   Metadata:
     album           : 3
     title           : 1
     artist          : 2
     disc            : w
     track           : ww
   Duration: 00:04:22.14, start: 0.000000, bitrate: 320 kb/s
     Stream #0:0: Audio: mp3, 48000 Hz, stereo, s16p, 320 kb/s
     Stream #0:1: Video: mjpeg, yuvj420p(pc), 3264x1840, 90k tbr, 90k tbn,
 90k tb
 c
     Metadata:
       title           :
       comment         : Cover (front)
 [null @ 0x2128020] Frame rate very high for a muxer not efficiently
 supporting i
 t.
 Please consider specifying a lower framerate, a different muxer or -vsync
 2
 Output #0, null, to 'pipe:':
   Metadata:
     album           : 3
     title           : 1
     artist          : 2
     disc            : w
     track           : ww
     encoder         : Lavf55.15.100
     Stream #0:0: Video: rawvideo (I420 / 0x30323449), yuvj420p, 3264x1840,
 q=2-3
 1, 200 kb/s, 90k tbn, 90k tbc
     Metadata:
       title           :
       comment         : Cover (front)
     Stream #0:1: Audio: pcm_s16le, 48000 Hz, stereo, s16, 1536 kb/s
 Stream mapping:
   Stream #0:1 -> #0:0 (mjpeg -> rawvideo)
   Stream #0:0 -> #0:1 (mp3 -> pcm_s16le)
 Press [q] to stop, [?] for help
 [null @ 0x2128020] Encoder did not produce proper pts, making some up.
 frame=    1 fps=0.9 q=0.0 Lsize=N/A time=00:03:43.24 bitrate=N/A
 video:0kB audio:41859kB subtitle:0 global headers:0kB muxing overhead
 -100.00005
 1%
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2931>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 17:40:20 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 15:40:20 -0000
Subject: [FFmpeg-trac]  #2932(undetermined:new): w64: fail to decode
Message-ID: <038.bf8d80245379ad1b9332a7c33a4d0c25@avcodec.org>

#2932: w64: fail to decode
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 attached file created with sound forge have an embedded bmp image

 decodes correctly with libsndfile

 http://www.datafilehost.com/d/98dcf814

 {{{
 C:\>ffmpeg -i sample2.w64 -f null -
 ffmpeg version N-55957-g21dc3a3 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  2 2013 02:43:35 with gcc 4.5.0 (GCC) 20100414 (Fedora
 MinGW 4.5.
 0-1.fc14)
   configuration: --prefix=/var/www/users/research/ffmpeg/snapshots/build
 --arch=
 x86 --target-os=mingw32 --cross-prefix=i686-pc-mingw32- --cc='ccache i686
 -pc-min
 gw32-gcc' --enable-pthreads --enable-memalign-hack --enable-runtime-
 cpudetect --
 enable-cross-compile --enable-static --disable-shared --extra-
 libs='-lws2_32 -lw
 inmm -lpthread' --extra-cflags='--static
 -I/var/www/users/research/ffmpeg/snapsh
 ots/build/include' --extra-ldflags='-static
 -L/var/www/users/research/ffmpeg/sna
 pshots/build/lib' --enable-bzlib --enable-zlib --enable-gpl --enable-
 version3 --
 enable-nonfree --enable-libx264 --enable-libspeex --enable-libtheora
 --enable-li
 bvorbis --enable-libfaac --enable-libxvid --enable-libopencore-amrnb
 --enable-li
 bopencore-amrwb --enable-libmp3lame --enable-libfreetype --enable-libvpx
 --disab
 le-decoder=libvpx
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 30.100 / 55. 30.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 sample2.w64: Invalid data found when processing input
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2932>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 19:15:06 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 17:15:06 -0000
Subject: [FFmpeg-trac] #2882(avdevice:closed): ffmpeg can't save h264
 stream from v4l2 webcam into file without recoding
In-Reply-To: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
References: <034.6ca992772fd51ebb518c0edca939f303@avcodec.org>
Message-ID: <049.e724992b739e9ffac736ad6b59baa2a8@avcodec.org>

#2882: ffmpeg can't save h264 stream from v4l2 webcam into file without recoding
------------------------------------+------------------------------------
             Reporter:  pchel       |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avdevice
              Version:  git-master  |               Resolution:  fixed
             Keywords:  v4l2 h264   |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by pchel):

 Replying to [comment:24 cehoyos]:
 > > Also as ffmpeg output
 > >
 > > {{{
 > > Stream #1:0: Video: h264 (Constrained Baseline), yuvj420p(pc),
 1920x1080 [SAR 1:1 DAR 16:9], -5 kb/s, 30 fps, 30 tbr, 1000k tbn, 60 tbc
 > > }}}
 >
 > Yes, this may be a bug.


 Hmm. But the camera supports 30 fps on the 1920x1080 resolution. See
 below:
 {{{
  v4l2-ctl --list-formats-ext
 ioctl: VIDIOC_ENUM_FMT
         Index       : 0
         Type        : Video Capture
         Pixel Format: 'YUYV'
         Name        : YUV 4:2:2 (YUYV)
                 Size: Discrete 640x480
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 160x90
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 160x120
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 176x144
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 320x180
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 320x240
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 352x288
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 432x240
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 640x360
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 800x448
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 800x600
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 864x480
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 960x720
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 1024x576
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 1280x720
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 1600x896
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 1920x1080
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 2304x1296
                         Interval: Discrete 0.500 s (2.000 fps)
                 Size: Discrete 2304x1536
                         Interval: Discrete 0.500 s (2.000 fps)

         Index       : 1
         Type        : Video Capture
         Pixel Format: 'H264' (compressed)
         Name        : H.264
                 Size: Discrete 640x480
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 160x90
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 160x120
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 176x144
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 320x180
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 320x240
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 352x288
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 432x240
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 640x360
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 800x448
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 800x600
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 864x480
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 960x720
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 1024x576
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 1280x720
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 1600x896
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 1920x1080
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)

         Index       : 2
         Type        : Video Capture
         Pixel Format: 'MJPG' (compressed)
         Name        : MJPEG
                 Size: Discrete 640x480
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 160x90
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 160x120
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 176x144
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 320x180
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 320x240
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 352x288
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 432x240
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 640x360
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 800x448
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 800x600
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 864x480
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 960x720
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 1024x576
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 1280x720
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 1600x896
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)
                 Size: Discrete 1920x1080
                         Interval: Discrete 0.033 s (30.000 fps)
                         Interval: Discrete 0.042 s (24.000 fps)
                         Interval: Discrete 0.050 s (20.000 fps)
                         Interval: Discrete 0.067 s (15.000 fps)
                         Interval: Discrete 0.100 s (10.000 fps)
                         Interval: Discrete 0.133 s (7.500 fps)
                         Interval: Discrete 0.200 s (5.000 fps)


 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2882#comment:25>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 23:14:47 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 21:14:47 -0000
Subject: [FFmpeg-trac] #2892(avformat:closed): Setting mov timecode
 fails when remuxing mpegvideo because of high tbc value (was: Setting mov
 timecode fails when remuxing from mpegps because of high tbc value)
In-Reply-To: <035.0e90d587663d7770fe826accc28b4b2a@avcodec.org>
References: <035.0e90d587663d7770fe826accc28b4b2a@avcodec.org>
Message-ID: <050.340c6532097f98cc0ae37d2530c54336@avcodec.org>

#2892: Setting mov timecode fails when remuxing mpegvideo because of high tbc
value
------------------------------------+------------------------------------
             Reporter:  ortoni      |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:  fixed
             Keywords:  mov         |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------
Changes (by cehoyos):

 * keywords:  mov mpegps => mov
 * resolution:   => fixed
 * status:  new => closed
 * component:  undetermined => avformat


Comment:

 Fixed by Michael in 2501f6d.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2892#comment:11>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  2 23:15:07 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 21:15:07 -0000
Subject: [FFmpeg-trac] #2928(undetermined:new): FFmpeg embeds "stts"
 atom in .mov without being asked.
In-Reply-To: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>
References: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>
Message-ID: <055.3d66da153043f338be1362c3f8dc09d8@avcodec.org>

#2928: FFmpeg embeds "stts" atom in .mov without being asked.
-------------------------------------+-------------------------------------
             Reporter:  felixhandte  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  mov          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 I suspect this problem was fixed today, please test again!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2928#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 00:03:39 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 22:03:39 -0000
Subject: [FFmpeg-trac] #2932(avformat:open): w64: fail to decode
In-Reply-To: <038.bf8d80245379ad1b9332a7c33a4d0c25@avcodec.org>
References: <038.bf8d80245379ad1b9332a7c33a4d0c25@avcodec.org>
Message-ID: <053.0ce39c52e5645574a469c43719afaaa4@avcodec.org>

#2932: w64: fail to decode
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  w64          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avformat
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => w64 regression


Comment:

 Regression since 14d50c1.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2932#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 00:17:17 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 22:17:17 -0000
Subject: [FFmpeg-trac] #2931(avformat:open): mp3: wrong duration
In-Reply-To: <038.c4ad80a519b588cb93a6a801e5d8632a@avcodec.org>
References: <038.c4ad80a519b588cb93a6a801e5d8632a@avcodec.org>
Message-ID: <053.a0984d25b6a11a3f84f18e0dff25ecd0@avcodec.org>

#2931: mp3: wrong duration
--------------------------------------+------------------------------------
             Reporter:  ami_stuff     |                    Owner:
                 Type:  defect        |                   Status:  open
             Priority:  normal        |                Component:  avformat
              Version:  git-master    |               Resolution:
             Keywords:  mp3 duration  |               Blocked By:
             Blocking:                |  Reproduced by developer:  1
Analyzed by developer:  0             |
--------------------------------------+------------------------------------
Changes (by cehoyos):

 * keywords:   => mp3 duration
 * status:  new => open
 * version:  unspecified => git-master
 * component:  undetermined => avformat
 * reproduced:  0 => 1


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2931#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 00:39:31 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 22:39:31 -0000
Subject: [FFmpeg-trac]  #2933(avformat:new): flv captions
Message-ID: <036.b1de9c742b95d686e1fd5c041101caec@avcodec.org>

#2933: flv captions
---------------------------------------+----------------------------------
               Reporter:  cehoyos      |                  Owner:
                   Type:  enhancement  |                 Status:  new
               Priority:  wish         |              Component:  avformat
                Version:  git-master   |               Keywords:  flv sub
             Blocked By:               |               Blocking:
Reproduced by developer:  0            |  Analyzed by developer:  0
---------------------------------------+----------------------------------
 http://ffmpeg.gusari.org/viewtopic.php?f=16&t=1013
 A user provided two flv samples that are said to contain "captions" made
 with [[http://www.buraks.com/captionate|Captionate]] that can be shown
 with JWplayer and
 [[http://www.adobe.com/cfusion/exchange/index.cfm?event=extensionDetail&loc=en_us&extid=1182518#|Flash
 Professional Extension]].
 {{{
 $ ffmpeg -i NSF_CT_001.flv
 ffmpeg version N-55966-gfdd1aaf Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  3 2013 00:31:26 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl --disable-indev=jack
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.100 / 55. 31.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [flv @ 0x2c90080] Stream discovered after head already parsed
 Input #0, flv, from 'NSF_CT_001.flv':
   Metadata:
     creationdate    : Thu Jun 20 16:55:42 2013
     lasttimestamp   : 113
     lastkeyframetimestamp: 112
     audiodelay      : 0
     canSeekToEnd    : false
     videosize       : 6627143
     audiosize       : 1877740
     datasize        : 4116
     metadatacreator : Manitu Group Captionate 2
   Duration: 00:01:53.03, start: 0.000000, bitrate: 602 kb/s
     Stream #0:0: Video: vp6f, yuv420p, 480x360, 614 kb/s, 29.97 tbr, 1k
 tbn, 1k tbc
     Stream #0:1: Audio: mp3, 44100 Hz, stereo, s16p, 128 kb/s
     Stream #0:2: Data: none
 At least one output file must be specified
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2933>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 00:40:55 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 22:40:55 -0000
Subject: [FFmpeg-trac] #2933(avformat:new): flv captions
In-Reply-To: <036.b1de9c742b95d686e1fd5c041101caec@avcodec.org>
References: <036.b1de9c742b95d686e1fd5c041101caec@avcodec.org>
Message-ID: <051.4950a8c3452e81dfdd5f09dc4c3f7f2c@avcodec.org>

#2933: flv captions
-------------------------------------+------------------------------------
             Reporter:  cehoyos      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  flv sub      |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by cehoyos):

 Samples uploaded to http://samples.ffmpeg.org/ffmpeg-bugs/trac/ticket2933/

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2933#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 01:34:51 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 02 Sep 2013 23:34:51 -0000
Subject: [FFmpeg-trac] #2932(avformat:closed): w64: fail to decode
In-Reply-To: <038.bf8d80245379ad1b9332a7c33a4d0c25@avcodec.org>
References: <038.bf8d80245379ad1b9332a7c33a4d0c25@avcodec.org>
Message-ID: <053.697baf10db1e721e756a5a3414c184d6@avcodec.org>

#2932: w64: fail to decode
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:  fixed
             Keywords:  w64          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by richardpl):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in 79b70e47a46305.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2932#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 02:49:39 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 00:49:39 -0000
Subject: [FFmpeg-trac] #2932(avformat:closed): w64: fail to decode
In-Reply-To: <038.bf8d80245379ad1b9332a7c33a4d0c25@avcodec.org>
References: <038.bf8d80245379ad1b9332a7c33a4d0c25@avcodec.org>
Message-ID: <053.f555cbe96df10c8ca4c8d73d7a1a41a4@avcodec.org>

#2932: w64: fail to decode
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:  fixed
             Keywords:  w64          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by jamal):

 The fix is wrong, or it at least is not a proper one.
 What needs to be changed is the last avio_skip() from summarylist
 from
 {{{
 avio_skip(pb, end - avio_tell(pb))
 }}}
 to
 {{{
 avio_skip(pb, end - avio_tell(pb) - 24)
 }}}

 Check the sample with an hex editor. The size for the summarylist chunk is
 reported as 200.
 As things are right now (Commit 79b70e47a46305), after the avio_skip()
 from summarylist the next (and unknown) GUID is
 "0x08000000280000000004000000030000" with size 2097153, then after that
 one is skipped the next GUID is "0xede0d800e9ddd900ebdedc00ece0de00" with
 size 57641763956315878, which is of course nonsense.

 If you add the "- 24" to summarylist's avio_skip(), the unknown GUID that
 comes after summarylist becomes "0x25ca2c61bb92554c84087bda2f15bd27" and
 the size 3145800, which after skipping the aviocontext will point exactly
 to EOF.
 That single unknown GUID is the BMP file ami_stuff mentioned.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2932#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 02:56:39 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 00:56:39 -0000
Subject: [FFmpeg-trac] #2932(avformat:closed): w64: fail to decode
In-Reply-To: <038.bf8d80245379ad1b9332a7c33a4d0c25@avcodec.org>
References: <038.bf8d80245379ad1b9332a7c33a4d0c25@avcodec.org>
Message-ID: <053.7f12edde268e37cb3ad31eae9e7f1fed@avcodec.org>

#2932: w64: fail to decode
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:  fixed
             Keywords:  w64          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by jamal):

 * cc: jamrial@? (added)


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2932#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 03:06:56 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 01:06:56 -0000
Subject: [FFmpeg-trac] #2932(avformat:closed): w64: fail to decode
In-Reply-To: <038.bf8d80245379ad1b9332a7c33a4d0c25@avcodec.org>
References: <038.bf8d80245379ad1b9332a7c33a4d0c25@avcodec.org>
Message-ID: <053.da4b4a535299cedf16f779f0121cb8d9@avcodec.org>

#2932: w64: fail to decode
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:  fixed
             Keywords:  w64          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by richardpl):

 Fixed, thanks for pointing it out.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2932#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 05:16:53 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 03:16:53 -0000
Subject: [FFmpeg-trac] #2896(avfilter:closed): Using video filters
 "fieldmatch" and "yadif" together causes crash
In-Reply-To: <035.279a9f9524243ad34b5f5734cc456cb1@avcodec.org>
References: <035.279a9f9524243ad34b5f5734cc456cb1@avcodec.org>
Message-ID: <050.6b299c8452ab5ea45c82bb2ee15744c6@avcodec.org>

#2896: Using video filters "fieldmatch" and "yadif" together causes crash
-------------------------------------+-------------------------------------
             Reporter:  Mornix       |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avfilter
              Version:  git-master   |               Resolution:  fixed
             Keywords:  yadif crash  |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 Fixed in 92b7e7b31817cd470c38f84bac2053cd565ae521

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2896#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 09:56:26 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 07:56:26 -0000
Subject: [FFmpeg-trac] #2934(undetermined:new): c93: invalid read
In-Reply-To: <038.dde88e459da2af73de0007db663f79d9@avcodec.org>
References: <038.dde88e459da2af73de0007db663f79d9@avcodec.org>
Message-ID: <053.d327809af500a8774e8258023604b464@avcodec.org>

#2934: c93: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  c93          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => c93


Comment:

 Does it crash for you on any platform (or is this a valgrind bug)?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2934#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 11:22:04 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 09:22:04 -0000
Subject: [FFmpeg-trac] #2934(undetermined:new): c93: invalid read
In-Reply-To: <038.dde88e459da2af73de0007db663f79d9@avcodec.org>
References: <038.dde88e459da2af73de0007db663f79d9@avcodec.org>
Message-ID: <053.978197abe0925565d8ee83dae2c22f86@avcodec.org>

#2934: c93: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  c93          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by ami_stuff):

 Replying to [comment:1 cehoyos]:
 > Does it crash for you on any platform (or is this a valgrind bug)?

 it crashes on windows (I was surprised it doesn't on linux)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2934#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 11:28:58 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 09:28:58 -0000
Subject: [FFmpeg-trac] #2934(undetermined:new): c93: invalid read
In-Reply-To: <038.dde88e459da2af73de0007db663f79d9@avcodec.org>
References: <038.dde88e459da2af73de0007db663f79d9@avcodec.org>
Message-ID: <053.019958026f2a77d8899133ec2689468b@avcodec.org>

#2934: c93: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  c93          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by ami_stuff):

 also crashes with this file (-vcodec c93):

 http://www.datafilehost.com/d/c4cc8ec2

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2934#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 12:02:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 10:02:40 -0000
Subject: [FFmpeg-trac] #2935(undetermined:new): .nsv at the end of the URL
 hang ffmpeg.
Message-ID: <037.9c07d3a5390ac83ef32428b1878c17e5@avcodec.org>

#2935: .nsv at the end of the URL hang ffmpeg.
-------------------------------------+-------------------------------------
             Reporter:  kasper93     |                     Type:  defect
               Status:  new          |                 Priority:  minor
            Component:               |                  Version:  git-
  undetermined                       |  master
             Keywords:  nsv          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 Summary of the bug:
 FFmpeg is trying to read .nsv form URL forever, without timeout or
 anything. Problem is with URLs like this one
 `http://antywawamp3-01.eurozet.pl:8600/;stream.nsv`
 it's common to found stream link with `;stream.nsv` at the end. FFmpeg
 works fine with `http://antywawamp3-01.eurozet.pl:8600/`. So either URL
 should be trim after '`;`' by ffmpeg. And one more thing is that FFmpeg
 shouldn't hang when it gets wrong .nsv stream.

 How to reproduce:
 {{{
 % ffmpeg -i http://antywawamp3-01.eurozet.pl:8600/;stream.nsv
 ffmpeg version N-55966-gfdd1aaf Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  2 2013 18:04:07 with gcc 4.7.3 (GCC)
   configuration: --disable-static --enable-shared --enable-gpl --enable-
 version3 --disable-w32threads --enable-avisynth --enable-bzlib --enable-
 fontconfig --enable-frei0r --enable-gnutls --enable-iconv --enable-libass
 --enable-libbluray --enable-libcaca --enable-libfreetype --enable-libgsm
 --enable-libilbc --enable-libmodplug --enable-libmp3lame --enable-
 libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
 --enable-libopus --enable-librtmp --enable-libschroedinger --enable-
 libsoxr --enable-libspeex --enable-libtheora --enable-libtwolame --enable-
 libvo-aacenc --enable-libvo-amrwbenc --enable-libvorbis --enable-libvpx
 --enable-libx264 --enable-libxavs --enable-libxvid --enable-zlib
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.100 / 55. 31.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2935>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 12:05:41 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 10:05:41 -0000
Subject: [FFmpeg-trac] #2935(undetermined:new): .nsv at the end of the
 URL hangs ffmpeg. (was: .nsv at the end of the URL hang ffmpeg.)
In-Reply-To: <037.9c07d3a5390ac83ef32428b1878c17e5@avcodec.org>
References: <037.9c07d3a5390ac83ef32428b1878c17e5@avcodec.org>
Message-ID: <052.803741780363030494be40a208408a3a@avcodec.org>

#2935: .nsv at the end of the URL hangs ffmpeg.
-------------------------------------+-------------------------------------
             Reporter:  kasper93     |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  minor        |                Component:
              Version:  git-master   |  undetermined
             Keywords:  nsv          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2935#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 12:48:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 10:48:50 -0000
Subject: [FFmpeg-trac] #2935(undetermined:new): .nsv at the end of the
 URL hangs ffmpeg.
In-Reply-To: <037.9c07d3a5390ac83ef32428b1878c17e5@avcodec.org>
References: <037.9c07d3a5390ac83ef32428b1878c17e5@avcodec.org>
Message-ID: <052.047db6313ac6891c475574c7f22caa92@avcodec.org>

#2935: .nsv at the end of the URL hangs ffmpeg.
-------------------------------------+-------------------------------------
             Reporter:  kasper93     |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  minor        |                Component:
              Version:  git-master   |  undetermined
             Keywords:  http         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  nsv => http


Comment:

 Does not hang here:
 {{{
 $ ffmpeg -i "http://antywawamp3-01.eurozet.pl:8600/;stream.nsv"
 ffmpeg version N-55970-g92b7e7b Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  3 2013 09:44:52 with gcc 4.7 (SUSE Linux)
   configuration: --disable-indev=jack
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.100 / 55. 31.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
 http://antywawamp3-01.eurozet.pl:8600/;stream.nsv: Operation not permitted
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2935#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 12:54:34 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 10:54:34 -0000
Subject: [FFmpeg-trac] #2698(avfilter:closed): colorbalance filter
 should also work without YUV to RGB conversion
In-Reply-To: <036.4ff20c2823b10932bafe52432c66f92d@avcodec.org>
References: <036.4ff20c2823b10932bafe52432c66f92d@avcodec.org>
Message-ID: <051.7b864b0bd293ea597615c6fc8cf5ef53@avcodec.org>

#2698: colorbalance filter should also work without YUV to RGB conversion
--------------------------------------+------------------------------------
             Reporter:  feelart       |                    Owner:
                 Type:  enhancement   |                   Status:  closed
             Priority:  wish          |                Component:  avfilter
              Version:  git-master    |               Resolution:  invalid
             Keywords:  colorbalance  |               Blocked By:
             Blocking:                |  Reproduced by developer:  0
Analyzed by developer:  0             |
--------------------------------------+------------------------------------

Comment (by feelart):

 Initialy, I've just post for the sake of reference results of personal
 exchange between me and the developer of filter, who himself said it
 should be done, but has other priorities.

 If source is YUV everything should stay YUV...

 But, as always, you have an no answer for everything...

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2698#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 13:00:17 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 11:00:17 -0000
Subject: [FFmpeg-trac] #2782(avformat:closed): aac - Malformed AAC
 bitstream - incorrectly fixed with -bsf:a aac_adtstoasc' option
In-Reply-To: <036.9cd3cc20d6a1300a57a37c039f1ce022@avcodec.org>
References: <036.9cd3cc20d6a1300a57a37c039f1ce022@avcodec.org>
Message-ID: <051.fe849a226e205872115f716e9ce92350@avcodec.org>

#2782: aac - Malformed AAC bitstream - incorrectly fixed with -bsf:a
aac_adtstoasc' option
------------------------------------+--------------------------------------
             Reporter:  feelart     |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:  worksforme
             Keywords:  aac mov     |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+--------------------------------------

Comment (by feelart):

 Wheter you don't want to see the bug or you consider it as non implemented
 feature, you've the final word and won't put the matter futher.

 Try also to append/concat to another aac, you'll see it won't work

 But I know, such type of issue wouldn't exist with mp3, as it is not an
 experimental lib.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2782#comment:15>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 13:05:37 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 11:05:37 -0000
Subject: [FFmpeg-trac] #2935(undetermined:new): .nsv at the end of the
 URL hangs ffmpeg.
In-Reply-To: <037.9c07d3a5390ac83ef32428b1878c17e5@avcodec.org>
References: <037.9c07d3a5390ac83ef32428b1878c17e5@avcodec.org>
Message-ID: <052.cbe810cc11f204fd26dd978e09c590b4@avcodec.org>

#2935: .nsv at the end of the URL hangs ffmpeg.
-------------------------------------+-------------------------------------
             Reporter:  kasper93     |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  minor        |                Component:
              Version:  git-master   |  undetermined
             Keywords:  http         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by kasper93):

 I tested it on windows and my friend is also able to reproduce it on
 linux.
 {{{
 $ ./ffmpeg -i "http://antywawamp3-01.eurozet.pl:8600/;stream.nsv"
 ffmpeg version N-55961-gcdd5df8 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  2 2013 05:46:44 with gcc 4.6 (Debian 4.6.3-1)
   configuration: --prefix=/root/ffmpeg-static/64bit --extra-
 cflags='-I/root/ffmpeg-static/64bit/include -static' --extra-
 ldflags='-L/root/ffmpeg-static/64bit/lib -static' --extra-libs='-lxml2
 -lexpat -lfreetype' --enable-static --disable-shared-disable-ffserver
 --disable-doc --enable-bzlib --enable-zlib --enable-postproc --enable-
 runtime-cpudetect --enable-libx264 --enable-gpl --enable-libtheora
 --enable-libvorbis --enable-libmp3lame --enable-gray --enable-libass
 --enable-libfreetype-enable-libopenjpeg --enable-libspeex --enable-libvo-
 aacenc --enable-libvo-amrwbenc --enable-version3 --enable-libvpx
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.100 / 55. 31.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2935#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 13:08:22 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 11:08:22 -0000
Subject: [FFmpeg-trac] #2698(avfilter:closed): colorbalance filter
 should also work without YUV to RGB conversion
In-Reply-To: <036.4ff20c2823b10932bafe52432c66f92d@avcodec.org>
References: <036.4ff20c2823b10932bafe52432c66f92d@avcodec.org>
Message-ID: <051.54ceceb0667d2512c817018bf6f47807@avcodec.org>

#2698: colorbalance filter should also work without YUV to RGB conversion
--------------------------------------+------------------------------------
             Reporter:  feelart       |                    Owner:
                 Type:  enhancement   |                   Status:  closed
             Priority:  wish          |                Component:  avfilter
              Version:  git-master    |               Resolution:  invalid
             Keywords:  colorbalance  |               Blocked By:
             Blocking:                |  Reproduced by developer:  0
Analyzed by developer:  0             |
--------------------------------------+------------------------------------

Comment (by cehoyos):

 Replying to [comment:5 feelart]:
 > Initialy, I've just post for the sake of reference results of personal
 exchange between me and the developer of filter, who himself said it
 should be done, but has other priorities.

 Could you elaborate?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2698#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 13:17:43 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 11:17:43 -0000
Subject: [FFmpeg-trac] #2782(avformat:closed): aac - Malformed AAC
 bitstream - incorrectly fixed with -bsf:a aac_adtstoasc' option
In-Reply-To: <036.9cd3cc20d6a1300a57a37c039f1ce022@avcodec.org>
References: <036.9cd3cc20d6a1300a57a37c039f1ce022@avcodec.org>
Message-ID: <051.68bd32967010556151a4aa67710da3fd@avcodec.org>

#2782: aac - Malformed AAC bitstream - incorrectly fixed with -bsf:a
aac_adtstoasc' option
------------------------------------+--------------------------------------
             Reporter:  feelart     |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:  worksforme
             Keywords:  aac mov     |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+--------------------------------------

Comment (by cehoyos):

 I remember having spent some time with closely related issues before you
 opened this ticket and re-reading the ticket, it appears I have done quite
 extensive testing with the sample you provided.

 As explained, it appears to me that:
 * FFmpeg refuses to mux files that cannot be played with certain third
 party application (and prints an appropriate message)
 * If the right bitstream filter was selected, FFmpeg produces an output
 file that plays with the mentioned applications (WMP, QT etc.)
 * If the input file was badly edited (does not end at a frame boundary),
 FFmpeg prints a warning but succeeds muxing.

 There absolutely ''may'' be an issue, but I was unable to reproduce it
 (using the command lines you provided).

 If you believe there is an issue, please explain how it can be reproduced
 but if the explanation is just "WMP and QT play the file but aacgain
 fails" than I honestly wonder why you think the bug is in FFmpeg.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2782#comment:16>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 16:50:16 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 14:50:16 -0000
Subject: [FFmpeg-trac] #2936(avformat:new): %-syntax for GIF output is not
 respected, can't write individual frames as images
Message-ID: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
----------------------------------+--------------------------------------
             Reporter:  slhck     |                     Type:  defect
               Status:  new       |                 Priority:  normal
            Component:  avformat  |                  Version:  git-master
             Keywords:  gif       |               Blocked By:
             Blocking:            |  Reproduced by developer:  0
Analyzed by developer:  0         |
----------------------------------+--------------------------------------
 Recent ffmpeg does not correctly create individual GIF files. For example,
 I expect this to output one .gif file for each frame:

 {{{
 ffmpeg -i input output%04d.gif
 }}}

 This works in ffmpeg 1.2.1, but it only creates a file called
 `output%04d.gif` for newer versions.

 This creates a file literally called `output%04d.gif`:
 {{{
 ? % ./ffmpeg -i input.mp4 output%04d.gif
 ffmpeg version N-55996-g916549c Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  3 2013 16:43:43 with llvm-gcc 4.2.1 (LLVM build
 2336.11.00)
   configuration: --enable-gpl --enable-version3 --enable-nonfree --enable-
 postproc
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.100 / 55. 31.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.101 /  3. 83.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'input.mp4':
   Metadata:
     major_brand     : isom
     minor_version   : 512
     compatible_brands: isomiso2avc1mp41
     creation_time   : 2012-01-08 11:16:19
     encoder         : John Doe for ID 14077
   Duration: 00:03:31.58, start: 0.000000, bitrate: 2359 kb/s
     Stream #0:0(eng): Video: h264 (High) (avc1 / 0x31637661), yuv420p,
 1280x720 [SAR 1:1 DAR 16:9], 2229 kb/s, 25 fps, 25 tbr, 25 tbn, 50 tbc
 (default)
     Metadata:
       creation_time   : 2012-01-08 11:16:19
       handler_name    : VideoHandler
     Stream #0:1(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, stereo,
 fltp, 125 kb/s (default)
     Metadata:
       creation_time   : 2012-01-08 11:16:19
       handler_name    : SoundHandler
 [swscaler @ 0x7ff76d000a00] No accelerated colorspace conversion found
 from yuv420p to bgr8.
 Output #0, gif, to 'output%04d.gif':
   Metadata:
     major_brand     : isom
     minor_version   : 512
     compatible_brands: isomiso2avc1mp41
     encoder         : Lavf55.15.100
     Stream #0:0(eng): Video: gif, bgr8, 1280x720 [SAR 1:1 DAR 16:9],
 q=2-31, 200 kb/s, 100 tbn, 25 tbc (default)
     Metadata:
       creation_time   : 2012-01-08 11:16:19
       handler_name    : VideoHandler
 Stream mapping:
   Stream #0:0 -> #0:0 (h264 -> gif)
 Press [q] to stop, [?] for help
 frame=  147 fps= 51 q=-1.0 Lsize=   24214kB time=00:00:05.88
 bitrate=33734.8kbits/s
 video:24360kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 -0.599030%
 }}}

 This works in 1.2.1, and it creates individual files for each frame:

 {{{
 ? % ffmpeg -i input.mp4 output%04d.gif
 ffmpeg version 1.2.1 Copyright (c) 2000-2013 the FFmpeg developers
   built on Jul 24 2013 20:10:19 with Apple LLVM version 4.2
 (clang-425.0.28) (based on LLVM 3.2svn)
   configuration: --prefix=/usr/local/Cellar/ffmpeg/1.2.1 --enable-shared
 --enable-pthreads --enable-gpl --enable-version3 --enable-nonfree
 --enable-hardcoded-tables --enable-avresample --enable-vda --cc=cc --host-
 cflags= --host-ldflags= --enable-libx264 --enable-libfaac --enable-
 libmp3lame --enable-libxvid --enable-libfreetype --enable-libtheora
 --enable-libvorbis --enable-libvpx --enable-librtmp --enable-libopencore-
 amrnb --enable-libopencore-amrwb --enable-libvo-aacenc --enable-libass
 --enable-ffplay --enable-libspeex --enable-libschroedinger --enable-
 libfdk-aac --enable-libopus --enable-frei0r --enable-libcaca --enable-
 libopenjpeg --extra-
 cflags='-I/usr/local/Cellar/openjpeg/1.5.1/include/openjpeg-1.5 '
   libavutil      52. 18.100 / 52. 18.100
   libavcodec     54. 92.100 / 54. 92.100
   libavformat    54. 63.104 / 54. 63.104
   libavdevice    54.  3.103 / 54.  3.103
   libavfilter     3. 42.103 /  3. 42.103
   libswscale      2.  2.100 /  2.  2.100
   libswresample   0. 17.102 /  0. 17.102
   libpostproc    52.  2.100 / 52.  2.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'input.mp4':
   Metadata:
     major_brand     : isom
     minor_version   : 512
     compatible_brands: isomiso2avc1mp41
     creation_time   : 2012-01-08 11:16:19
     encoder         : John Doe for ID 14077
   Duration: 00:03:31.58, start: 0.000000, bitrate: 2359 kb/s
     Stream #0:0(eng): Video: h264 (High) (avc1 / 0x31637661), yuv420p,
 1280x720 [SAR 1:1 DAR 16:9], 2229 kb/s, 25 fps, 25 tbr, 25 tbn, 50 tbc
     Metadata:
       creation_time   : 2012-01-08 11:16:19
       handler_name    : VideoHandler
     Stream #0:1(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, stereo,
 fltp, 125 kb/s
     Metadata:
       creation_time   : 2012-01-08 11:16:19
       handler_name    : SoundHandler
 [swscaler @ 0x7fd2e987b800] No accelerated colorspace conversion found
 from yuv420p to bgr8.
 [swscaler @ 0x7fd2e9882c00] No accelerated colorspace conversion found
 from yuv420p to bgr8.
 [swscaler @ 0x7fd2e9847a00] No accelerated colorspace conversion found
 from yuv420p to bgr8.
 Output #0, image2, to 'output%04d.gif':
   Metadata:
     major_brand     : isom
     minor_version   : 512
     compatible_brands: isomiso2avc1mp41
     encoder         : Lavf54.63.104
     Stream #0:0(eng): Video: gif, bgr8, 1280x720 [SAR 1:1 DAR 16:9],
 q=2-31, 200 kb/s, 90k tbn, 25 tbc
     Metadata:
       creation_time   : 2012-01-08 11:16:19
       handler_name    : VideoHandler
 Stream mapping:
   Stream #0:0 -> #0:0 (h264 -> gif)
 Press [q] to stop, [?] for help
 frame=  135 fps= 51 q=0.0 Lsize=N/A time=00:00:05.40 bitrate=N/A
 video:27300kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 -100.000079%
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 16:55:18 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 14:55:18 -0000
Subject: [FFmpeg-trac] #2936(avformat:open): %-syntax for GIF output is
 not respected, can't write individual frames as images
In-Reply-To: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
References: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
Message-ID: <049.1717593c08c61be9c52c3c57d2bc59d5@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
------------------------------------+------------------------------------
             Reporter:  slhck       |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:
             Keywords:  gif         |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  1           |
------------------------------------+------------------------------------
Changes (by Cigaes):

 * analyzed:  0 => 1
 * status:  new => open
 * reproduced:  0 => 1


Comment:

 Compare:
 {{{
 Output #0, gif, to 'output%04d.gif':
 }}}
 and:
 {{{
 Output #0, image2, to 'output%04d.gif':
 }}}
 FFmpeg has gained support for creating animated GIF, and therefore the GIF
 extension is no longer associated to a sequence of images but to a single
 animated file.

 You can get the old behaviour back by adding {{{-f image2}}}, or use PNG
 instead of GIF.

 A warning may be a good idea to ease the transition.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 16:59:48 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 14:59:48 -0000
Subject: [FFmpeg-trac] #2936(avformat:open): %-syntax for GIF output is
 not respected, can't write individual frames as images
In-Reply-To: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
References: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
Message-ID: <049.9caa19509385251be2cdff374599b762@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
------------------------------------+------------------------------------
             Reporter:  slhck       |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:
             Keywords:  gif         |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  1           |
------------------------------------+------------------------------------

Comment (by slhck):

 Replying to [comment:1 Cigaes]:
 > FFmpeg has gained support for creating animated GIF

 AFAICT that has been around for quite some time and could be achieved by
 simply choosing an output file name without `%` syntax.


 > You can get the old behaviour back by adding {{{-f image2}}}

 No, because this creates JPEG images under a .gif extension. ffmpeg
 outputs:

 {{{
 Stream #0:0 -> #0:0 (h264 -> mjpeg)
 }}}

 and if you inspect the files created:

 {{{
 ? % mediainfo output0118.gif
 General
 Complete name                            : output0118.gif
 Format                                   : JPEG
 File size                                : 38.0 KiB

 Image
 Format                                   : JPEG
 Width                                    : 1 280 pixels
 Height                                   : 720 pixels
 Color space                              : YUV
 Chroma subsampling                       : 4:2:0
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 17:19:58 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 15:19:58 -0000
Subject: [FFmpeg-trac] #2936(avformat:open): %-syntax for GIF output is
 not respected, can't write individual frames as images
In-Reply-To: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
References: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
Message-ID: <049.2cc62dbda406fa8efc4326092659c348@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
------------------------------------+------------------------------------
             Reporter:  slhck       |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:
             Keywords:  gif         |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  1           |
------------------------------------+------------------------------------

Comment (by Cigaes):

 Replying to [comment:2 slhck]:
 > AFAICT that has been around for quite some time and could be achieved by
 simply choosing an output file name without `%` syntax.

 True, but it did not work well. It was greatly enhanced last April,
 probably deemed mature enough to become the default.

 > No, because this creates JPEG images under a .gif extension.

 You are right, I missed that. And adding {{{-c gif}}} does not fix it. It
 seems that the works on animated GIF has completely broken support for GIF
 as individual images.

 > {{{? % mediainfo output0118.gif}}}

 The output of mediainfo has rarely been any use for anything.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 17:28:56 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 15:28:56 -0000
Subject: [FFmpeg-trac] #2936(avformat:open): %-syntax for GIF output is
 not respected, can't write individual frames as images
In-Reply-To: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
References: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
Message-ID: <049.d5a4ea5f92ea47edd55da00702540e20@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
------------------------------------+------------------------------------
             Reporter:  slhck       |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:
             Keywords:  gif         |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  1           |
------------------------------------+------------------------------------

Comment (by slhck):

 Replying to [comment:3 Cigaes]:
 > Replying to [comment:2 slhck]:
 > > No, because this creates JPEG images under a .gif extension.
 >
 > You are right, I missed that. And adding {{{-c gif}}} does not fix it.
 It seems that the works on animated GIF has completely broken support for
 GIF as individual images.

 What do you think would be the proper resolution here?

 The only good option, in my opinion, would be to allow `image2` to output
 individual GIFs again, with the proper codec ? just like it auto-selects
 JPEG and PNG properly. The functionality for writing a non-animated GIF is
 there anyway.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 17:37:13 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 15:37:13 -0000
Subject: [FFmpeg-trac] #2936(avformat:open): %-syntax for GIF output is
 not respected, can't write individual frames as images
In-Reply-To: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
References: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
Message-ID: <049.806511a7a22b9f063f130770418f56d3@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
------------------------------------+------------------------------------
             Reporter:  slhck       |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:
             Keywords:  gif         |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  1           |
------------------------------------+------------------------------------

Old description:

> Recent ffmpeg does not correctly create individual GIF files. For
> example, I expect this to output one .gif file for each frame:
>
> {{{
> ffmpeg -i input output%04d.gif
> }}}
>
> This works in ffmpeg 1.2.1, but it only creates a file called
> `output%04d.gif` for newer versions.
>
> This creates a file literally called `output%04d.gif`:
> {{{
> ? % ./ffmpeg -i input.mp4 output%04d.gif
> ffmpeg version N-55996-g916549c Copyright (c) 2000-2013 the FFmpeg
> developers
>   built on Sep  3 2013 16:43:43 with llvm-gcc 4.2.1 (LLVM build
> 2336.11.00)
>   configuration: --enable-gpl --enable-version3 --enable-nonfree
> --enable-postproc
>   libavutil      52. 43.100 / 52. 43.100
>   libavcodec     55. 31.100 / 55. 31.100
>   libavformat    55. 15.100 / 55. 15.100
>   libavdevice    55.  3.100 / 55.  3.100
>   libavfilter     3. 83.101 /  3. 83.101
>   libswscale      2.  5.100 /  2.  5.100
>   libswresample   0. 17.103 /  0. 17.103
>   libpostproc    52.  3.100 / 52.  3.100
> Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'input.mp4':
>   Metadata:
>     major_brand     : isom
>     minor_version   : 512
>     compatible_brands: isomiso2avc1mp41
>     creation_time   : 2012-01-08 11:16:19
>     encoder         : John Doe for ID 14077
>   Duration: 00:03:31.58, start: 0.000000, bitrate: 2359 kb/s
>     Stream #0:0(eng): Video: h264 (High) (avc1 / 0x31637661), yuv420p,
> 1280x720 [SAR 1:1 DAR 16:9], 2229 kb/s, 25 fps, 25 tbr, 25 tbn, 50 tbc
> (default)
>     Metadata:
>       creation_time   : 2012-01-08 11:16:19
>       handler_name    : VideoHandler
>     Stream #0:1(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, stereo,
> fltp, 125 kb/s (default)
>     Metadata:
>       creation_time   : 2012-01-08 11:16:19
>       handler_name    : SoundHandler
> [swscaler @ 0x7ff76d000a00] No accelerated colorspace conversion found
> from yuv420p to bgr8.
> Output #0, gif, to 'output%04d.gif':
>   Metadata:
>     major_brand     : isom
>     minor_version   : 512
>     compatible_brands: isomiso2avc1mp41
>     encoder         : Lavf55.15.100
>     Stream #0:0(eng): Video: gif, bgr8, 1280x720 [SAR 1:1 DAR 16:9],
> q=2-31, 200 kb/s, 100 tbn, 25 tbc (default)
>     Metadata:
>       creation_time   : 2012-01-08 11:16:19
>       handler_name    : VideoHandler
> Stream mapping:
>   Stream #0:0 -> #0:0 (h264 -> gif)
> Press [q] to stop, [?] for help
> frame=  147 fps= 51 q=-1.0 Lsize=   24214kB time=00:00:05.88
> bitrate=33734.8kbits/s
> video:24360kB audio:0kB subtitle:0 global headers:0kB muxing overhead
> -0.599030%
> }}}
>
> This works in 1.2.1, and it creates individual files for each frame:
>
> {{{
> ? % ffmpeg -i input.mp4 output%04d.gif
> ffmpeg version 1.2.1 Copyright (c) 2000-2013 the FFmpeg developers
>   built on Jul 24 2013 20:10:19 with Apple LLVM version 4.2
> (clang-425.0.28) (based on LLVM 3.2svn)
>   configuration: --prefix=/usr/local/Cellar/ffmpeg/1.2.1 --enable-shared
> --enable-pthreads --enable-gpl --enable-version3 --enable-nonfree
> --enable-hardcoded-tables --enable-avresample --enable-vda --cc=cc
> --host-cflags= --host-ldflags= --enable-libx264 --enable-libfaac
> --enable-libmp3lame --enable-libxvid --enable-libfreetype --enable-
> libtheora --enable-libvorbis --enable-libvpx --enable-librtmp --enable-
> libopencore-amrnb --enable-libopencore-amrwb --enable-libvo-aacenc
> --enable-libass --enable-ffplay --enable-libspeex --enable-
> libschroedinger --enable-libfdk-aac --enable-libopus --enable-frei0r
> --enable-libcaca --enable-libopenjpeg --extra-
> cflags='-I/usr/local/Cellar/openjpeg/1.5.1/include/openjpeg-1.5 '
>   libavutil      52. 18.100 / 52. 18.100
>   libavcodec     54. 92.100 / 54. 92.100
>   libavformat    54. 63.104 / 54. 63.104
>   libavdevice    54.  3.103 / 54.  3.103
>   libavfilter     3. 42.103 /  3. 42.103
>   libswscale      2.  2.100 /  2.  2.100
>   libswresample   0. 17.102 /  0. 17.102
>   libpostproc    52.  2.100 / 52.  2.100
> Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'input.mp4':
>   Metadata:
>     major_brand     : isom
>     minor_version   : 512
>     compatible_brands: isomiso2avc1mp41
>     creation_time   : 2012-01-08 11:16:19
>     encoder         : John Doe for ID 14077
>   Duration: 00:03:31.58, start: 0.000000, bitrate: 2359 kb/s
>     Stream #0:0(eng): Video: h264 (High) (avc1 / 0x31637661), yuv420p,
> 1280x720 [SAR 1:1 DAR 16:9], 2229 kb/s, 25 fps, 25 tbr, 25 tbn, 50 tbc
>     Metadata:
>       creation_time   : 2012-01-08 11:16:19
>       handler_name    : VideoHandler
>     Stream #0:1(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, stereo,
> fltp, 125 kb/s
>     Metadata:
>       creation_time   : 2012-01-08 11:16:19
>       handler_name    : SoundHandler
> [swscaler @ 0x7fd2e987b800] No accelerated colorspace conversion found
> from yuv420p to bgr8.
> [swscaler @ 0x7fd2e9882c00] No accelerated colorspace conversion found
> from yuv420p to bgr8.
> [swscaler @ 0x7fd2e9847a00] No accelerated colorspace conversion found
> from yuv420p to bgr8.
> Output #0, image2, to 'output%04d.gif':
>   Metadata:
>     major_brand     : isom
>     minor_version   : 512
>     compatible_brands: isomiso2avc1mp41
>     encoder         : Lavf54.63.104
>     Stream #0:0(eng): Video: gif, bgr8, 1280x720 [SAR 1:1 DAR 16:9],
> q=2-31, 200 kb/s, 90k tbn, 25 tbc
>     Metadata:
>       creation_time   : 2012-01-08 11:16:19
>       handler_name    : VideoHandler
> Stream mapping:
>   Stream #0:0 -> #0:0 (h264 -> gif)
> Press [q] to stop, [?] for help
> frame=  135 fps= 51 q=0.0 Lsize=N/A time=00:00:05.40 bitrate=N/A
> video:27300kB audio:0kB subtitle:0 global headers:0kB muxing overhead
> -100.000079%
> }}}

New description:

 Recent ffmpeg does not correctly create individual GIF files. For example,
 I expect this to output one .gif file for each frame:

 {{{
 ffmpeg -i input output%04d.gif
 }}}

 This works in ffmpeg 1.2.1, but it only creates a file called
 `output%04d.gif` for newer versions.

 This creates a file literally called `output%04d.gif`:
 {{{
 +- % ./ffmpeg -i input.mp4 output%04d.gif
 ffmpeg version N-55996-g916549c Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  3 2013 16:43:43 with llvm-gcc 4.2.1 (LLVM build
 2336.11.00)
   configuration: --enable-gpl --enable-version3 --enable-nonfree --enable-
 postproc
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.100 / 55. 31.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.101 /  3. 83.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'input.mp4':
   Metadata:
     major_brand     : isom
     minor_version   : 512
     compatible_brands: isomiso2avc1mp41
     creation_time   : 2012-01-08 11:16:19
     encoder         : John Doe for ID 14077
   Duration: 00:03:31.58, start: 0.000000, bitrate: 2359 kb/s
     Stream #0:0(eng): Video: h264 (High) (avc1 / 0x31637661), yuv420p,
 1280x720 [SAR 1:1 DAR 16:9], 2229 kb/s, 25 fps, 25 tbr, 25 tbn, 50 tbc
 (default)
     Metadata:
       creation_time   : 2012-01-08 11:16:19
       handler_name    : VideoHandler
     Stream #0:1(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, stereo,
 fltp, 125 kb/s (default)
     Metadata:
       creation_time   : 2012-01-08 11:16:19
       handler_name    : SoundHandler
 [swscaler @ 0x7ff76d000a00] No accelerated colorspace conversion found
 from yuv420p to bgr8.
 Output #0, gif, to 'output%04d.gif':
   Metadata:
     major_brand     : isom
     minor_version   : 512
     compatible_brands: isomiso2avc1mp41
     encoder         : Lavf55.15.100
     Stream #0:0(eng): Video: gif, bgr8, 1280x720 [SAR 1:1 DAR 16:9],
 q=2-31, 200 kb/s, 100 tbn, 25 tbc (default)
     Metadata:
       creation_time   : 2012-01-08 11:16:19
       handler_name    : VideoHandler
 Stream mapping:
   Stream #0:0 -> #0:0 (h264 -> gif)
 Press [q] to stop, [?] for help
 frame=  147 fps= 51 q=-1.0 Lsize=   24214kB time=00:00:05.88
 bitrate=33734.8kbits/s
 video:24360kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 -0.599030%
 }}}

 This works in 1.2.1, and it creates individual files for each frame:

 {{{
 +- % ffmpeg -i input.mp4 output%04d.gif
 ffmpeg version 1.2.1 Copyright (c) 2000-2013 the FFmpeg developers
   built on Jul 24 2013 20:10:19 with Apple LLVM version 4.2
 (clang-425.0.28) (based on LLVM 3.2svn)
   configuration: --prefix=/usr/local/Cellar/ffmpeg/1.2.1 --enable-shared
 --enable-pthreads --enable-gpl --enable-version3 --enable-nonfree
 --enable-hardcoded-tables --enable-avresample --enable-vda --cc=cc --host-
 cflags= --host-ldflags= --enable-libx264 --enable-libfaac --enable-
 libmp3lame --enable-libxvid --enable-libfreetype --enable-libtheora
 --enable-libvorbis --enable-libvpx --enable-librtmp --enable-libopencore-
 amrnb --enable-libopencore-amrwb --enable-libvo-aacenc --enable-libass
 --enable-ffplay --enable-libspeex --enable-libschroedinger --enable-
 libfdk-aac --enable-libopus --enable-frei0r --enable-libcaca --enable-
 libopenjpeg --extra-
 cflags='-I/usr/local/Cellar/openjpeg/1.5.1/include/openjpeg-1.5 '
   libavutil      52. 18.100 / 52. 18.100
   libavcodec     54. 92.100 / 54. 92.100
   libavformat    54. 63.104 / 54. 63.104
   libavdevice    54.  3.103 / 54.  3.103
   libavfilter     3. 42.103 /  3. 42.103
   libswscale      2.  2.100 /  2.  2.100
   libswresample   0. 17.102 /  0. 17.102
   libpostproc    52.  2.100 / 52.  2.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'input.mp4':
   Metadata:
     major_brand     : isom
     minor_version   : 512
     compatible_brands: isomiso2avc1mp41
     creation_time   : 2012-01-08 11:16:19
     encoder         : John Doe for ID 14077
   Duration: 00:03:31.58, start: 0.000000, bitrate: 2359 kb/s
     Stream #0:0(eng): Video: h264 (High) (avc1 / 0x31637661), yuv420p,
 1280x720 [SAR 1:1 DAR 16:9], 2229 kb/s, 25 fps, 25 tbr, 25 tbn, 50 tbc
     Metadata:
       creation_time   : 2012-01-08 11:16:19
       handler_name    : VideoHandler
     Stream #0:1(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, stereo,
 fltp, 125 kb/s
     Metadata:
       creation_time   : 2012-01-08 11:16:19
       handler_name    : SoundHandler
 [swscaler @ 0x7fd2e987b800] No accelerated colorspace conversion found
 from yuv420p to bgr8.
 [swscaler @ 0x7fd2e9882c00] No accelerated colorspace conversion found
 from yuv420p to bgr8.
 [swscaler @ 0x7fd2e9847a00] No accelerated colorspace conversion found
 from yuv420p to bgr8.
 Output #0, image2, to 'output%04d.gif':
   Metadata:
     major_brand     : isom
     minor_version   : 512
     compatible_brands: isomiso2avc1mp41
     encoder         : Lavf54.63.104
     Stream #0:0(eng): Video: gif, bgr8, 1280x720 [SAR 1:1 DAR 16:9],
 q=2-31, 200 kb/s, 90k tbn, 25 tbc
     Metadata:
       creation_time   : 2012-01-08 11:16:19
       handler_name    : VideoHandler
 Stream mapping:
   Stream #0:0 -> #0:0 (h264 -> gif)
 Press [q] to stop, [?] for help
 frame=  135 fps= 51 q=0.0 Lsize=N/A time=00:00:05.40 bitrate=N/A
 video:27300kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 -100.000079%
 }}}

--

Comment (by richardpl):

 It should be possible to write separate gifs for each frame with image2
 muxer if there is some way to signal such request to gif encoder.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 21:34:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 19:34:50 -0000
Subject: [FFmpeg-trac] #2936(avformat:open): %-syntax for GIF output is
 not respected, can't write individual frames as images
In-Reply-To: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
References: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
Message-ID: <049.972776f9b2e63706ac992f777aa4fdab@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
------------------------------------+------------------------------------
             Reporter:  slhck       |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:
             Keywords:  gif         |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  1           |
------------------------------------+------------------------------------

Comment (by ubitux):

 Replying to [comment:5 richardpl]:
 > It should be possible to write separate gifs for each frame with image2
 muxer if there is some way to signal such request to gif encoder.

 Likely simpler to update image2 to support basic GIF muxing.

 Note that I didn't bother doing this since I still wonder what is the
 motivation behind such usage...

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 21:53:19 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 19:53:19 -0000
Subject: [FFmpeg-trac] #2936(avformat:open): %-syntax for GIF output is
 not respected, can't write individual frames as images
In-Reply-To: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
References: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
Message-ID: <049.4add1e77e5dd187835d2b3b4186c6cf6@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
------------------------------------+------------------------------------
             Reporter:  slhck       |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:
             Keywords:  gif         |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  1           |
------------------------------------+------------------------------------

Comment (by slhck):

 Replying to [comment:6 ubitux]:
 > Note that I didn't bother doing this since I still wonder what is the
 motivation behind such usage...

 Well, I'm not going to disagree with the fact that it's a little odd. But
 at least ffmpeg shouldn't output JPEGs when you pass it a `.gif`
 extension.

 Plus, it's already been working, so it's actually a regression.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 21:58:01 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 19:58:01 -0000
Subject: [FFmpeg-trac] #2937(avformat:new): avformat_new_stream() memory leak
Message-ID: <040.44908461e0c3cf7cd6ce0dcf73680bfb@avcodec.org>

#2937: avformat_new_stream() memory leak
-------------------------------------+-------------------------------------
             Reporter:  jlsantiago0  |                     Type:  defect
               Status:  new          |                 Priority:  important
            Component:  avformat     |                  Version:  git-
             Keywords:  memory leak  |  master
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
 avformat_new_stream() calls avcodec_alloc_context3() which can allocate
 data that is not free'd by the manual freeing of the codec context done by
 ff_free_stream() which is called by avformat_free_context(). In particular
 the st->codec->priv_data is allocated, but not free'd. The attached patch
 modifies ff_free_stream() to call avcodec_close() to properly close the
 codec context allocated in avformat_new_stream() .

 For instance in the following code:

 {{{

 AVFormatContext * formatCtx;
 AVCodec * codec;
 AVStream * avStream;
 AVOutputFormat * outputFormat;
 const char * shortName = "mpegts";
 const char * outputURL = "file://somefile.ts";

 outputFormat = av_guess_format(shortName, outputURL, NULL);
 assert(outputFormat != NULL);
 avformat_alloc_output_context2(&formatCtx, outputFormat, shortName,
 outputURL);
 assert(formatCtx != NULL);
 avio_open2(&formatCtx->pb, outputURL, AVIO_FLAG_WRITE, NULL, NULL);
 codec = avcodec_find_decoder(AV_CODEC_ID_H264);
 assert(codec != NULL);
 avStream = avformat_new_stream(formatCtx, codec);
 assert(avStream != NULL);
 avformat_write_header(formatCtx, NULL);
 av_write_trailer(formatCtx);
 avio_close(formatCtx->pb);
 formatCtx->pb = NULL;
 # Not all of the st[]->codec is free'd here.
 avformat_free_context(formatCtx);


 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2937>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 23:41:42 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 21:41:42 -0000
Subject: [FFmpeg-trac] #2937(avformat:new): avformat_new_stream() memory
 leak
In-Reply-To: <040.44908461e0c3cf7cd6ce0dcf73680bfb@avcodec.org>
References: <040.44908461e0c3cf7cd6ce0dcf73680bfb@avcodec.org>
Message-ID: <055.6d8214bd9afef5f731d39cbf5dc0c1b2@avcodec.org>

#2937: avformat_new_stream() memory leak
-------------------------------------+------------------------------------
             Reporter:  jlsantiago0  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  leak         |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------
Changes (by cehoyos):

 * keywords:  memory leak => leak
 * priority:  important => normal


Comment:

 Please send patches to the ffmpeg-devel mailing list where they will be
 reviewed.
 (If you believe that this is not clearly explained on the ''New Ticket''
 page, please tell us!)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2937#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep  3 23:46:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 03 Sep 2013 21:46:40 -0000
Subject: [FFmpeg-trac] #2937(avformat:new): avformat_new_stream() memory
 leak
In-Reply-To: <040.44908461e0c3cf7cd6ce0dcf73680bfb@avcodec.org>
References: <040.44908461e0c3cf7cd6ce0dcf73680bfb@avcodec.org>
Message-ID: <055.7dccc148bfd52090b530bf6fc0427fa5@avcodec.org>

#2937: avformat_new_stream() memory leak
-------------------------------------+------------------------------------
             Reporter:  jlsantiago0  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  leak         |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by jlsantiago0):

 OK. I sent the patch and the description to the ffmpeg-devel list.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2937#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep  4 18:12:54 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 04 Sep 2013 16:12:54 -0000
Subject: [FFmpeg-trac] #1774(avformat:new): rtpproto: allow "?reuse"
 option in URI
In-Reply-To: <035.91bcdbba3a22fedb8749f87ed3f8e34d@avcodec.org>
References: <035.91bcdbba3a22fedb8749f87ed3f8e34d@avcodec.org>
Message-ID: <050.b7f63a9b6f6d18e08fbd8f1fedd1fa36@avcodec.org>

#1774: rtpproto: allow "?reuse" option in URI
-------------------------------------+------------------------------------
             Reporter:  tmatth       |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  rtp udp      |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by jackjansen):

 I would like to add this request also for opening RTP streams indirectly,
 for example when opening an SDP file.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1774#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep  4 18:36:55 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 04 Sep 2013 16:36:55 -0000
Subject: [FFmpeg-trac] #2930(FFprobe:closed): ffprobe to report DVD
 subtitles frame size
In-Reply-To: <037.0af9b4d8595b2f9195848fa09a7dde5f@avcodec.org>
References: <037.0af9b4d8595b2f9195848fa09a7dde5f@avcodec.org>
Message-ID: <052.6d91bfeb6dad1aadef2b914f6e2d00cc@avcodec.org>

#2930: ffprobe to report DVD subtitles frame size
-------------------------------------+-----------------------------------
             Reporter:  lelegard     |                    Owner:
                 Type:  enhancement  |                   Status:  closed
             Priority:  wish         |                Component:  FFprobe
              Version:  git-master   |               Resolution:  fixed
             Keywords:  dvdsub       |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  1            |
-------------------------------------+-----------------------------------
Changes (by saste):

 * analyzed:  0 => 1
 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in:
 {{{
 commit 83635ac67bc3429c147e214f0f44325b63832384
 Author: Nicolas George <nicolas.george at normalesup.org>
 Date:   Tue Sep 3 16:39:02 2013 +0200

     ffprobe: show bitmap subtitles size.

     Fix trac ticket #2930.
 }}}

 Sample command:
 {{{
 $ ffprobe gg.mkv -show_entries stream=width,height -select_streams s -of
 flat
 [...]
 streams.stream.0.width=1920
 streams.stream.0.height=1080
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2930#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep  5 01:49:41 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 04 Sep 2013 23:49:41 -0000
Subject: [FFmpeg-trac] #2826(avcodec:closed): ljpeg: fix decoding of
 some gray samples (with lossless predictor > 4)
In-Reply-To: <038.407a308aba45e1c5059cfcdba94f8251@avcodec.org>
References: <038.407a308aba45e1c5059cfcdba94f8251@avcodec.org>
Message-ID: <053.48096fb6d06c5d0a512715df1abce66e@avcodec.org>

#2826: ljpeg: fix decoding of some gray samples (with lossless predictor > 4)
-------------------------------------+-----------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  ljpeg mjpeg  |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed by 38f8640df81e96b83ac8d33fddbe3ab3046d50ff

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2826#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep  5 17:30:19 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 05 Sep 2013 15:30:19 -0000
Subject: [FFmpeg-trac] #2871(avcodec:open): jpeg2000: artefacts with
 4:2:0 (and 4:2:2)
In-Reply-To: <038.204ef183d84002cfd074ffb6547b5652@avcodec.org>
References: <038.204ef183d84002cfd074ffb6547b5652@avcodec.org>
Message-ID: <053.35a2a6779d1acadbe329dbd4023a7c0b@avcodec.org>

#2871: jpeg2000: artefacts with 4:2:0 (and 4:2:2)
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  j2k         |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by ami_stuff):

 the same problem with:

 http://www.openjpeg.org/samples/Speedway.mj2

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2871#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep  5 17:50:00 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 05 Sep 2013 15:50:00 -0000
Subject: [FFmpeg-trac] #2934(undetermined:new): c93: invalid read
In-Reply-To: <038.dde88e459da2af73de0007db663f79d9@avcodec.org>
References: <038.dde88e459da2af73de0007db663f79d9@avcodec.org>
Message-ID: <053.91d59a5efa9d9974095f02a8ef551f57@avcodec.org>

#2934: c93: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  c93          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by ami_stuff):

 {{{
 (gdb) r -vcodec c93 -i cyuv.avi -f null -
 Starting program: D:\MinGW\msys\1.0\ffmpeg-HEAD-a67dcd7\ffmpeg_g.exe
 -vcodec c93
  -i cyuv.avi -f null -
 [New Thread 1968.0xf04]
 ffmpeg version 2.0-a67dcd7 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep  5 2013 17:46:37 with gcc 4.6.2 (GCC)
   configuration: --disable-w32threads --disable-yasm --disable-ffprobe
 --enable-
 gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, avi, from 'cyuv.avi':
   Duration: 00:00:05.00, start: 0.000000, bitrate: 4579 kb/s
     Stream #0:0: Video: c93 (cyuv / 0x76757963), pal8, 176x144, 30 tbr, 30
 tbn,
 30 tbc
 [New Thread 1968.0x8ac]
 [New Thread 1968.0x6b4]
 [New Thread 1968.0xba0]
 [New Thread 1968.0x6dc]
 [New Thread 1968.0xcc4]
 [New Thread 1968.0x2d4]
 [New Thread 1968.0xe30]
 [New Thread 1968.0xed0]
 [New Thread 1968.0x790]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.16.101
     Stream #0:0: Video: rawvideo, pal8, 176x144, q=2-31, 200 kb/s, 90k
 tbn, 30 t
 bc
 Stream mapping:
   Stream #0:0 -> #0:0 (c93 -> rawvideo)
 Press [q] to stop, [?] for help
 [c93 @ 04df6e60] unexpected type 1 at 24x0
 Error while decoding stream #0:0: Invalid data found when processing input
 [c93 @ 04df6e60] invalid offset 61163 during C93 decoding
 Error while decoding stream #0:0: Invalid data found when processing input

 Program received signal SIGSEGV, Segmentation fault.
 0x006381c2 in copy_block (stride=208, height=4, offset=<optimized out>,
     from=0x4e01fe0 "????", to=0x4df9370 "", avctx=0x4df6e60)
     at libavcodec/c93.c:96
 96              memcpy(&to[i*stride], &from[(from_y+i)*stride+from_x],
 width);
 (gdb) bt
 #0  0x006381c2 in copy_block (stride=208, height=4, offset=<optimized
 out>,
     from=0x4e01fe0 "????", to=0x4df9370 "", avctx=0x4df6e60)
     at libavcodec/c93.c:96
 #1  decode_frame (avctx=0x4df6e60, data=0x4de1d20, got_frame=0x22fa9c,
     avpkt=0x22f768) at libavcodec/c93.c:179
 #2  0x0059fcb2 in avcodec_decode_video2 (avctx=0x4df6e60,
 picture=0x4de1d20,
     got_picture_ptr=0x22fa9c, avpkt=0x22f898) at libavcodec/utils.c:1983
 #3  0x00413624 in decode_video (got_output=<optimized out>,
     pkt=<optimized out>, ist=<optimized out>) at ffmpeg.c:1668
 #4  output_packet (ist=0x4df8e40, pkt=0x22fbe0) at ffmpeg.c:1866
 #5  0x004162a7 in process_input (file_index=81760096) at ffmpeg.c:3085
 #6  0x00b07c28 in transcode_step () at ffmpeg.c:3181
 #7  transcode () at ffmpeg.c:3233
 #8  main (argc=8, argv=<optimized out>) at ffmpeg.c:3411
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2934#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep  5 23:37:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 05 Sep 2013 21:37:45 -0000
Subject: [FFmpeg-trac] #2938(FFmpeg:new): Incorrect start time and duration
 when transcoding audio-only (-vn) from A/V files.
Message-ID: <037.840db805e6048fb7e8be13ac25688770@avcodec.org>

#2938: Incorrect start time and duration when transcoding audio-only (-vn) from
A/V files.
----------------------------------+--------------------------------------
             Reporter:  rlabonte  |                     Type:  defect
               Status:  new       |                 Priority:  normal
            Component:  FFmpeg    |                  Version:  git-master
             Keywords:            |               Blocked By:
             Blocking:            |  Reproduced by developer:  0
Analyzed by developer:  0         |
----------------------------------+--------------------------------------
 Summary of the bug: When extracting audio only from a a/v file the
 duration gets extended.  When muxed to mov/mp4 container ffprobe reports
 start time as 0.021333 in top level output, but -0.021333 in -show_streams
 output.  I work on video and audio separately and align the video and
 audio to start at 0.00.  This bug has made it impossible to continue to do
 this.  Using audio filter '-af 'aresample=first_pts=0' results in the same
 wrong start time and audio duration.  I have observed this behavior with
 the built-in AAC encoder, libfdk_aac, and libfaac.  Muxing to matroska or
 raw AAC results in a 0.00 start time, but the duration is still off by
 40ms.  I get the same result on all video files that I have tested this
 problem with, I have not been able to get a start time of 0.00 when muxing
 to MOV container.


 How to reproduce:
 {{{
 % ffmpeg -i big_buck_bunny_480p_h264.mov -vn -c:a aac -strict -2
 offset.mov
 ffmpeg version N-56052-g59b9ecc Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  5 2013 14:16:47 with gcc 4.4.3 (Ubuntu 4.4.3-4ubuntu5.1)
   configuration: --enable-nonfree --enable-gpl --enable-version3 --enable-
 libvpx --enable-libtheora --enable-libvorbis --enable-libfaac --enable-
 libfdk_aac --enable-libx264 --enable-libfreetype
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'big_buck_bunny_480p_h264.mov':
   Metadata:
     major_brand     : qt
     minor_version   : 537199360
     compatible_brands: qt
     creation_time   : 2008-05-27 18:32:32
     timecode        : 00:00:00:00
   Duration: 00:09:56.46, start: 0.000000, bitrate: 3342 kb/s
     Stream #0:0(eng): Video: h264 (Main) (avc1 / 0x31637661), yuv420p(tv,
 bt709), 854x480, 2899 kb/s, 24 fps, 24 tbr, 2400 tbn, 4800 tbc (default)
     Metadata:
       creation_time   : 2008-05-27 18:32:32
       handler_name    : Apple Alias Data Handler
     Stream #0:1(eng): Data: none (tmcd / 0x64636D74) (default)
     Metadata:
       creation_time   : 2008-05-27 18:32:32
       handler_name    : Apple Alias Data Handler
       timecode        : 00:00:00:00
     Stream #0:2(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, 5.1, fltp,
 437 kb/s (default)
     Metadata:
       creation_time   : 2008-05-27 18:32:32
       handler_name    : Apple Alias Data Handler
 Output #0, mov, to 'offset.mov':
   Metadata:
     major_brand     : qt
     minor_version   : 537199360
     compatible_brands: qt
     timecode        : 00:00:00:00
     encoder         : Lavf55.16.101
     Stream #0:0(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, 5.1, fltp,
 128 kb/s (default)
     Metadata:
       creation_time   : 2008-05-27 18:32:32
       handler_name    : Apple Alias Data Handler
 Stream mapping:
   Stream #0:2 -> #0:0 (aac -> aac)
 Press [q] to stop, [?] for help
 size=    9445kB time=00:09:56.48 bitrate= 129.7kbits/s
 video:0kB audio:9335kB subtitle:0 global headers:0kB muxing overhead
 1.179736%

 }}}

 FFprobe of original file:
 {{{
 % ffprobe big_buck_bunny_480p_h264.mov -show_streams -select_streams a
 ffprobe version N-56052-g59b9ecc Copyright (c) 2007-2013 the FFmpeg
 developers
   built on Sep  5 2013 14:16:47 with gcc 4.4.3 (Ubuntu 4.4.3-4ubuntu5.1)
   configuration: --enable-nonfree --enable-gpl --enable-version3 --enable-
 libvpx --enable-libtheora --enable-libvorbis --enable-libfaac --enable-
 libfdk_aac --enable-libx264 --enable-libfreetype
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'big_buck_bunny_480p_h264.mov':
   Metadata:
     major_brand     : qt
     minor_version   : 537199360
     compatible_brands: qt
     creation_time   : 2008-05-27 18:32:32
     timecode        : 00:00:00:00
   Duration: 00:09:56.46, start: 0.000000, bitrate: 3342 kb/s
     Stream #0:0(eng): Video: h264 (Main) (avc1 / 0x31637661), yuv420p(tv,
 bt709), 854x480, 2899 kb/s, 24 fps, 24 tbr, 2400 tbn, 4800 tbc (default)
     Metadata:
       creation_time   : 2008-05-27 18:32:32
       handler_name    : Apple Alias Data Handler
     Stream #0:1(eng): Data: none (tmcd / 0x64636D74) (default)
     Metadata:
       creation_time   : 2008-05-27 18:32:32
       handler_name    : Apple Alias Data Handler
       timecode        : 00:00:00:00
     Stream #0:2(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, 5.1, fltp,
 437 kb/s (default)
     Metadata:
       creation_time   : 2008-05-27 18:32:32
       handler_name    : Apple Alias Data Handler
 Unsupported codec with id 0 for input stream 1
 [STREAM]
 index=2
 codec_name=aac
 codec_long_name=AAC (Advanced Audio Coding)
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=mp4a
 codec_tag=0x6134706d
 sample_fmt=fltp
 sample_rate=48000
 channels=6
 bits_per_sample=0
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=0
 start_time=0.000000
 duration_ts=28631040
 duration=596.480000
 bit_rate=437605
 nb_frames=27960
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:creation_time=2008-05-27 18:32:32
 TAG:language=eng
 TAG:handler_name=Apple Alias Data Handler
 [/STREAM]
 }}}

 FFprobe output of output file:
 {{{
 % ffprobe offset.mov -show_streams
 ffprobe version N-56052-g59b9ecc Copyright (c) 2007-2013 the FFmpeg
 developers
   built on Sep  5 2013 14:16:47 with gcc 4.4.3 (Ubuntu 4.4.3-4ubuntu5.1)
   configuration: --enable-nonfree --enable-gpl --enable-version3 --enable-
 libvpx --enable-libtheora --enable-libvorbis --enable-libfaac --enable-
 libfdk_aac --enable-libx264 --enable-libfreetype
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'offset.mov':
   Metadata:
     major_brand     : qt
     minor_version   : 512
     compatible_brands: qt
     encoder         : Lavf55.16.101
   Duration: 00:09:56.50, start: 0.021333, bitrate: 129 kb/s
     Stream #0:0(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, 5.1, fltp,
 128 kb/s (default)
     Metadata:
       handler_name    : DataHandler
 [STREAM]
 index=0
 codec_name=aac
 codec_long_name=AAC (Advanced Audio Coding)
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=mp4a
 codec_tag=0x6134706d
 sample_fmt=fltp
 sample_rate=48000
 channels=6
 bits_per_sample=0
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=-1024
 start_time=-0.021333
 duration_ts=28632064
 duration=596.501333
 bit_rate=128196
 nb_frames=27961
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:language=eng
 TAG:handler_name=DataHandler
 [/STREAM]
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2938>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep  5 23:57:43 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 05 Sep 2013 21:57:43 -0000
Subject: [FFmpeg-trac] #2938(undetermined:new): Incorrect start time and
 duration when transcoding audio-only (-vn) from A/V files.
In-Reply-To: <037.840db805e6048fb7e8be13ac25688770@avcodec.org>
References: <037.840db805e6048fb7e8be13ac25688770@avcodec.org>
Message-ID: <052.140c34fe137d6d474f847dead2ff0339@avcodec.org>

#2938: Incorrect start time and duration when transcoding audio-only (-vn) from
A/V files.
-------------------------------------+-------------------------------------
             Reporter:  rlabonte     |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * component:  FFmpeg => undetermined


Comment:

 Replying to [ticket:2938 rlabonte]:
 > Muxing to matroska or raw AAC results in a 0.00 start time, but the
 duration is still off by 40ms.

 Does this mean audio gets significantly longer (or shorter?) if you encode
 several times?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2938#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep  6 00:10:05 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 05 Sep 2013 22:10:05 -0000
Subject: [FFmpeg-trac] #2938(undetermined:new): Incorrect start time and
 duration when transcoding audio-only (-vn) from A/V files.
In-Reply-To: <037.840db805e6048fb7e8be13ac25688770@avcodec.org>
References: <037.840db805e6048fb7e8be13ac25688770@avcodec.org>
Message-ID: <052.cb1150cc7f7946268af134f046eb888c@avcodec.org>

#2938: Incorrect start time and duration when transcoding audio-only (-vn) from
A/V files.
-------------------------------------+-------------------------------------
             Reporter:  rlabonte     |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by rlabonte):

 Replying to [comment:1 cehoyos]:
 > Replying to [ticket:2938 rlabonte]:
 > > Muxing to matroska or raw AAC results in a 0.00 start time, but the
 duration is still off by 40ms.
 >
 > Does this mean audio gets significantly longer (or shorter?) if you
 encode several times?

 I ran the same command as above but muxed to an MKV container.

 FFprobe output from MKV output of the same command as before:

 {{{
 % ffprobe offset.mkv -show_streams -show_format
 ffprobe version N-56052-g59b9ecc Copyright (c) 2007-2013 the FFmpeg
 developers
   built on Sep  5 2013 14:16:47 with gcc 4.4.3 (Ubuntu 4.4.3-4ubuntu5.1)
   configuration: --enable-nonfree --enable-gpl --enable-version3 --enable-
 libvpx --enable-libtheora --enable-libvorbis --enable-libfaac --enable-
 libfdk_aac --enable-libx264 --enable-libfreetype
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, matroska,webm, from 'offset.mkv':
   Metadata:
     MAJOR_BRAND     : qt
     MINOR_VERSION   : 537199360
     COMPATIBLE_BRANDS: qt
     TIMECODE        : 00:00:00:00
     ENCODER         : Lavf55.16.101
   Duration: 00:09:56.50, start: 0.000000, bitrate: 130 kb/s
     Stream #0:0(eng): Audio: aac, 48000 Hz, 5.1, fltp (default)
     Metadata:
       CREATION_TIME   : 2008-05-27 18:32:32
       LANGUAGE        : eng
       HANDLER_NAME    : Apple Alias Data Handler
 [STREAM]
 index=0
 codec_name=aac
 codec_long_name=AAC (Advanced Audio Coding)
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=[0][0][0][0]
 codec_tag=0x0000
 sample_fmt=fltp
 sample_rate=48000
 channels=6
 bits_per_sample=0
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/1000
 start_pts=0
 start_time=0.000000
 duration_ts=N/A
 duration=N/A
 bit_rate=N/A
 nb_frames=N/A
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:CREATION_TIME=2008-05-27 18:32:32
 TAG:LANGUAGE=eng
 TAG:HANDLER_NAME=Apple Alias Data Handler
 [/STREAM]
 [FORMAT]
 filename=offset.mkv
 nb_streams=1
 nb_programs=0
 format_name=matroska,webm
 format_long_name=Matroska / WebM
 start_time=0.000000
 duration=596.501000
 size=9757210
 bit_rate=130859
 probe_score=100
 TAG:MAJOR_BRAND=qt
 TAG:MINOR_VERSION=537199360
 TAG:COMPATIBLE_BRANDS=qt
 TAG:TIMECODE=00:00:00:00
 TAG:ENCODER=Lavf55.16.101
 [/FORMAT]
 }}}

 I previously failed to mention, -c:a copy is unaffected by this bug.  I
 did a -c:a copy of the resulting mkv version to a new mov container and
 got this:

 {{{
 % ffprobe offset_from_mkv.mov  -show_streams -show_format
 ffprobe version N-56052-g59b9ecc Copyright (c) 2007-2013 the FFmpeg
 developers
   built on Sep  5 2013 14:16:47 with gcc 4.4.3 (Ubuntu 4.4.3-4ubuntu5.1)
   configuration: --enable-nonfree --enable-gpl --enable-version3 --enable-
 libvpx --enable-libtheora --enable-libvorbis --enable-libfaac --enable-
 libfdk_aac --enable-libx264 --enable-libfreetype
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'offset_from_mkv.mov':
   Metadata:
     major_brand     : qt
     minor_version   : 512
     compatible_brands: qt
     encoder         : Lavf55.16.101
   Duration: 00:09:56.50, start: 0.000000, bitrate: 129 kb/s
     Stream #0:0(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, 5.1, fltp,
 128 kb/s (default)
     Metadata:
       handler_name    : DataHandler
 [STREAM]
 index=0
 codec_name=aac
 codec_long_name=AAC (Advanced Audio Coding)
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=mp4a
 codec_tag=0x6134706d
 sample_fmt=fltp
 sample_rate=48000
 channels=6
 bits_per_sample=0
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=0
 start_time=0.000000
 duration_ts=28632040
 duration=596.500833
 bit_rate=128196
 nb_frames=27961
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:language=eng
 TAG:handler_name=DataHandler
 [/STREAM]
 [FORMAT]
 filename=offset_from_mkv.mov
 nb_streams=1
 nb_programs=0
 format_name=mov,mp4,m4a,3gp,3g2,mj2
 format_long_name=QuickTime / MOV
 start_time=0.000000
 duration=596.501000
 size=9671451
 bit_rate=129709
 probe_score=100
 TAG:major_brand=qt
 TAG:minor_version=512
 TAG:compatible_brands=qt
 TAG:encoder=Lavf55.16.101
 [/FORMAT]
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2938#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep  6 00:22:04 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 05 Sep 2013 22:22:04 -0000
Subject: [FFmpeg-trac] #2938(undetermined:new): Incorrect start time and
 duration when transcoding audio-only (-vn) from A/V files.
In-Reply-To: <037.840db805e6048fb7e8be13ac25688770@avcodec.org>
References: <037.840db805e6048fb7e8be13ac25688770@avcodec.org>
Message-ID: <052.43f49bef26d18033b4dbcaa89bc6edb1@avcodec.org>

#2938: Incorrect start time and duration when transcoding audio-only (-vn) from
A/V files.
-------------------------------------+-------------------------------------
             Reporter:  rlabonte     |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by rlabonte):

 Replying to [comment:1 cehoyos]:
 > Replying to [ticket:2938 rlabonte]:
 > > Muxing to matroska or raw AAC results in a 0.00 start time, but the
 duration is still off by 40ms.
 >
 > Does this mean audio gets significantly longer (or shorter?) if you
 encode several times?

 I just realized I misinterpreted your question.  The short answer is the
 audio duration gets longer, but the offset remains the same.

 {{{
 % ffmpeg -i big_buck_bunny_480p_h264.mov -vn -c:a aac -strict -2
 offset1.mov && ffmpeg -i offset1.mov -vn -c:a aac -strict -2 offset2.mov
 && ffmpeg -i offset2.mov -vn -c:a aac -strict -2 offset3.mov
 }}}

 The FFprobe result for the final rendition:

 {{{
 % ffprobe offset3.mov -show_streams -show_format
 ffprobe version N-56052-g59b9ecc Copyright (c) 2007-2013 the FFmpeg
 developers
   built on Sep  5 2013 14:16:47 with gcc 4.4.3 (Ubuntu 4.4.3-4ubuntu5.1)
   configuration: --enable-nonfree --enable-gpl --enable-version3 --enable-
 libvpx --enable-libtheora --enable-libvorbis --enable-libfaac --enable-
 libfdk_aac --enable-libx264 --enable-libfreetype
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'offset3.mov':
   Metadata:
     major_brand     : qt
     minor_version   : 512
     compatible_brands: qt
     encoder         : Lavf55.16.101
   Duration: 00:09:56.54, start: 0.021333, bitrate: 129 kb/s
     Stream #0:0(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, 5.1, fltp,
 128 kb/s (default)
     Metadata:
       handler_name    : DataHandler
 [STREAM]
 index=0
 codec_name=aac
 codec_long_name=AAC (Advanced Audio Coding)
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=mp4a
 codec_tag=0x6134706d
 sample_fmt=fltp
 sample_rate=48000
 channels=6
 bits_per_sample=0
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=-1024
 start_time=-0.021333
 duration_ts=28634112
 duration=596.544000
 bit_rate=128174
 nb_frames=27963
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:language=eng
 TAG:handler_name=DataHandler
 [/STREAM]
 [FORMAT]
 filename=offset3.mov
 nb_streams=1
 nb_programs=0
 format_name=mov,mp4,m4a,3gp,3g2,mj2
 format_long_name=QuickTime / MOV
 start_time=-0.021333
 duration=596.544000
 size=9670468
 bit_rate=129686
 probe_score=100
 TAG:major_brand=qt
 TAG:minor_version=512
 TAG:compatible_brands=qt
 TAG:encoder=Lavf55.16.101
 [/FORMAT]
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2938#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep  6 01:09:54 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 05 Sep 2013 23:09:54 -0000
Subject: [FFmpeg-trac] #2938(undetermined:new): Incorrect start time and
 duration when transcoding audio-only (-vn) from A/V files.
In-Reply-To: <037.840db805e6048fb7e8be13ac25688770@avcodec.org>
References: <037.840db805e6048fb7e8be13ac25688770@avcodec.org>
Message-ID: <052.28133599408ed67116471e41778af193@avcodec.org>

#2938: Incorrect start time and duration when transcoding audio-only (-vn) from
A/V files.
-------------------------------------+-------------------------------------
             Reporter:  rlabonte     |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 How much longer does it get if you encode five (or ten) times?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2938#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep  6 01:34:22 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 05 Sep 2013 23:34:22 -0000
Subject: [FFmpeg-trac] #2938(undetermined:new): Incorrect start time and
 duration when transcoding audio-only (-vn) from A/V files.
In-Reply-To: <037.840db805e6048fb7e8be13ac25688770@avcodec.org>
References: <037.840db805e6048fb7e8be13ac25688770@avcodec.org>
Message-ID: <052.21bb785baa0ccb4c577935e89e8c7e91@avcodec.org>

#2938: Incorrect start time and duration when transcoding audio-only (-vn) from
A/V files.
-------------------------------------+-------------------------------------
             Reporter:  rlabonte     |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by rlabonte):

 Replying to [comment:4 cehoyos]:
 > How much longer does it get if you encode five (or ten) times?

 I did 11 total audio transcodes.  The duration grew by 213.333ms from
 FFprobe's 596.48 seconds for the source audio duration to 596.693333 of
 the final transcode.

 Continuation from my re-transcodes above:
 {{{
 % ffmpeg -i offset3.mov -vn -c:a aac -strict -2 offset4.mov && ffmpeg -i
 offset4.mov -vn -c:a aac -strict -2 offset5.mov && ffmpeg -i offset5.mov
 -vn -c:a aac -strict -2 offset6.mov && ffmpeg -i offset6.mov -vn -c:a aac
 -strict -2 offset7.mov && ffmpeg -i offset7.mov -vn -c:a aac -strict -2
 offset8.mov && ffmpeg -i offset8.mov -vn -c:a aac -strict -2 offset9.mov
 && ffmpeg -i offset9.mov -vn -c:a aac -strict -2 offset10.mov
 }}}

 FFprobe output of offset10.mov:
 {{{
 ffprobe offset10.mov -show_streams
 ffprobe version N-56052-g59b9ecc Copyright (c) 2007-2013 the FFmpeg
 developers
   built on Sep  5 2013 14:16:47 with gcc 4.4.3 (Ubuntu 4.4.3-4ubuntu5.1)
   configuration: --enable-nonfree --enable-gpl --enable-version3 --enable-
 libvpx --enable-libtheora --enable-libvorbis --enable-libfaac --enable-
 libfdk_aac --enable-libx264 --enable-libfreetype
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'offset10.mov':
   Metadata:
     major_brand     : qt
     minor_version   : 512
     compatible_brands: qt
     encoder         : Lavf55.16.101
   Duration: 00:09:56.69, start: 0.021333, bitrate: 129 kb/s
     Stream #0:0(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, 5.1, fltp,
 128 kb/s (default)
     Metadata:
       handler_name    : DataHandler
 [STREAM]
 index=0
 codec_name=aac
 codec_long_name=AAC (Advanced Audio Coding)
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=mp4a
 codec_tag=0x6134706d
 sample_fmt=fltp
 sample_rate=48000
 channels=6
 bits_per_sample=0
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=-1024
 start_time=-0.021333
 duration_ts=28641280
 duration=596.693333
 bit_rate=128101
 nb_frames=27970
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:language=eng
 TAG:handler_name=DataHandler
 [/STREAM]
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2938#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep  6 09:49:18 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 06 Sep 2013 07:49:18 -0000
Subject: [FFmpeg-trac] #2812(avcodec:closed): jpeg: support 12bpp
 grayscale
In-Reply-To: <038.bfda5738dab2899ad22df11530bf26af@avcodec.org>
References: <038.bfda5738dab2899ad22df11530bf26af@avcodec.org>
Message-ID: <053.183732fd9e2787ce241a5df98cffe55d@avcodec.org>

#2812: jpeg: support 12bpp grayscale
-------------------------------------+-----------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  enhancement  |                   Status:  closed
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  mjpeg        |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by cehoyos):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed by Michael in bcd1c20.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2812#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep  6 10:09:59 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 06 Sep 2013 08:09:59 -0000
Subject: [FFmpeg-trac]  #2939(avcodec:new): Support 12bit colour jpeg
Message-ID: <036.03ad42c1caa563826f578b9d63049df7@avcodec.org>

#2939: Support 12bit colour jpeg
---------------------------------------+---------------------------------
               Reporter:  cehoyos      |                  Owner:
                   Type:  enhancement  |                 Status:  new
               Priority:  wish         |              Component:  avcodec
                Version:  git-master   |               Keywords:  mjpeg
             Blocked By:               |               Blocking:
Reproduced by developer:  0            |  Analyzed by developer:  0
---------------------------------------+---------------------------------
 I will attach two 12bit colour jpeg samples, made with libjpegv6b, see
 also ticket #2812.
 {{{
 $ ffmpeg -i lena.jpg
 ffmpeg version N-56060-gbcd1c20 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  6 2013 09:47:17 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl --disable-indev=jack
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.104 /  3. 83.104
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mjpeg @ 0x1b72020] lossy that is not <= 8 bits/component or 16-bit gray
 is not implemented. Update your FFmpeg version to the newest one from Git.
 If the problem still occurs, it means that your file has a feature which
 has not been implemented.
 [image2 @ 0x1b71080] decoding for stream 0 failed
 [image2 @ 0x1b71080] Could not find codec parameters for stream 0 (Video:
 mjpeg): unspecified size
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 lena.jpg: could not find codec parameters
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2939>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep  6 11:49:39 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 06 Sep 2013 09:49:39 -0000
Subject: [FFmpeg-trac] #2748(undetermined:open): Inconsistent UDP output
 packet size
In-Reply-To: <035.68183039186492eaf7f1cdf64fab8c1a@avcodec.org>
References: <035.68183039186492eaf7f1cdf64fab8c1a@avcodec.org>
Message-ID: <050.8d4fda426e858cfe2e39c0c4a47841f2@avcodec.org>

#2748: Inconsistent UDP output packet size
-------------------------------------+-------------------------------------
             Reporter:  lancey       |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  mpegts udp   |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * component:  FFmpeg => undetermined


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2748#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep  6 12:07:14 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 06 Sep 2013 10:07:14 -0000
Subject: [FFmpeg-trac] #2940(undetermined:new): mjpeg: gix a crash with
 lowres and 12bpp grayscale
Message-ID: <038.935d5b55e7c71c9d119025c7256f43b2@avcodec.org>

#2940: mjpeg: gix a crash with lowres and 12bpp grayscale
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://ffmpeg.org/trac/ffmpeg/raw-
 attachment/ticket/2812/12bpp_extended.jpg

 {{{
 (gdb) r -vlowres 3 -i 12bpp_extended.jpg out.bmp
 Starting program: D:\MinGW\msys\1.0\ffmpeg-HEAD-a67dcd7\ffmpeg_g.exe
 -vlowres 3
 -i 12bpp_extended.jpg out.bmp
 [New Thread 3900.0xeac]
 ffmpeg version 2.0-a67dcd7 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep  5 2013 17:46:37 with gcc 4.6.2 (GCC)
   configuration: --disable-w32threads --disable-yasm --disable-ffprobe
 --enable-
 gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, image2, from '12bpp_extended.jpg':
   Duration: 00:00:00.04, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: mjpeg, gray16le(12 bpc), 128x96 [SAR 96:96 DAR
 4:3], 25
 tbr, 25 tbn, 25 tbc
 File 'out.bmp' already exists. Overwrite ? [y/N] y
 [New Thread 3900.0x844]
 [New Thread 3900.0x8a4]
 [New Thread 3900.0xdec]
 [New Thread 3900.0xfe4]
 [New Thread 3900.0xce4]
 [New Thread 3900.0xe24]
 [New Thread 3900.0xe14]
 [New Thread 3900.0x9c8]
 [New Thread 3900.0x5e4]
 Output #0, image2, to 'out.bmp':
   Metadata:
     encoder         : Lavf55.16.101
     Stream #0:0: Video: bmp, gray, 128x96 [SAR 1:1 DAR 4:3], q=2-31, 200
 kb/s, 9
 0k tbn, 25 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (mjpeg -> bmp)
 Press [q] to stop, [?] for help
 [mjpeg @ 04de69e0] error count: 64
 [mjpeg @ 04de69e0] error y=91 x=47

 Program received signal SIGSEGV, Segmentation fault.
 0x7c911689 in ntdll!RtlInitializeHandleTable ()
    from C:\WINDOWS\system32\ntdll.dll
 (gdb) bt
 #0  0x7c911689 in ntdll!RtlInitializeHandleTable ()
    from C:\WINDOWS\system32\ntdll.dll
 #1  0x7c91084c in wcsncpy () from C:\WINDOWS\system32\ntdll.dll
 #2  0x77c1c2de in msvcrt!free () from C:\WINDOWS\system32\msvcrt.dll
 #3  0x04d00000 in ?? ()
 #4  0x00af29b3 in av_buffer_unref (buf=0x4d0e788) at
 libavutil/buffer.c:115
 #5  0x00aedf1a in av_frame_unref (frame=0x4d0e620) at
 libavutil/frame.c:347
 #6  0x004100de in reap_filters () at ffmpeg.c:1110
 #7  0x00b0ac11 in transcode_step () at ffmpeg.c:3190
 #8  transcode () at ffmpeg.c:3233
 #9  main (argc=6, argv=<optimized out>) at ffmpeg.c:3411
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2940>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep  6 12:07:27 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 06 Sep 2013 10:07:27 -0000
Subject: [FFmpeg-trac] #2940(undetermined:new): mjpeg: fix a crash with
 lowres and 12bpp grayscale (was: mjpeg: gix a crash with lowres and 12bpp
 grayscale)
In-Reply-To: <038.935d5b55e7c71c9d119025c7256f43b2@avcodec.org>
References: <038.935d5b55e7c71c9d119025c7256f43b2@avcodec.org>
Message-ID: <053.61ead8f6a24523edd3d8201d2a175649@avcodec.org>

#2940: mjpeg: fix a crash with lowres and 12bpp grayscale
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2940#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep  6 21:11:16 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 06 Sep 2013 19:11:16 -0000
Subject: [FFmpeg-trac] #2941(FFmpeg:new): Impossible to compile with
 Graphite / LTO / OpenMP optimizations
Message-ID: <037.62cd7fd254aa5a87a88c6c76e9145650@avcodec.org>

#2941: Impossible to compile with Graphite / LTO / OpenMP optimizations
----------------------------------+--------------------------------------
             Reporter:  decedion  |                     Type:  defect
               Status:  new       |                 Priority:  normal
            Component:  FFmpeg    |                  Version:  git-master
             Keywords:            |               Blocked By:
             Blocking:            |  Reproduced by developer:  0
Analyzed by developer:  0         |
----------------------------------+--------------------------------------
 Ubuntu 13.04 64 bits

 {{{
 $ gcc -v
 Usando especificaciones internas.
 COLLECT_GCC=gcc
 COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/4.7/lto-wrapper
 Objetivo: x86_64-linux-gnu
 Configurado con: ../src/configure -v --with-pkgversion='Ubuntu/Linaro
 4.7.3-1ubuntu1' --with-bugurl=file:///usr/share/doc/gcc-4.7/README.Bugs
 --enable-languages=c,c++,go,fortran,objc,obj-c++ --prefix=/usr --program-
 suffix=-4.7 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib
 --without-included-gettext --enable-threads=posix --with-gxx-include-
 dir=/usr/include/c++/4.7 --libdir=/usr/lib --enable-nls --with-sysroot=/
 --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes
 --enable-gnu-unique-object --enable-plugin --with-system-zlib --enable-
 objc-gc --with-cloog --enable-cloog-backend=ppl --disable-cloog-version-
 check --disable-ppl-version-check --enable-multiarch --disable-werror
 --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32
 --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu
 --host=x86_64-linux-gnu --target=x86_64-linux-gnu
 Modelo de hilos: posix
 gcc versi?n 4.7.3 (Ubuntu/Linaro 4.7.3-1ubuntu1)
 }}}


 {{{
 $ apt-cache policy binutils-gold
 binutils-gold:
   Instalados: 2.23.2-2ubuntu1
   Candidato:  2.23.2-2ubuntu1
   Tabla de versi?n:
  *** 2.23.2-2ubuntu1 0
         500 http://ubuntu.grn.cat/ubuntu/ raring/main amd64 Packages
         100 /var/lib/dpkg/status

 $ ll /usr/bin/ld
 lrwxrwxrwx 1 root root 7 abr 16 09:06 /usr/bin/ld -> ld.gold*
 }}}

 I have used this guide:
 http://ffmpeg.org/trac/ffmpeg/wiki/UbuntuCompilationGuide

 I'm trying to compile with Graphite/LTO/OpenMP optimizations but it shows
 errors in link phase:

 {{{
 .........
 LD      ffmpeg_g
 /tmp/ccA0STuu.ltrans0.ltrans.o:ccA0STuu.ltrans0.o:function
 decode_cabac_residual_nondc_internal.414259: error: undefined reference to
 'ff_h264_cabac_tables'
 /tmp/ccA0STuu.ltrans0.ltrans.o:ccA0STuu.ltrans0.o:function
 decode_cabac_residual_nondc_internal.414259: error: undefined reference to
 'ff_h264_cabac_tables'
 /tmp/ccA0STuu.ltrans0.ltrans.o:ccA0STuu.ltrans0.o:function
 decode_cabac_residual_nondc_internal.414259: error: undefined reference to
 'ff_h264_cabac_tables'
 /tmp/ccA0STuu.ltrans0.ltrans.o:ccA0STuu.ltrans0.o:function
 decode_cabac_residual_nondc_internal.414259: error: undefined reference to
 'ff_h264_cabac_tables'
 /tmp/ccA0STuu.ltrans1.ltrans.o:ccA0STuu.ltrans1.o:function
 put_cavs_qpel8_mc01_mmxext.680404: error: undefined reference to
 'ff_pw_42'
 /tmp/ccA0STuu.ltrans1.ltrans.o:ccA0STuu.ltrans1.o:function
 put_cavs_qpel8_mc01_mmxext.680404: error: undefined reference to
 'ff_pw_42'
 /tmp/ccA0STuu.ltrans1.ltrans.o:ccA0STuu.ltrans1.o:function
 put_cavs_qpel8_mc01_mmxext.680404: error: undefined reference to
 'ff_pw_42'
 /tmp/ccA0STuu.ltrans1.ltrans.o:ccA0STuu.ltrans1.o:function
 put_cavs_qpel8_mc01_mmxext.680404: error: undefined reference to
 'ff_pw_42'
 /tmp/ccA0STuu.ltrans3.ltrans.o:ccA0STuu.ltrans3.o:function
 postProcess_MMX.684606: error: undefined reference to 'w04'
 /tmp/ccA0STuu.ltrans3.ltrans.o:ccA0STuu.ltrans3.o:function
 postProcess_MMX.684606: error: undefined reference to 'w04'
 /tmp/ccA0STuu.ltrans3.ltrans.o:ccA0STuu.ltrans3.o:function
 postProcess_MMX.684606: error: undefined reference to 'w05'
 /tmp/ccA0STuu.ltrans3.ltrans.o:ccA0STuu.ltrans3.o:function
 postProcess_MMX.684606: error: undefined reference to 'w20'
 /tmp/ccA0STuu.ltrans3.ltrans.o:ccA0STuu.ltrans3.o:function
 postProcess_MMX.684606: error: undefined reference to 'w04'
 /tmp/ccA0STuu.ltrans3.ltrans.o:ccA0STuu.ltrans3.o:function
 postProcess_MMX.684606: error: undefined reference to 'w04'
 /tmp/ccA0STuu.ltrans3.ltrans.o:ccA0STuu.ltrans3.o:function
 postProcess_MMX.684606: error: undefined reference to 'w05'
 /tmp/ccA0STuu.ltrans3.ltrans.o:ccA0STuu.ltrans3.o:function
 postProcess_MMX.684606: error: undefined reference to 'w20'
 /tmp/ccA0STuu.ltrans4.ltrans.o:ccA0STuu.ltrans4.o:function
 sad8_xy2_mmxext.627031: error: undefined reference to 'bone'
 /tmp/ccA0STuu.ltrans4.ltrans.o:ccA0STuu.ltrans4.o:function
 sad16_xy2_mmxext.627059: error: undefined reference to 'bone'
 .........
 }}}

 ----

 I've done several tests, all fail:


 == 1? ==

 {{{
 $ ./configure --enable-gpl --enable-libass --enable-libfaac --enable-
 libfdk-aac --enable-libmp3lame --disable-libopencore-amrnb --disable-
 libopencore-amrwb --disable-libspeex --enable-librtmp --disable-libtheora
 --enable-libvorbis --enable-libvpx --enable-x11grab --enable-libx264
 --enable-nonfree --enable-version3 --extra-ldflags="-L/usr/local/lib"
 --disable-debug --disable-ffplay --disable-ffprobe --disable-ffserver
 }}}

 Environment FLAGS:

 {{{
 CFLAGS=-m64 -fPIC -pipe -march=native -mtune=native -Ofast -flto=9 -fuse-
 linker-plugin -fomit-frame-pointer -floop-interchange -floop-strip-mine
 -floop-block -ftree-loop-distribution -funroll-loops -ftree-vectorize
 -fgraphite-identity -fopenmp -floop-parallelize-all -fivopts -w
 CXXFLAGS=-m64 -fPIC -pipe -march=native -mtune=native -Ofast -flto=9
 -fuse-linker-plugin -fomit-frame-pointer -floop-interchange -floop-strip-
 mine -floop-block -ftree-loop-distribution -funroll-loops -ftree-vectorize
 -fgraphite-identity -fopenmp -floop-parallelize-all -fivopts -w
 LDFLAGS=-Wl,--as-needed -Wl,-O1 -Wl,--hash-style=gnu -Wl,--sort-common
 -lgomp -m64 -fPIC -pipe -march=native -mtune=native -Ofast -flto=9 -fuse-
 linker-plugin -fomit-frame-pointer -floop-interchange -floop-strip-mine
 -floop-block -ftree-loop-distribution -funroll-loops -ftree-vectorize
 -fgraphite-identity -fopenmp -floop-parallelize-all -fivopts -w
 }}}



 == 2? ==

 {{{
 $ ./configure --enable-gpl --enable-libass --enable-libfaac --enable-
 libfdk-aac --enable-libmp3lame --disable-libopencore-amrnb --disable-
 libopencore-amrwb --disable-libspeex --enable-librtmp --disable-libtheora
 --enable-libvorbis --enable-libvpx --enable-x11grab --enable-libx264
 --enable-nonfree --enable-version3 --extra-ldflags="-L/usr/local/lib"
 --disable-debug --disable-ffplay --disable-ffprobe --disable-ffserver
 --enable-lto
 }}}

 Without any environment FLAGS.


 == 3? ==

 {{{
 $ ./configure --enable-gpl --enable-libass --enable-libfaac --enable-
 libfdk-aac --enable-libmp3lame --disable-libopencore-amrnb --disable-
 libopencore-amrwb --disable-libspeex --enable-librtmp --disable-libtheora
 --enable-libvorbis --enable-libvpx --enable-x11grab --enable-libx264
 --enable-nonfree --enable-version3 --extra-ldflags="-L/usr/local/lib"
 --disable-debug --disable-ffplay --disable-ffprobe --disable-ffserver
 --enable-lto
 }}}

 Environment FLAGS:

 {{{
 CFLAGS=-m64 -fPIC -pipe -march=native -mtune=native -Ofast -flto=9 -fuse-
 linker-plugin -fomit-frame-pointer -floop-interchange -floop-strip-mine
 -floop-block -ftree-loop-distribution -funroll-loops -ftree-vectorize
 -fgraphite-identity -fopenmp -floop-parallelize-all -fivopts -w
 CXXFLAGS=-m64 -fPIC -pipe -march=native -mtune=native -Ofast -flto=9
 -fuse-linker-plugin -fomit-frame-pointer -floop-interchange -floop-strip-
 mine -floop-block -ftree-loop-distribution -funroll-loops -ftree-vectorize
 -fgraphite-identity -fopenmp -floop-parallelize-all -fivopts -w
 LDFLAGS=-Wl,--as-needed -Wl,-O1 -Wl,--hash-style=gnu -Wl,--sort-common
 -lgomp -m64 -fPIC -pipe -march=native -mtune=native -Ofast -flto=9 -fuse-
 linker-plugin -fomit-frame-pointer -floop-interchange -floop-strip-mine
 -floop-block -ftree-loop-distribution -funroll-loops -ftree-vectorize
 -fgraphite-identity -fopenmp -floop-parallelize-all -fivopts -w
 }}}


 == 4? ==


 {{{
 $ ./configure --enable-lto
 }}}

 Environment FLAGS:

 {{{
 CFLAGS=-m64 -fPIC -pipe -march=native -mtune=native -Ofast -flto=9 -fuse-
 linker-plugin -fomit-frame-pointer -floop-interchange -floop-strip-mine
 -floop-block -ftree-loop-distribution -funroll-loops -ftree-vectorize
 -fgraphite-identity -fopenmp -floop-parallelize-all -fivopts -w
 CXXFLAGS=-m64 -fPIC -pipe -march=native -mtune=native -Ofast -flto=9
 -fuse-linker-plugin -fomit-frame-pointer -floop-interchange -floop-strip-
 mine -floop-block -ftree-loop-distribution -funroll-loops -ftree-vectorize
 -fgraphite-identity -fopenmp -floop-parallelize-all -fivopts -w
 LDFLAGS=-Wl,--as-needed -Wl,-O1 -Wl,--hash-style=gnu -Wl,--sort-common
 -lgomp -m64 -fPIC -pipe -march=native -mtune=native -Ofast -flto=9 -fuse-
 linker-plugin -fomit-frame-pointer -floop-interchange -floop-strip-mine
 -floop-block -ftree-loop-distribution -funroll-loops -ftree-vectorize
 -fgraphite-identity -fopenmp -floop-parallelize-all -fivopts -w
 }}}


 == 5? ==

 {{{
 $ ./configure --enable-lto
 }}}

 Without any environment FLAGS.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2941>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep  7 00:54:23 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 06 Sep 2013 22:54:23 -0000
Subject: [FFmpeg-trac] #2849(avformat:new): ffplay: no audio playback
 with smv files
In-Reply-To: <038.9d1e814bd5a056f9739416e09c02bf8d@avcodec.org>
References: <038.9d1e814bd5a056f9739416e09c02bf8d@avcodec.org>
Message-ID: <053.ad0a5eac30d4b561f134d597df130bdb@avcodec.org>

#2849: ffplay: no audio playback with smv files
-------------------------------------+------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  unspecified  |               Resolution:
             Keywords:  regression   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------
Changes (by cus):

 * keywords:   => regression


Comment:

 Regression since 2a91038e13a00897fde89ad65a36012985687793.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2849#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep  7 12:24:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 07 Sep 2013 10:24:40 -0000
Subject: [FFmpeg-trac] #2941(undetermined:open): Impossible to compile
 with Graphite / LTO / OpenMP optimizations
In-Reply-To: <037.62cd7fd254aa5a87a88c6c76e9145650@avcodec.org>
References: <037.62cd7fd254aa5a87a88c6c76e9145650@avcodec.org>
Message-ID: <052.d3f1af47a358789bea4ed9e123849286@avcodec.org>

#2941: Impossible to compile with Graphite / LTO / OpenMP optimizations
-------------------------------------+-------------------------------------
             Reporter:  decedion     |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * component:  FFmpeg => undetermined
 * reproduced:  0 => 1


Comment:

 Replying to [ticket:2941 decedion]:
 > == 5? ==
 >
 > {{{
 > $ ./configure --enable-lto
 > }}}
 >
 > Without any environment FLAGS.

 Workaround is to use {{{$ ./configure --enable-lto --disable-inline-asm}}}
 Don't forget to do extensive performance testing before actually using
 such a binary!

 I suspect you are on your own concerning the builds with environment
 variables set.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2941#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep  7 15:06:10 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 07 Sep 2013 13:06:10 -0000
Subject: [FFmpeg-trac] #2941(undetermined:open): Impossible to compile
 with Graphite / LTO / OpenMP optimizations
In-Reply-To: <037.62cd7fd254aa5a87a88c6c76e9145650@avcodec.org>
References: <037.62cd7fd254aa5a87a88c6c76e9145650@avcodec.org>
Message-ID: <052.706118e56d193eeffdf8446fcc3b33fe@avcodec.org>

#2941: Impossible to compile with Graphite / LTO / OpenMP optimizations
-------------------------------------+-------------------------------------
             Reporter:  decedion     |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------

Comment (by decedion):

 ''''Replying to [comment:1 cehoyos]:
 >
 > Workaround is to use {{{$ ./configure --enable-lto --disable-inline-
 asm}}}

 Ok, it works. I have compiled it with my FLAGS and "''--enable-lto
 --disable-inline-asm''".
 [[BR]]


 > I suspect you are on your own concerning the builds with environment
 variables set.

 I don't understand what do you mean.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2941#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep  7 15:07:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 07 Sep 2013 13:07:32 -0000
Subject: [FFmpeg-trac] #2941(undetermined:open): Impossible to compile
 with Graphite / LTO / OpenMP optimizations
In-Reply-To: <037.62cd7fd254aa5a87a88c6c76e9145650@avcodec.org>
References: <037.62cd7fd254aa5a87a88c6c76e9145650@avcodec.org>
Message-ID: <052.e1cc9ed04488ac56536574fdacf49799@avcodec.org>

#2941: Impossible to compile with Graphite / LTO / OpenMP optimizations
-------------------------------------+-------------------------------------
             Reporter:  decedion     |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------

Comment (by decedion):

 It creates two executables: ''ffmpeg'' and ''ffmpeg_g''. What is
 ''ffmpeg_g''?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2941#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep  7 15:14:06 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 07 Sep 2013 13:14:06 -0000
Subject: [FFmpeg-trac]  #2942(undetermined:new): libopenjpeg enc: crash
Message-ID: <038.3ca550681d5e7c096cd10d4db138e150@avcodec.org>

#2942: libopenjpeg enc: crash
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 this seems to crash here (have no libopenjpeg-enabled debug build)

 {{{
 C:\>ffmpeg -ss 20 -i u263.avi -vcodec libopenjpeg -pix_fmt yuv420p
 out%2d.jp2
 ffmpeg version N-55957-g21dc3a3 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  1 2013 18:01:18 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-version3 --disable-w32threads
 --enable-av
 isynth --enable-bzlib --enable-fontconfig --enable-frei0r --enable-gnutls
 --enab
 le-iconv --enable-libass --enable-libbluray --enable-libcaca --enable-
 libfreetyp
 e --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmp3lame
 --ena
 ble-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
 --enable-l
 ibopus --enable-librtmp --enable-libschroedinger --enable-libsoxr
 --enable-libsp
 eex --enable-libtheora --enable-libtwolame --enable-libvo-aacenc --enable-
 libvo-
 amrwbenc --enable-libvorbis --enable-libvpx --enable-libx264 --enable-
 libxavs --
 enable-libxvid --enable-zlib
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 30.100 / 55. 30.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, avi, from 'u263.avi':
   Duration: 00:00:12.64, start: 0.000000, bitrate: 275 kb/s
     Stream #0:0: Video: h263 (U263 / 0x33363255), yuv420p, 320x240, 23.97
 tbr, 2
 3.97 tbn, 23.97 tbc
 Output #0, image2, to 'out%2d.jp2':
   Metadata:
     encoder         : Lavf55.15.100
     Stream #0:0: Video: jpeg2000 (libopenjpeg), yuv420p, 320x240, q=2-31,
 200 kb
 /s, 90k tbn, 23.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (h263 -> libopenjpeg)
 Press [q] to stop, [?] for help
 frame=    0 fps=0.0 q=0.0 Lsize=N/A time=00:00:00.00 bitrate=N/A
 video:0kB audio:0kB subtitle:0 global headers:0kB muxing overhead -inf%
 Output file is empty, nothing was encoded (check -ss / -t / -frames
 parameters i
 f used)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2942>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep  7 15:17:16 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 07 Sep 2013 13:17:16 -0000
Subject: [FFmpeg-trac] #2941(undetermined:open): Impossible to compile
 with Graphite / LTO / OpenMP optimizations
In-Reply-To: <037.62cd7fd254aa5a87a88c6c76e9145650@avcodec.org>
References: <037.62cd7fd254aa5a87a88c6c76e9145650@avcodec.org>
Message-ID: <052.c4d5702e9024e706fa5ee1cd33d48837@avcodec.org>

#2941: Impossible to compile with Graphite / LTO / OpenMP optimizations
-------------------------------------+-------------------------------------
             Reporter:  decedion     |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Replying to [comment:2 decedion]:
 > Replying to [comment:1 cehoyos]:
 > > I suspect you are on your own concerning the builds with environment
 variables set.
 >
 > I don't understand what do you mean.

 The FFmpeg configure script should allow you to set all required options,
 if this does not work, please file an enhancement request. Afaict, you
 don't get support if you set environment variables and that makes your
 compile fail.

 ffmpeg_g is the unstripped binary for debugging.

 Allow me to repeat that I expect --enable-lto to have a negative impact on
 performance, at least for some use cases.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2941#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep  7 15:31:23 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 07 Sep 2013 13:31:23 -0000
Subject: [FFmpeg-trac]  #2943(undetermined:new): libopenjpeg: black output
Message-ID: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>

#2943: libopenjpeg: black output
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 attached file decoded in the past with libopenjpeg, now there is only
 black output

 {{{
 C:\>ffmpeg -vcodec libopenjpeg -i
 lossy_gray_decomp_levels_5_bitslice_layers_7.jp2 out.bmp
 ffmpeg version N-56060-gbcd1c20 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  6 2013 00:42:37 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-version3 --disable-w32threads
 --enable-av
 isynth --enable-bzlib --enable-fontconfig --enable-frei0r --enable-gnutls
 --enab
 le-iconv --enable-libass --enable-libbluray --enable-libcaca --enable-
 libfreetyp
 e --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmp3lame
 --ena
 ble-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
 --enable-l
 ibopus --enable-librtmp --enable-libschroedinger --enable-libsoxr
 --enable-libsp
 eex --enable-libtheora --enable-libtwolame --enable-libvo-aacenc --enable-
 libvo-
 amrwbenc --enable-libvorbis --enable-libvpx --enable-libx264 --enable-
 libxavs --
 enable-libxvid --enable-zlib
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.104 /  3. 83.104
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [jpeg2000 @ 029e4fe0] extra cblk styles 1
 [jpeg2000 @ 029e4fe0] nonzerobits -1 invalid
 Input #0, image2, from 'lossy_gray_decomp_levels_5_bitslice_layers_7.jp2':
   Duration: 00:00:00.04, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: jpeg2000 (JPEG 2000 codestream restriction 0),
 gray16le,
  999x767, 25 tbr, 25 tbn, 25 tbc
 File 'out.bmp' already exists. Overwrite ? [y/N] y
 Output #0, image2, to 'out.bmp':
   Metadata:
     encoder         : Lavf55.16.101
     Stream #0:0: Video: bmp, gray, 999x767, q=2-31, 200 kb/s, 90k tbn, 25
 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (libopenjpeg -> bmp)
 Press [q] to stop, [?] for help
 frame=    1 fps=0.0 q=-1.0 Lsize=N/A time=00:00:00.04 bitrate=N/A
 video:750kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 -100.002864%
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2943>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep  7 15:35:15 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 07 Sep 2013 13:35:15 -0000
Subject: [FFmpeg-trac] #2943(undetermined:new): libopenjpeg: black output
In-Reply-To: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>
References: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>
Message-ID: <053.0d8367f9d328b43640c4a592f48861c9@avcodec.org>

#2943: libopenjpeg: black output
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by ami_stuff):

 probably gray16le is the problem (should be gray8)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2943#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep  7 21:09:35 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 07 Sep 2013 19:09:35 -0000
Subject: [FFmpeg-trac] #225(swscale:reopened): Converting from YUVJ to
 YUV lose contrast
In-Reply-To: <036.316379de991ff14b244e1314a49db3ea@avcodec.org>
References: <036.316379de991ff14b244e1314a49db3ea@avcodec.org>
Message-ID: <051.5551ef22177f8c5a36afa57903cd0381@avcodec.org>

#225: Converting from YUVJ to YUV lose contrast
-------------------------------------+-------------------------------------
             Reporter:  sghpunk      |                    Owner:
                 Type:  defect       |                   Status:  reopened
             Priority:  normal       |                Component:  swscale
              Version:  git-master   |               Resolution:
             Keywords:  YUV/YUVJ     |               Blocked By:
  contrast                           |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by dtombs):

 That is the only way I have been able to reproduce it when doing a
 transcoding so far, since transcoding to vp8 involves the YUVJ -> YUV
 conversion.

 I have also reproduced the contrast loss when using ffplay. If I play the
 original yuvj_input.mkv using ffplay I get the contrast loss but if I play
 with mplayer it's full contrast.

 Here's output from ffplay, note the "deprecated pixel format" warning.

 {{{
 $ ffplay yuvj_input.mkv
 ffplay version N-55933-g8da23be Copyright (c) 2003-2013 the FFmpeg
 developers
   built on Sep  7 2013 14:51:01 with gcc 4.7 (Ubuntu/Linaro
 4.7.3-1ubuntu1)
   configuration: --enable-vdpau --enable-libvorbis --enable-libvpx
 --enable-zlib --enable-gpl --enable-postproc --enable-x11grab --enable-
 shared
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 29.100 / 55. 29.100
   libavformat    55. 15.100 / 55. 15.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, matroska,webm, from 'yuvj_input.mkv':KB sq=    0B f=0/0
   Metadata:
     MAKER           : NIKON CORPORATION
     MODEL           : NIKON D90
     CREATION_TIME   : 2011-05-05 07:47:28
     ENCODER         : Lavf53.0.3
   Duration: 00:00:05.04, start: 0.000000, bitrate: 14463 kb/s
     Stream #0:0: Video: mjpeg, yuvj422p(pc), 1280x720, SAR 1:1 DAR 16:9,
 24 fps, 24 tbr, 1k tbn, 1k tbc (default)
 [swscaler @ 0x7f89681e8700] deprecated pixel format used, make sure you
 did set range correctly
    0.66 M-V:  0.035 fd=   0 aq=    0KB vq=  440KB sq=    0B f=0/0
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/225#comment:23>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep  7 21:11:06 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 07 Sep 2013 19:11:06 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.cda917ddda9a241b33ebd4527cf51fd8@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 I resumed the ABC/HR test, and I've done 10 samples out of 20. How is the
 development going?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:143>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 11:01:12 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 09:01:12 -0000
Subject: [FFmpeg-trac] #2370(avdevice:open): v4l2 should not need ENUMSTD
In-Reply-To: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
References: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
Message-ID: <050.a30ce9df82aa93a65e9d731d2bad1ef9@avcodec.org>

#2370: v4l2 should not need ENUMSTD
-------------------------------------+-------------------------------------
             Reporter:  ubitux       |                    Owner:  holden
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avdevice
              Version:  git-master   |               Resolution:
             Keywords:  v4l2         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by holden):

 Replying to [comment:9 mrlika]:
 > Patch that fixes the issue:
 >

 Hi,

 thanks for the patch. Could you please apply the attached patch to the
 latest ffmpeg git and provide the output of the following commands (change
 you video device if you need to):


 {{{
 ffmpeg -loglevel debug -f video4linux2 -list_formats all -i /dev/video0
 ffmpeg -loglevel debug -f video4linux2 -list_standards all -i /dev/video0
 ffmpeg -loglevel debug -f video4linux2 -i /dev/video0 out.avi
 }}}

 Thanks.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2370#comment:10>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 18:54:39 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 16:54:39 -0000
Subject: [FFmpeg-trac] #1857(avcodec:open): PNG iTXt textual information
 chunk
In-Reply-To: <038.90f20f51cea7ac21e418e4b98468dab0@avcodec.org>
References: <038.90f20f51cea7ac21e418e4b98468dab0@avcodec.org>
Message-ID: <053.54d05e60d61c2bfd2ba87e22b01c940a@avcodec.org>

#1857: PNG iTXt textual information chunk
-------------------------------------+-----------------------------------
             Reporter:  richardpl    |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  png          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by richardpl):

 I attached iTXt files i managed to create by hacking gif2png.

 I'm also interested in iTXt support in encoder.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1857#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 20:00:11 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 18:00:11 -0000
Subject: [FFmpeg-trac]  #2944(undetermined:new): crash with max_alloc
Message-ID: <038.16aae441f8ec885f35903fcfbb1a30d5@avcodec.org>

#2944: crash with max_alloc
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 {{{
 (gdb) r -max_alloc 320000000 -i ./cr.avi
 The program being debugged has been started already.
 Start it from the beginning? (y or n) y

 Starting program: /media/sdb1/ffmpeg-HEAD-a67dcd7/ffmpeg_g -max_alloc
 320000000 -i ./cr.avi
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-a67dcd7 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep  5 2013 17:23:55 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100

 Program received signal SIGSEGV, Segmentation fault.
 av_freep (arg=0x0) at libavutil/mem.c:217
 217         av_free(*ptr);
 (gdb) bt
 #0  av_freep (arg=0x0) at libavutil/mem.c:217
 #1  0x0808391e in decode_init (avctx=0x9100740) at
 libavcodec/truemotion2.c:960
 #2  0x0867b0e1 in avcodec_open2 (avctx=0x9100740,
 codec=codec at entry=0x8afcd40,
     options=0x9100fc0) at libavcodec/utils.c:1341
 #3  0x0823c60d in avformat_find_stream_info (ic=0x90ffe60,
 options=0x9100fc0)
     at libavformat/utils.c:2709
 #4  0x080a6525 in open_input_file (o=o at entry=0xbffff53c,
     filename=<optimized out>) at ffmpeg_opt.c:809
 #5  0x080a4d47 in open_files (inout=inout at entry=0x88d82fb "input",
     open_file=open_file at entry=0x80a6140 <open_input_file>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>)
     at ffmpeg_opt.c:2494
 #6  0x080acf59 in ffmpeg_parse_options (argc=argc at entry=5,
     argv=argv at entry=0xbffff9c4) at ffmpeg_opt.c:2531
 #7  0x080a244a in main (argc=5, argv=0xbffff9c4) at ffmpeg.c:3389
 (gdb)
 }}}


 {{{
 knoppix at Microknoppix:/media/sdb1$ valgrind --leak-check=full ffmpeg-HEAD-
 a67dcd7/ffmpeg_g -max_alloc 320000000 -i ./cr.avi
 ==26773== Memcheck, a memory error detector
 ==26773== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
 ==26773== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright
 info
 ==26773== Command: ffmpeg-HEAD-a67dcd7/ffmpeg_g -max_alloc 320000000 -i
 ./cr.avi
 ==26773==
 ffmpeg version 2.0-a67dcd7 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep  5 2013 17:23:55 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 ==26773== Invalid read of size 4
 ==26773==    at 0x886CD58: av_freep (mem.c:210)
 ==26773==    by 0x808391D: decode_init (truemotion2.c:960)
 ==26773==    by 0x867B0E0: avcodec_open2 (utils.c:1341)
 ==26773==    by 0x823C60C: avformat_find_stream_info (utils.c:2709)
 ==26773==    by 0x80A6524: open_input_file (ffmpeg_opt.c:809)
 ==26773==    by 0x80A4D46: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==26773==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==26773==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
 ==26773==
 ==26773==
 ==26773== Process terminating with default action of signal 11 (SIGSEGV)
 ==26773==  Access not within mapped region at address 0x0
 ==26773==    at 0x886CD58: av_freep (mem.c:210)
 ==26773==    by 0x808391D: decode_init (truemotion2.c:960)
 ==26773==    by 0x867B0E0: avcodec_open2 (utils.c:1341)
 ==26773==    by 0x823C60C: avformat_find_stream_info (utils.c:2709)
 ==26773==    by 0x80A6524: open_input_file (ffmpeg_opt.c:809)
 ==26773==    by 0x80A4D46: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==26773==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==26773==  If you believe this happened as a result of a stack
 ==26773==  overflow in your program's main thread (unlikely but
 ==26773==  possible), you can try to increase the size of the
 ==26773==  main thread stack using the --main-stacksize= flag.
 ==26773==  The main thread stack size used in this run was 8388608.
 ==26773==
 ==26773== HEAP SUMMARY:
 ==26773==     in use at exit: 524,705,659 bytes in 33 blocks
 ==26773==   total heap usage: 43 allocs, 10 frees, 524,740,651 bytes
 allocated
 ==26773==
 ==26773== LEAK SUMMARY:
 ==26773==    definitely lost: 0 bytes in 0 blocks
 ==26773==    indirectly lost: 0 bytes in 0 blocks
 ==26773==      possibly lost: 0 bytes in 0 blocks
 ==26773==    still reachable: 524,705,659 bytes in 33 blocks
 ==26773==         suppressed: 0 bytes in 0 blocks
 ==26773== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==26773== To see them, rerun with: --leak-check=full --show-reachable=yes
 ==26773==
 ==26773== For counts of detected and suppressed errors, rerun with: -v
 ==26773== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 59 from 6)
 Segmentation fault
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2944>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 20:41:54 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 18:41:54 -0000
Subject: [FFmpeg-trac] #2944(undetermined:closed): crash with max_alloc
In-Reply-To: <038.16aae441f8ec885f35903fcfbb1a30d5@avcodec.org>
References: <038.16aae441f8ec885f35903fcfbb1a30d5@avcodec.org>
Message-ID: <053.211f28cc5149fad64e3e30a4256b2ed7@avcodec.org>

#2944: crash with max_alloc
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:  fixed
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  new => closed
 * resolution:   => fixed
 * reproduced:  0 => 1


Comment:

 Fixed in c54aa2fb0f869ec025933944cbd1634fffe95d09

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2944#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 22:06:31 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 20:06:31 -0000
Subject: [FFmpeg-trac] #2654(avcodec:new): calling draw slice callback
 with NULL data
In-Reply-To: <035.b310f300866402ff62053f6acde96175@avcodec.org>
References: <035.b310f300866402ff62053f6acde96175@avcodec.org>
Message-ID: <050.709f9570d4ac5b033193669cda203b38@avcodec.org>

#2654: calling draw slice callback with NULL data
------------------------------------+-----------------------------------
             Reporter:  ubitux      |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  mpegvideo   |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by michael):

 Is this still reproduceable ? if not please close

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2654#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 22:13:03 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 20:13:03 -0000
Subject: [FFmpeg-trac] #2654(avcodec:closed): calling draw slice
 callback with NULL data
In-Reply-To: <035.b310f300866402ff62053f6acde96175@avcodec.org>
References: <035.b310f300866402ff62053f6acde96175@avcodec.org>
Message-ID: <050.d1b9b3e72aad0826a214de352bc099ee@avcodec.org>

#2654: calling draw slice callback with NULL data
------------------------------------+-----------------------------------
             Reporter:  ubitux      |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:  fixed
             Keywords:  mpegvideo   |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by ubitux):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 I can't reproduce anymore, so closing.

 Any idea what commit might have fixed it?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2654#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 22:36:00 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 20:36:00 -0000
Subject: [FFmpeg-trac] #2695(avcodec:new): Occasional Access Violation:
 H264 with bad streams
In-Reply-To: <040.318b8f0b350ba54d019d0999324080e7@avcodec.org>
References: <040.318b8f0b350ba54d019d0999324080e7@avcodec.org>
Message-ID: <055.f27bfd710f9cc05d47c2169c2ee059d6@avcodec.org>

#2695: Occasional Access Violation: H264 with bad streams
-------------------------------------+-----------------------------------
             Reporter:  BlackWarren  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264 crash   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by michael):

 Do you have a small input file with which this can be reproduced ?
 listening for hours to that stream is not very practical to debug this

 or if you like to debug it yourself
 ff_h264_check_intra_pred_mode() should be checking that the mode is valid,
 there should be no need to check whe the pred function is called

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2695#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 22:44:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 20:44:49 -0000
Subject: [FFmpeg-trac] #2700(undetermined:closed): Stream mapping not
 predictable when using -ss option
In-Reply-To: <044.418e85374ad44c89de23695d4366a370@avcodec.org>
References: <044.418e85374ad44c89de23695d4366a370@avcodec.org>
Message-ID: <059.e95d9a9000979be188227c58b0db8d44@avcodec.org>

#2700: Stream mapping not predictable when using -ss option
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  claudelepoisson                    |                   Status:  closed
                 Type:  defect       |                Component:
             Priority:  normal       |  undetermined
              Version:  git-master   |               Resolution:  invalid
             Keywords:  mpegps       |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  new => closed
 * resolution:   => invalid


Comment:

 There is no such thing as a order of streams in mpeg-ps. What you see is
 the order of the packets

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2700#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 23:02:11 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 21:02:11 -0000
Subject: [FFmpeg-trac] #2943(undetermined:new): libopenjpeg: black output
In-Reply-To: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>
References: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>
Message-ID: <053.fc6d06f05d4f587becc2f8935678141b@avcodec.org>

#2943: libopenjpeg: black output
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Please provide version (or even better console output) of a working
 binary.

 Looks like 12bpc to me.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2943#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 23:20:41 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 21:20:41 -0000
Subject: [FFmpeg-trac] #2725(undetermined:closed): "Static" Video causes
 buffer underflows
In-Reply-To: <038.d57c0aca1634bf87a973e110426c359b@avcodec.org>
References: <038.d57c0aca1634bf87a973e110426c359b@avcodec.org>
Message-ID: <053.1cbd120842f73f240bb0d7185ba3215c@avcodec.org>

#2725: "Static" Video causes buffer underflows
-------------------------------------+-------------------------------------
             Reporter:  jdachik01    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:  invalid
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  new => closed
 * resolution:   => invalid


Comment:

 Your bitrate is too low for this video. If you want to encode at this
 bitrate you can enable trellis and increase lmax but quality will suffer.
 Ive improved the printed warning to suggest these

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2725#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 23:29:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 21:29:45 -0000
Subject: [FFmpeg-trac] #2943(undetermined:new): libopenjpeg: black output
In-Reply-To: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>
References: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>
Message-ID: <053.65ed47c9a3493967c03864dff53de9d9@avcodec.org>

#2943: libopenjpeg: black output
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by ami_stuff):

 this seems to work:

 {{{
 C:\>ffmpeg -i lossy_gray_decomp_levels_5_bitslice_layers_7.jp2 out.bmp
 ffmpeg version N-31762-g6e19cfb, Copyright (c) 2000-2011 the FFmpeg
 developers
   built on Aug  5 2011 00:29:07 with gcc 4.6.1
   configuration: --enable-gpl --enable-version3 --enable-memalign-hack
 --enable-
 runtime-cpudetect --enable-avisynth --enable-bzlib --enable-frei0r
 --enable-libo
 pencore-amrnb --enable-libopencore-amrwb --enable-libfreetype --enable-
 libgsm --
 enable-libmp3lame --enable-libopenjpeg --enable-librtmp --enable-
 libschroedinger
  --enable-libspeex --enable-libtheora --enable-libvorbis --enable-libvpx
 --enabl
 e-libx264 --enable-libxavs --enable-libxvid --enable-zlib
   libavutil    51. 11. 1 / 51. 11. 1
   libavcodec   53.  9. 1 / 53.  9. 1
   libavformat  53.  6. 0 / 53.  6. 0
   libavdevice  53.  2. 0 / 53.  2. 0
   libavfilter   2. 27. 5 /  2. 27. 5
   libswscale    2.  0. 0 /  2.  0. 0
   libpostproc  51.  2. 0 / 51.  2. 0
 Input #0, image2, from 'lossy_gray_decomp_levels_5_bitslice_layers_7.jp2':

   Duration: 00:00:00.04, start: 0.000000, bitrate: N/A
     Stream #0.0: Video: libopenjpeg, gray, 999x767, 25 tbr, 25 tbn, 25 tbc
 [buffer @ 0207AC80] w:999 h:767 pixfmt:gray tb:1/1000000 sar:0/1
 sws_param:
 Output #0, image2, to 'out.bmp':
   Metadata:
     encoder         : Lavf53.6.0
     Stream #0.0: Video: bmp, gray, 999x767, q=2-31, 200 kb/s, 90k tbn, 25
 tbc
 Stream mapping:
   Stream #0.0 -> #0.0
 Press [q] to stop, [?] for help
 frame=    1 fps=  0 q=0.0 Lsize=      -0kB time=00:00:00.04 bitrate=
 -4.4kbits/
 s
 video:750kB audio:0kB global headers:0kB muxing overhead -100.002864%
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2943#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 23:41:19 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 21:41:19 -0000
Subject: [FFmpeg-trac] #2942(undetermined:new): libopenjpeg enc: crash
In-Reply-To: <038.3ca550681d5e7c096cd10d4db138e150@avcodec.org>
References: <038.3ca550681d5e7c096cd10d4db138e150@avcodec.org>
Message-ID: <053.f11cd9eb280b4cef4fc347f7ae1074d8@avcodec.org>

#2942: libopenjpeg enc: crash
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 The crash is reproducible with the following command line:
 {{{
 $ ffmpeg -ss 1 -i tests/lena.pnm -vcodec libopenjpeg -f null -
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2942#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep  8 23:50:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 21:50:50 -0000
Subject: [FFmpeg-trac] #2943(avcodec:open): libopenjpeg: black output
In-Reply-To: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>
References: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>
Message-ID: <053.40d63f3d48c1d33eb124b3952037999e@avcodec.org>

#2943: libopenjpeg: black output
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  libopenjpeg  |               Blocked By:
  j2k                                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => libopenjpeg j2k
 * status:  new => open
 * version:  unspecified => git-master
 * component:  undetermined => avcodec
 * reproduced:  0 => 1


Comment:

 Possible patch attached, there may be another solution.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2943#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 00:17:07 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 22:17:07 -0000
Subject: [FFmpeg-trac] #2945(undetermined:new): Incorrect bitrate error
 prevents D10 IMX mux of legitimate essence
Message-ID: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>

#2945: Incorrect bitrate error prevents D10 IMX mux of legitimate essence
-------------------------------------+-------------------------------------
             Reporter:  ortoni       |                     Type:  defect
               Status:  new          |                 Priority:  normal
            Component:               |                  Version:
  undetermined                       |  unspecified
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 Summary of the bug:
 Known good 30 Mbit/sec m2v and wav essences cannot be muxed into IMX30 D10
 MXF because of "error MXF D-10 only support 30/40/50 mbit/s"
 How to reproduce:
 If a known good IMX30 D10 MXF is demultiplexed into m2v and wav files,
 then immediately multiplexed back to the same format, the muxing fails. I
 have checked that the m2v essence shows a video bitrate of 30,000,000 at
 the mpeg header level:

 ffmpeg.exe" -i FCP.MXF -vcodec copy FCP.m2v -acodec copy FCP.wav
 ffmpeg version N-55721-gc443689 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Aug 22 2013 18:59:54 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-version3 --disable-w32threads
 --enable-av
 isynth --enable-bzlib --enable-fontconfig --enable-frei0r --enable-gnutls
 --enab
 le-iconv --enable-libass --enable-libbluray --enable-libcaca --enable-
 libfreetyp
 e --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmp3lame
 --ena
 ble-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
 --enable-l
 ibopus --enable-librtmp --enable-libschroedinger --enable-libsoxr
 --enable-libsp
 eex --enable-libtheora --enable-libtwolame --enable-libvo-aacenc --enable-
 libvo-
 amrwbenc --enable-libvorbis --enable-libvpx --enable-libx264 --enable-
 libxavs --
 enable-libxvid --enable-zlib
   libavutil      52. 42.100 / 52. 42.100
   libavcodec     55. 29.100 / 55. 29.100
   libavformat    55. 14.102 / 55. 14.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Guessed Channel Layout for  Input Stream #0.1 : 4.0
 Input #0, mxf, from 'FCP.MXF':
   Metadata:
     uid             : 2f8e817a-c070-4d6a-a891-a30d79fef4d4
     generation_uid  : 3fd15f16-f8ee-449b-89fc-6a136320aae9
     company_name    : SONY
     product_name    : XDCAM Transfer
     product_version : 631
     application_platform: SONY MXF Development Kit (MacOS X)
     product_uid     : 060e2b34-0401-0103-0e06-012002410200
     modification_date: 2010-11-23 03:57:48
     timecode        : 01:00:00:00
   Duration: 00:00:05.00, start: 0.000000, bitrate: 42626 kb/s
     Stream #0:0: Video: mpeg2video (4:2:2), yuv422p, 720x608 [SAR 608:405
 DAR 16
 :9], max. 30000 kb/s, 25 fps, 25 tbr, 25 tbn, 50 tbc
     Stream #0:1: Audio: pcm_s16le, 48000 Hz, 4.0, s16, 3072 kb/s
 Output #0, mpeg2video, to 'FCP.m2v':
   Metadata:
     uid             : 2f8e817a-c070-4d6a-a891-a30d79fef4d4
     generation_uid  : 3fd15f16-f8ee-449b-89fc-6a136320aae9
     company_name    : SONY
     product_name    : XDCAM Transfer
     product_version : 631
     application_platform: SONY MXF Development Kit (MacOS X)
     product_uid     : 060e2b34-0401-0103-0e06-012002410200
     modification_date: 2010-11-23 03:57:48
     timecode        : 01:00:00:00
     encoder         : Lavf55.14.102
     Stream #0:0: Video: mpeg2video, yuv422p, 720x608 [SAR 608:405 DAR
 16:9], q=2
 -31, max. 30000 kb/s, 25 fps, 90k tbn, 25 tbc
 Output #1, wav, to 'FCP.wav':
   Metadata:
     uid             : 2f8e817a-c070-4d6a-a891-a30d79fef4d4
     generation_uid  : 3fd15f16-f8ee-449b-89fc-6a136320aae9
     company_name    : SONY
     product_name    : XDCAM Transfer
     product_version : 631
     application_platform: SONY MXF Development Kit (MacOS X)
     product_uid     : 060e2b34-0401-0103-0e06-012002410200
     modification_date: 2010-11-23 03:57:48
     ISMP            : 01:00:00:00
     ISFT            : Lavf55.14.102
     Stream #1:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, 4.0,
 3072 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (copy)
   Stream #0:1 -> #1:0 (copy)
 Press [q] to stop, [?] for help
 frame=  125 fps=0.0 q=-1.0 Lsize=   17050kB time=00:00:05.00
 bitrate=27934.8kbits/s
 video:17050kB audio:1875kB subtitle:0 global headers:0kB muxing overhead
 -9.907499%

 ffmpeg.exe" -i FCP.m2v -i FCP.wav -vcodec copy -acodec copy -f mxf_d10
 FCP_new.mxf
 ffmpeg version N-55721-gc443689 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Aug 22 2013 18:59:54 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-version3 --disable-w32threads
 --enable-av
 isynth --enable-bzlib --enable-fontconfig --enable-frei0r --enable-gnutls
 --enab
 le-iconv --enable-libass --enable-libbluray --enable-libcaca --enable-
 libfreetyp
 e --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmp3lame
 --ena
 ble-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
 --enable-l
 ibopus --enable-librtmp --enable-libschroedinger --enable-libsoxr
 --enable-libsp
 eex --enable-libtheora --enable-libtwolame --enable-libvo-aacenc --enable-
 libvo-
 amrwbenc --enable-libvorbis --enable-libvpx --enable-libx264 --enable-
 libxavs --
 enable-libxvid --enable-zlib
   libavutil      52. 42.100 / 52. 42.100
   libavcodec     55. 29.100 / 55. 29.100
   libavformat    55. 14.102 / 55. 14.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.102 /  3. 82.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mpegvideo, from 'FCP.m2v':
   Duration: N/A, bitrate: N/A
     Stream #0:0: Video: mpeg2video (4:2:2), yuv422p, 720x608 [SAR 608:405
 DAR 16
 :9], max. 30000 kb/s, 25 fps, 25 tbr, 1200k tbn, 50 tbc
 Input #1, wav, from FCP.wav':
   Metadata:
     encoder         : Lavf55.14.102
     timecode        : 01:00:00:00
   Duration: 00:00:05.00, bitrate: 3072 kb/s
     Stream #1:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, 4.0,
 s16, 3072 kb/s

 '''[mxf_d10 @ 026ae060] error MXF D-10 only support 30/40/50 mbit/s'''
 Output #0, mxf_d10, to 'FCP_new.mxf':
   Metadata:
     encoder         : Lavf55.14.102
     Stream #0:0: Video: mpeg2video, yuv422p, 720x608 [SAR 608:405 DAR
 16:9], q=2
 -31, max. 30000 kb/s, 25 fps, 25 tbn, 25 tbc
     Stream #0:1: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, 4.0,
 3072 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (copy)
   Stream #1:0 -> #0:1 (copy)
 Could not write header for output file #0 (incorrect codec parameters ?):
 Error
 number -1 occurred

 Thanks in advance.

 -m

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2945>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 00:31:17 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 22:31:17 -0000
Subject: [FFmpeg-trac] #2695(avcodec:new): Occasional Access Violation:
 H264 with bad streams
In-Reply-To: <040.318b8f0b350ba54d019d0999324080e7@avcodec.org>
References: <040.318b8f0b350ba54d019d0999324080e7@avcodec.org>
Message-ID: <055.90cc3bda3046181d54f69daa86697adc@avcodec.org>

#2695: Occasional Access Violation: H264 with bad streams
-------------------------------------+-----------------------------------
             Reporter:  BlackWarren  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264 crash   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by BlackWarren):

 I believe this was fixed in commits
 d6a33f5d20b6ef2eae2cbb959b001cb125a564b7 and
 2005fddcbb4e18e8f7c34326e40609e4a2d83c31 on June 21, 2013, thanks.
 Besides no longer causing access violations, I believe this has reduced
 the frequency/duration of "green screens" when playing flaky H264 live
 streams.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2695#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 00:54:37 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 22:54:37 -0000
Subject: [FFmpeg-trac] #2945(avformat:new): Support remuxing mpeg2video
 into mxf-d10 (was: Incorrect bitrate error prevents D10 IMX mux of
 legitimate essence)
In-Reply-To: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
References: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
Message-ID: <050.705467e437fb1bf49188d4cfc5e62174@avcodec.org>

#2945: Support remuxing mpeg2video into mxf-d10
-------------------------------------+------------------------------------
             Reporter:  ortoni       |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mxf          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------
Changes (by cehoyos):

 * component:  undetermined => avformat
 * priority:  normal => wish
 * version:  unspecified => git-master
 * keywords:   => mxf
 * type:  defect => enhancement


Comment:

 Please provide a sample or test attached patch.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2945#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 00:55:23 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 22:55:23 -0000
Subject: [FFmpeg-trac] #2695(avcodec:closed): Occasional Access
 Violation: H264 with bad streams
In-Reply-To: <040.318b8f0b350ba54d019d0999324080e7@avcodec.org>
References: <040.318b8f0b350ba54d019d0999324080e7@avcodec.org>
Message-ID: <055.e722758609fe504a121fd2d8a5c94de2@avcodec.org>

#2695: Occasional Access Violation: H264 with bad streams
-------------------------------------+-----------------------------------
             Reporter:  BlackWarren  |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  h264 crash   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by michael):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 ok, closed then.
 If it turns out that it hasnt been fixed, then dont hesitate to reopen
 this ticket

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2695#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 00:55:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 22:55:25 -0000
Subject: [FFmpeg-trac] #2940(avcodec:open): mjpeg: fix a crash with
 lowres and 12bpp grayscale
In-Reply-To: <038.935d5b55e7c71c9d119025c7256f43b2@avcodec.org>
References: <038.935d5b55e7c71c9d119025c7256f43b2@avcodec.org>
Message-ID: <053.10b2a064c5cc9f019c9ac5cc0501e5ab@avcodec.org>

#2940: mjpeg: fix a crash with lowres and 12bpp grayscale
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  mjpeg        |               Blocked By:
  lowres crash                       |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  j2k lowres crash => mjpeg lowres crash


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2940#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 01:00:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 23:00:50 -0000
Subject: [FFmpeg-trac] #2695(avcodec:closed): Occasional Access
 Violation: H264 with bad streams
In-Reply-To: <040.318b8f0b350ba54d019d0999324080e7@avcodec.org>
References: <040.318b8f0b350ba54d019d0999324080e7@avcodec.org>
Message-ID: <055.9e2dd64fd846490000037adfe53a95bb@avcodec.org>

#2695: Occasional Access Violation: H264 with bad streams
-------------------------------------+-----------------------------------
             Reporter:  BlackWarren  |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  h264 crash   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by cehoyos):

 Replying to [comment:3 BlackWarren]:
 > I believe this was fixed in commits
 d6a33f5d20b6ef2eae2cbb959b001cb125a564b7 and
 2005fddcbb4e18e8f7c34326e40609e4a2d83c31 on June 21, 2013, thanks.

 I was unable to reproduce the crash with older versions.

 > Besides no longer causing access violations, I believe this has reduced
 the frequency/duration of "green screens" when playing flaky H264 live
 streams.

 Such a sample would also be very welcome!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2695#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 01:19:28 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 23:19:28 -0000
Subject: [FFmpeg-trac] #2695(avcodec:closed): Occasional Access
 Violation: H264 with bad streams
In-Reply-To: <040.318b8f0b350ba54d019d0999324080e7@avcodec.org>
References: <040.318b8f0b350ba54d019d0999324080e7@avcodec.org>
Message-ID: <055.5695f8c1cd8827c7d9a0e1c2a23c3b25@avcodec.org>

#2695: Occasional Access Violation: H264 with bad streams
-------------------------------------+-----------------------------------
             Reporter:  BlackWarren  |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  h264 crash   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by BlackWarren):

 The actual crashing (access violation) may be Windows-specific -- under
 Linux, there may always be a couple of kilobytes of dereferenceable memory
 right before anything that's in the heap.  But still, without the patch,
 garbage data will be fetched when stream data is unreliable.

 The crashing was rare, and hard to reproduce, requiring on the order of 1
 GB of streaming data to invoke it.  I never bothered to capture a data set
 that would cause it.  I've just observed that green screening during
 stream play was common before your fix, and now very uncommon.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2695#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 01:53:48 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 23:53:48 -0000
Subject: [FFmpeg-trac] #2940(avcodec:closed): mjpeg: fix a crash with
 lowres and 12bpp grayscale
In-Reply-To: <038.935d5b55e7c71c9d119025c7256f43b2@avcodec.org>
References: <038.935d5b55e7c71c9d119025c7256f43b2@avcodec.org>
Message-ID: <053.6407251b8fabe02c4a4753298fc555b0@avcodec.org>

#2940: mjpeg: fix a crash with lowres and 12bpp grayscale
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  mjpeg        |               Blocked By:
  lowres crash                       |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 fixed in ce228206274b832b21f1c43390c3b0268b4e1091

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2940#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 01:54:39 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 08 Sep 2013 23:54:39 -0000
Subject: [FFmpeg-trac] #2695(avcodec:closed): Occasional Access
 Violation: H264 with bad streams
In-Reply-To: <040.318b8f0b350ba54d019d0999324080e7@avcodec.org>
References: <040.318b8f0b350ba54d019d0999324080e7@avcodec.org>
Message-ID: <055.04f7e2317e588d1368a27d5758e6c8a7@avcodec.org>

#2695: Occasional Access Violation: H264 with bad streams
-------------------------------------+-----------------------------------
             Reporter:  BlackWarren  |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  h264 crash   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by cehoyos):

 Replying to [comment:6 BlackWarren]:
 > The actual crashing (access violation) may be Windows-specific -- under
 Linux, there may always be a couple of kilobytes of dereferenceable memory
 right before anything that's in the heap.

 That's why I tested both on Windows and with valgrind (>1G iirc).

 > I've just observed that green screening during stream play was common
 before your fix, and now very uncommon.

 If it still happens, please try to record a sample.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2695#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 09:49:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 07:49:49 -0000
Subject: [FFmpeg-trac] #2945(avformat:new): Support remuxing mpeg2video
 into mxf-d10
In-Reply-To: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
References: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
Message-ID: <050.6b3fa2fd23c53f40b4ef6388579a75c9@avcodec.org>

#2945: Support remuxing mpeg2video into mxf-d10
-------------------------------------+------------------------------------
             Reporter:  ortoni       |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mxf          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by ortoni):

 Sample uploaded as Test_file_ticket_2945_support_remux_m2v_into_mxf.MXF
 with accompanying text file.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2945#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 10:08:27 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 08:08:27 -0000
Subject: [FFmpeg-trac] #2945(avformat:open): Support remuxing mpeg2video
 into mxf-d10
In-Reply-To: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
References: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
Message-ID: <050.ad0fd0350842bd9b712b6ee4595a2c33@avcodec.org>

#2945: Support remuxing mpeg2video into mxf-d10
-------------------------------------+------------------------------------
             Reporter:  ortoni       |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mxf          |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1


Comment:

 Patch sent.
 {{{
 $ make fate-lavf-mxf_d10

 ...
 $ ./ffmpeg -i tests/data/lavf/lavf.mxf_d10 -c copy -f mxf_d10 out.mxf
 ffmpeg version N-56121-g43497d8 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep  9 2013 10:07:32 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl --disable-indev=jack
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Guessed Channel Layout for  Input Stream #0.1 : stereo
 Input #0, mxf, from 'tests/data/lavf/lavf.mxf_d10':
   Metadata:
     uid             : adab4424-2f25-4dc7-92ff-29bd000b0000
     generation_uid  : adab4424-2f25-4dc7-92ff-29bd000b0001
     company_name    : FFmpeg
     product_name    : OP1a Muxer
     product_version : 0.0.0
     product_uid     : adab4424-2f25-4dc7-92ff-29bd000b0002
     modification_date: 0-01-01 00:00:00
     timecode        : 00:00:00:00
   Duration: 00:00:01.00, start: 0.000000, bitrate: 42647 kb/s
     Stream #0:0: Video: mpeg2video (4:2:2), yuv422p(tv), 720x608 [SAR 1:1
 DAR 45:38], max. 30000 kb/s, 25 fps, 25 tbr, 25 tbn, 50 tbc
     Stream #0:1: Audio: pcm_s16le, 48000 Hz, stereo, s16, 1536 kb/s
 [mxf_d10 @ 0x1ae29a0] error MXF D-10 only support 30/40/50 mbit/s
 Output #0, mxf_d10, to 'out.mxf':
   Metadata:
     uid             : adab4424-2f25-4dc7-92ff-29bd000b0000
     generation_uid  : adab4424-2f25-4dc7-92ff-29bd000b0001
     company_name    : FFmpeg
     product_name    : OP1a Muxer
     product_version : 0.0.0
     product_uid     : adab4424-2f25-4dc7-92ff-29bd000b0002
     modification_date: 0-01-01 00:00:00
     timecode        : 00:00:00:00
     encoder         : Lavf55.16.101
     Stream #0:0: Video: mpeg2video, yuv422p, 720x608 [SAR 1:1 DAR 45:38],
 q=2-31, max. 30000 kb/s, 25 fps, 25 tbn, 25 tbc
     Stream #0:1: Audio: pcm_s16le, 48000 Hz, stereo, 1536 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (copy)
   Stream #0:1 -> #0:1 (copy)
 Could not write header for output file #0 (incorrect codec parameters ?):
 Operation not permitted
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2945#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 11:19:30 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 09:19:30 -0000
Subject: [FFmpeg-trac] #2945(avformat:open): Support remuxing mpeg2video
 into mxf-d10
In-Reply-To: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
References: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
Message-ID: <050.fc4b6abe7ce6ef8a956edfa26502bde7@avcodec.org>

#2945: Support remuxing mpeg2video into mxf-d10
-------------------------------------+-------------------------------------
             Reporter:  ortoni       |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mxf          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  mxf => mxf regression
 * priority:  wish => important
 * type:  enhancement => defect


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2945#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 13:17:46 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 11:17:46 -0000
Subject: [FFmpeg-trac] #2946(undetermined:new): truemotion2: invalid write
 with max_alloc
Message-ID: <038.f252f054c4ed0f70f5a42aea0fce87ad@avcodec.org>

#2946: truemotion2: invalid write with max_alloc
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 {{{
 (gdb) r -max_alloc 350000 -i ./tm2_fuzz.avi -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-a67dcd7/ffmpeg_g -max_alloc
 350000 -i ./tm2_fuzz.avi -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-a67dcd7 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep  5 2013 17:23:55 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [avi @ 0x9105d40] non-interleaved AVI
 Guessed Channel Layout for  Input Stream #0.1 : stereo
 Input #0, avi, from './tm2_fuzz.avi':
   Duration: 00:00:10.13, start: 0.000000, bitrate: 1498 kb/s
     Stream #0:0: Video: truemotion2 (TM20 / 0x30324D54), bgr24, 320x240,
 15 tbr, 15 tbn, 15 tbc
     Stream #0:1: Audio: pcm_u8 ([1][0][0][0] / 0x0001), 22050 Hz, stereo,
 u8, 352 kb/s
 [New Thread 0xb7df8b70 (LWP 15835)]
 [New Thread 0xb75f8b70 (LWP 15836)]
 [New Thread 0xb6df8b70 (LWP 15837)]
 [New Thread 0xb65f8b70 (LWP 15838)]
 [New Thread 0xb5df8b70 (LWP 15839)]
 [New Thread 0xb55f8b70 (LWP 15840)]
 [New Thread 0xb4df8b70 (LWP 15841)]
 [New Thread 0xb45f8b70 (LWP 15842)]
 [New Thread 0xb3df8b70 (LWP 15843)]
 [New Thread 0xb35f8b70 (LWP 15844)]
 [New Thread 0xb2df8b70 (LWP 15845)]
 [New Thread 0xb25f8b70 (LWP 15846)]
 [New Thread 0xb1df8b70 (LWP 15847)]
 [New Thread 0xb15f8b70 (LWP 15848)]
 [New Thread 0xb0df8b70 (LWP 15849)]
 [New Thread 0xb05f8b70 (LWP 15850)]
 [New Thread 0xafdf8b70 (LWP 15851)]
 [New Thread 0xaf5f8b70 (LWP 15852)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.16.101
     Stream #0:0: Video: rawvideo (BGR[24] / 0x18524742), bgr24, 320x240,
 q=2-31, 200 kb/s, 90k tbn, 15 tbc
     Stream #0:1: Audio: pcm_s16le, 22050 Hz, stereo, s16, 705 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (truemotion2 -> rawvideo)
   Stream #0:1 -> #0:1 (pcm_u8 -> pcm_s16le)
 Press [q] to stop, [?] for help
 [null @ 0x9108f20] Encoder did not produce proper pts, making some up.
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2208>=2208)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2208>=2208)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2208>=2208)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2208>=2208)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2208>=2208)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2208>=2208)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Incorrect number of tokens: 2224
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x9106640] Incorrect number of tokens: 2224
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x9106640] invalid stream size
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x9106640] invalid stream size
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x9106640] Incorrect number of tokens: 19384
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x9106640] Incorrect number of tokens: 69600
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x9106640] Incorrect number of tokens: 4478
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 35 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Incorrect number of tokens: 6080
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x9106640] Incorrect number of tokens: 6984
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x9106640] Read token from stream 4 out of bounds
 (840>=840)
     Last message repeated 71 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4154>=4154)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 4 out of bounds
 (840>=840)
     Last message repeated 23 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (4154>=4154)
     Last message repeated 37 times
 [truemotion2 @ 0x9106640] Got less codes than expected: 3 of 7
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x9106640] invalid stream size
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (3722>=3722)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5632>=5632)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (3722>=3722)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5632>=5632)
     Last message repeated 3 times
 [truemotion2 @ 0x9106640] Read token from stream 1 out of bounds
 (3722>=3722)
     Last message repeated 1 times
 [truemotion2 @ 0x9106640] Read token from stream 3 out of bounds
 (5632>=5632)
     Last message repeated 3 times
 Program received signal SIGSEGV, Segmentation fault.
 tm2_read_stream (buf_size=<optimized out>, stream_id=<optimized out>,
     buf=0x925016c "", ctx=0x90f8640) at libavcodec/truemotion2.c:358
 358                 ctx->tokens[stream_id][i] = tm2_get_token(&ctx->gb,
 &codes);
 (gdb) bt
 #0  tm2_read_stream (buf_size=<optimized out>, stream_id=<optimized out>,
     buf=0x925016c "", ctx=0x90f8640) at libavcodec/truemotion2.c:358
 #1  decode_frame (avctx=0x9106640, data=0x90f9c80, got_frame=0xbffff4e4,
     avpkt=0xbffff288) at libavcodec/truemotion2.c:896
 #2  0x086770fe in avcodec_decode_video2 (avctx=0x9106640,
     picture=picture at entry=0x90f9c80,
     got_picture_ptr=got_picture_ptr at entry=0xbffff4e4,
     avpkt=avpkt at entry=0xbffff730) at libavcodec/utils.c:1983
 #3  0x080b36fd in decode_video (ist=ist at entry=0x9108b40,
     pkt=pkt at entry=0xbffff730, got_output=got_output at entry=0xbffff4e4)
     at ffmpeg.c:1668
 #4  0x080b761a in output_packet (pkt=0xbffff6c8, ist=0x9108b40)
     at ffmpeg.c:1866
 #5  process_input (file_index=2) at ffmpeg.c:3085
 #6  0x080a2ec3 in transcode_step () at ffmpeg.c:3181
 #7  transcode () at ffmpeg.c:3233
 #8  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3411
 (gdb)
 }}}


 {{{
 knoppix at Microknoppix:/media/sdb1$ valgrind --leak-check=full ffmpeg-HEAD-
 a67dcd7/ffmpeg_g -max_alloc 350000 -i ./tm2_fuzz.avi -f null -
 ==15804== Memcheck, a memory error detector
 ==15804== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
 ==15804== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright
 info
 ==15804== Command: ffmpeg-HEAD-a67dcd7/ffmpeg_g -max_alloc 350000 -i
 ./tm2_fuzz.avi -f null -
 ==15804==
 ffmpeg version 2.0-a67dcd7 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep  5 2013 17:23:55 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [avi @ 0x4229020] non-interleaved AVI
 Guessed Channel Layout for  Input Stream #0.1 : stereo
 Input #0, avi, from './tm2_fuzz.avi':
   Duration: 00:00:10.13, start: 0.000000, bitrate: 1498 kb/s
     Stream #0:0: Video: truemotion2 (TM20 / 0x30324D54), bgr24, 320x240,
 15 tbr, 15 tbn, 15 tbc
     Stream #0:1: Audio: pcm_u8 ([1][0][0][0] / 0x0001), 22050 Hz, stereo,
 u8, 352 kb/s
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.16.101
     Stream #0:0: Video: rawvideo (BGR[24] / 0x18524742), bgr24, 320x240,
 q=2-31, 200 kb/s, 90k tbn, 15 tbc
     Stream #0:1: Audio: pcm_s16le, 22050 Hz, stereo, s16, 705 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (truemotion2 -> rawvideo)
   Stream #0:1 -> #0:1 (pcm_u8 -> pcm_s16le)
 Press [q] to stop, [?] for help
 [null @ 0x433a300] Encoder did not produce proper pts, making some up.
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2208>=2208)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2208>=2208)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2208>=2208)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2208>=2208)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2208>=2208)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2208>=2208)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Incorrect number of tokens: 2224
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x423a4e0] Incorrect number of tokens: 2224
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x423a4e0] invalid stream size
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (278>=278)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 2 out of bounds
 (2224>=2224)
     Last message repeated 15 times
 [truemotion2 @ 0x423a4e0] invalid stream size
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x423a4e0] Incorrect number of tokens: 19384
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x423a4e0] Incorrect number of tokens: 69600
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x423a4e0] Incorrect number of tokens: 4478
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 35 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5940>=5940)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4156>=4156)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Incorrect number of tokens: 6080
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x423a4e0] Incorrect number of tokens: 6984
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x423a4e0] Read token from stream 4 out of bounds
 (840>=840)
     Last message repeated 71 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4154>=4154)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 4 out of bounds
 (840>=840)
     Last message repeated 23 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (4154>=4154)
     Last message repeated 37 times
 [truemotion2 @ 0x423a4e0] Got less codes than expected: 3 of 7
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x423a4e0] invalid stream size
 Error while decoding stream #0:0: Invalid data found when processing input
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (3722>=3722)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5632>=5632)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (3722>=3722)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5632>=5632)
     Last message repeated 3 times
 [truemotion2 @ 0x423a4e0] Read token from stream 1 out of bounds
 (3722>=3722)
     Last message repeated 1 times
 [truemotion2 @ 0x423a4e0] Read token from stream 3 out of bounds
 (5632>=5632)
 ==15804== Invalid write of size 4
 ==15804==    at 0x866ABBA: decode_frame (truemotion2.c:358)
 ==15804==    by 0x86770FD: avcodec_decode_video2 (utils.c:1983)
 ==15804==    by 0x80B36FC: decode_video (ffmpeg.c:1668)
 ==15804==    by 0x57E6B10: ???
 ==15804==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
 ==15804==
 ==15804==
 ==15804== Process terminating with default action of signal 11 (SIGSEGV)
 ==15804==  Access not within mapped region at address 0x0
 ==15804==    at 0x866ABBA: decode_frame (truemotion2.c:358)
 ==15804==    by 0x86770FD: avcodec_decode_video2 (utils.c:1983)
 ==15804==    by 0x80B36FC: decode_video (ffmpeg.c:1668)
 ==15804==    by 0x57E6B10: ???
 ==15804==  If you believe this happened as a result of a stack
 ==15804==  overflow in your program's main thread (unlikely but
 ==15804==  possible), you can try to increase the size of the
 ==15804==  main thread stack using the --main-stacksize= flag.
 ==15804==  The main thread stack size used in this run was 8388608.
 ==15804==
 ==15804== HEAP SUMMARY:
 ==15804==     in use at exit: 1,534,323 bytes in 231 blocks
 ==15804==   total heap usage: 2,946 allocs, 2,715 frees, 5,670,272 bytes
 allocated
 ==15804==
 ==15804== 20 bytes in 1 blocks are definitely lost in loss record 53 of
 161
 ==15804==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==15804==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==15804==    by 0x886CB77: av_malloc (mem.c:93)
 ==15804==    by 0x45960EF: ???
 ==15804==
 ==15804== 20 bytes in 1 blocks are definitely lost in loss record 54 of
 161
 ==15804==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==15804==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==15804==    by 0x886CB77: av_malloc (mem.c:93)
 ==15804==    by 0xF1C4B3F: ???
 ==15804==
 ==15804== 24 bytes in 1 blocks are definitely lost in loss record 62 of
 161
 ==15804==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==15804==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==15804==    by 0x886CB77: av_malloc (mem.c:93)
 ==15804==    by 0x458E6E7: ???
 ==15804==
 ==15804== 24 bytes in 1 blocks are definitely lost in loss record 63 of
 161
 ==15804==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==15804==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==15804==    by 0x886CB77: av_malloc (mem.c:93)
 ==15804==    by 0xF14E677: ???
 ==15804==
 ==15804== 28 bytes in 1 blocks are definitely lost in loss record 67 of
 161
 ==15804==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==15804==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==15804==    by 0x886CB77: av_malloc (mem.c:93)
 ==15804==    by 0x45D04B7: ???
 ==15804==
 ==15804== 48 bytes in 1 blocks are definitely lost in loss record 81 of
 161
 ==15804==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==15804==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==15804==    by 0x886CB77: av_malloc (mem.c:93)
 ==15804==    by 0xF0F5097: ???
 ==15804==
 ==15804== 52 bytes in 1 blocks are definitely lost in loss record 82 of
 161
 ==15804==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==15804==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==15804==    by 0x886CB77: av_malloc (mem.c:93)
 ==15804==    by 0xF196F8F: ???
 ==15804==
 ==15804== 1,088 bytes in 6 blocks are definitely lost in loss record 134
 of 161
 ==15804==    at 0x4028308: malloc (vg_replace_malloc.c:263)
 ==15804==    by 0x402849F: realloc (vg_replace_malloc.c:632)
 ==15804==    by 0x886CC05: av_realloc_f (mem.c:164)
 ==15804==    by 0x8285C0A: build_table (bitstream.c:114)
 ==15804==    by 0x8286602: ff_init_vlc_sparse (bitstream.c:334)
 ==15804==    by 0x866A47B: decode_frame (truemotion2.c:193)
 ==15804==
 ==15804== 2,592 bytes in 18 blocks are possibly lost in loss record 143 of
 161
 ==15804==    at 0x4026A68: calloc (vg_replace_malloc.c:566)
 ==15804==    by 0x40111FB: _dl_allocate_tls (dl-tls.c:300)
 ==15804==    by 0x407C2A8: pthread_create@@GLIBC_2.1 (allocatestack.c:580)
 ==15804==    by 0x80D9651: ff_graph_thread_init (pthread.c:180)
 ==15804==    by 0x80CD5C7: avfilter_graph_alloc_filter
 (avfiltergraph.c:186)
 ==15804==    by 0x80D8204: create_filter (graphparser.c:112)
 ==15804==    by 0x80D8C59: avfilter_graph_parse2 (graphparser.c:169)
 ==15804==
 ==15804== 4,096 bytes in 1 blocks are possibly lost in loss record 145 of
 161
 ==15804==    at 0x4028308: malloc (vg_replace_malloc.c:263)
 ==15804==    by 0x402849F: realloc (vg_replace_malloc.c:632)
 ==15804==    by 0x886CC05: av_realloc_f (mem.c:164)
 ==15804==    by 0x8285C0A: build_table (bitstream.c:114)
 ==15804==    by 0x8286602: ff_init_vlc_sparse (bitstream.c:334)
 ==15804==    by 0x866A47B: decode_frame (truemotion2.c:193)
 ==15804==
 ==15804== LEAK SUMMARY:
 ==15804==    definitely lost: 1,304 bytes in 13 blocks
 ==15804==    indirectly lost: 0 bytes in 0 blocks
 ==15804==      possibly lost: 6,688 bytes in 19 blocks
 ==15804==    still reachable: 1,526,331 bytes in 199 blocks
 ==15804==         suppressed: 0 bytes in 0 blocks
 ==15804== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==15804== To see them, rerun with: --leak-check=full --show-reachable=yes
 ==15804==
 ==15804== For counts of detected and suppressed errors, rerun with: -v
 ==15804== ERROR SUMMARY: 11 errors from 11 contexts (suppressed: 59 from
 6)
 Killed
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2946>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 13:19:47 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 11:19:47 -0000
Subject: [FFmpeg-trac] #2947(undetermined:new): mjpeg: invalid write with
 max_alloc
Message-ID: <038.f0645f8f02e7a5e1606bf45fc6fc9d38@avcodec.org>

#2947: mjpeg: invalid write with max_alloc
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 {{{
 (gdb) r -max_alloc 200000 -i ./avrn_fuzz.avi -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-a67dcd7/ffmpeg_g -max_alloc
 200000 -i ./avrn_fuzz.avi -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-a67dcd7 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep  5 2013 17:23:55 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Invalid code in init_vlc
 [avrn @ 0x9106640] huffman table decode error
 [avrn @ 0x9106640] mjpeg_decode_dc: bad vlc: 0:0 (0x91093c8)
 [avrn @ 0x9106640] error dc
 [avrn @ 0x9106640] error y=36 x=6
 Input #0, avi, from './avrn_fuzz.avi':
   Duration: 00:00:12.64, start: 0.000000, bitrate: 1731 kb/s
     Stream #0:0: Video: avrn (AVRn / 0x6E525641), yuvj422p(pc), 352x296,
 23.97 tbr, 23.97 tbn, 23.97 tbc
 [New Thread 0xb7df8b70 (LWP 32495)]
 [New Thread 0xb75f8b70 (LWP 32496)]
 [New Thread 0xb6df8b70 (LWP 32497)]
 [New Thread 0xb65f8b70 (LWP 32498)]
 [New Thread 0xb5df8b70 (LWP 32499)]
 [New Thread 0xb55f8b70 (LWP 32500)]
 [New Thread 0xb4df8b70 (LWP 32501)]
 [New Thread 0xb45f8b70 (LWP 32502)]
 [New Thread 0xb3df8b70 (LWP 32503)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.16.101
     Stream #0:0: Video: rawvideo (Y42B / 0x42323459), yuvj422p, 352x296,
 q=2-31, 200 kb/s, 90k tbn, 23.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (avrn -> rawvideo)
 Press [q] to stop, [?] for help
 Invalid code in init_vlc
 [avrn @ 0x9106640] huffman table decode error
 Error while decoding stream #0:0: Operation not permitted
 [avrn @ 0x9106640] mjpeg_decode_dc: bad vlc: 0:0 (0x910bf08)
 [avrn @ 0x9106640] error dc
 [avrn @ 0x9106640] error y=36 x=6
 [null @ 0x9108e80] Encoder did not produce proper pts, making some up.
 [avrn @ 0x9106640] mjpeg_decode_dc: bad vlc: 0:0 (0x910bf08)
 [avrn @ 0x9106640] error dc
 [avrn @ 0x9106640] error y=35 x=12
 Invalid code in init_vlc
 [avrn @ 0x9106640] huffman table decode error
 Error while decoding stream #0:0: Operation not permitted
 Invalid code in init_vlc
 [avrn @ 0x9106640] huffman table decode error
 Error while decoding stream #0:0: Operation not permitted
 Invalid code in init_vlc
 [avrn @ 0x9106640] huffman table decode error
 Error while decoding stream #0:0: Operation not permitted
 [avrn @ 0x9106640] error count: 64
 [avrn @ 0x9106640] error y=1 x=17
 [avrn @ 0x9106640] mjpeg_decode_dc: bad vlc: 0:0 (0x910bf08)
 [avrn @ 0x9106640] error dc
 [avrn @ 0x9106640] error y=35 x=3
 [avrn @ 0x9106640] error count: 268435457
 [avrn @ 0x9106640] error y=18 x=0
 [avrn @ 0x9106640] Found EOI before any SOF, ignoring
 [avrn @ 0x9106640] No JPEG data found in image
 Error while decoding stream #0:0: Invalid data found when processing input
 [avrn @ 0x9106640] mjpeg_decode_dc: bad vlc: 0:0 (0x910bf08)
 [avrn @ 0x9106640] error dc
 [avrn @ 0x9106640] error y=36 x=13
 [avrn @ 0x9106640] overread 8
 [avrn @ 0x9106640] mjpeg_decode_dc: bad vlc: 0:0 (0x910bf08)
 [avrn @ 0x9106640] error dc
 [avrn @ 0x9106640] error y=36 x=12
 [avrn @ 0x9106640] error count: 268435464
 [avrn @ 0x9106640] error y=1 x=5
 [avrn @ 0x9106640] error count: 268435479
 [avrn @ 0x9106640] error y=0 x=14
 [avrn @ 0x9106640] overread 8
 [avrn @ 0x9106640] error count: 268435455
 [avrn @ 0x9106640] error y=2 x=11
 [avrn @ 0x9106640] error count: 64
 [avrn @ 0x9106640] error y=1 x=20
 [avrn @ 0x9106640] overread 8
 [avrn @ 0x9106640] huffman table decode error
 Error while decoding stream #0:0: Invalid data found when processing input
 Invalid code in init_vlc
 [avrn @ 0x9106640] huffman table decode error
 Error while decoding stream #0:0: Operation not permitted
 [avrn @ 0x9106640] error count: 268435470
 [avrn @ 0x9106640] error y=1 x=13
 [avrn @ 0x9106640] huffman table decode error
 Error while decoding stream #0:0: Invalid data found when processing input
 [avrn @ 0x9106640] error count: 268435460
 [avrn @ 0x9106640] error y=4 x=17

 Program received signal SIGSEGV, Segmentation fault.
 0x0872d317 in ff_clear_block_sse (block=0x0)
     at libavcodec/x86/dsputil_mmx.c:193
 193         __asm__ volatile (
 (gdb) bt
 #0  0x0872d317 in ff_clear_block_sse (block=0x0)
     at libavcodec/x86/dsputil_mmx.c:193
 #1  0x0852c697 in decode_dc_progressive (Al=0, quant_matrix=0x910bd08,
     dc_index=0, component=0, block=0x0, s=0x910bce0)
     at libavcodec/mjpegdec.c:577
 #2  mjpeg_decode_scan (reference=0x0, mb_bitmask=0x0, Al=0, Ah=0,
     nb_components=3, s=0x910bce0) at libavcodec/mjpegdec.c:1132
 #3  ff_mjpeg_decode_sos (s=s at entry=0x910bce0,
 mb_bitmask=mb_bitmask at entry=0x0,
     reference=reference at entry=0x0) at libavcodec/mjpegdec.c:1348
 #4  0x0852e8dd in ff_mjpeg_decode_frame (avctx=0x9106640, data=0x9119c60,
     got_frame=0xbffff4e4, avpkt=0xbffff288) at libavcodec/mjpegdec.c:1876
 #5  0x086770ee in avcodec_decode_video2 (avctx=0x9106640,
     picture=picture at entry=0x9119c60,
     got_picture_ptr=got_picture_ptr at entry=0xbffff4e4,
     avpkt=avpkt at entry=0xbffff730) at libavcodec/utils.c:1983
 #6  0x080b36ed in decode_video (ist=ist at entry=0x910dc80,
     pkt=pkt at entry=0xbffff730, got_output=got_output at entry=0xbffff4e4)
     at ffmpeg.c:1668
 #7  0x080b760a in output_packet (pkt=0xbffff6c8, ist=0x910dc80)
     at ffmpeg.c:1866
 #8  process_input (file_index=1) at ffmpeg.c:3085
 #9  0x080a2eb3 in transcode_step () at ffmpeg.c:3181
 #10 transcode () at ffmpeg.c:3233
 ---Type <return> to continue, or q <return> to quit---
 #11 main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3411
 (gdb)
 }}}


 {{{
 knoppix at Microknoppix:/media/sdb1$ valgrind --leak-check=full ffmpeg-HEAD-
 a67dcd7/ffmpeg_g -max_alloc 200000 -i ./avrn_fuzz.avi -f null -
 ==32477== Memcheck, a memory error detector
 ==32477== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
 ==32477== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright
 info
 ==32477== Command: ffmpeg-HEAD-a67dcd7/ffmpeg_g -max_alloc 200000 -i
 ./avrn_fuzz.avi -f null -
 ==32477==
 ffmpeg version 2.0-a67dcd7 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep  5 2013 17:23:55 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Invalid code in init_vlc
 [avrn @ 0x423a4e0] huffman table decode error
 [avrn @ 0x423a4e0] mjpeg_decode_dc: bad vlc: 0:0 (0x4255308)
 [avrn @ 0x423a4e0] error dc
 [avrn @ 0x423a4e0] error y=36 x=6
 Input #0, avi, from './avrn_fuzz.avi':
   Duration: 00:00:12.64, start: 0.000000, bitrate: 1731 kb/s
     Stream #0:0: Video: avrn (AVRn / 0x6E525641), yuvj422p(pc), 352x296,
 23.97 tbr, 23.97 tbn, 23.97 tbc
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.16.101
     Stream #0:0: Video: rawvideo (Y42B / 0x42323459), yuvj422p, 352x296,
 q=2-31, 200 kb/s, 90k tbn, 23.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (avrn -> rawvideo)
 Press [q] to stop, [?] for help
 Invalid code in init_vlc
 [avrn @ 0x423a4e0] huffman table decode error
 Error while decoding stream #0:0: Operation not permitted
 [avrn @ 0x423a4e0] mjpeg_decode_dc: bad vlc: 0:0 (0x4399bc8)
 [avrn @ 0x423a4e0] error dc
 [avrn @ 0x423a4e0] error y=36 x=6
 [null @ 0x42ba3c0] Encoder did not produce proper pts, making some up.
 [avrn @ 0x423a4e0] mjpeg_decode_dc: bad vlc: 0:0 (0x4399bc8)
 [avrn @ 0x423a4e0] error dc
 [avrn @ 0x423a4e0] error y=35 x=12
 Invalid code in init_vlc
 [avrn @ 0x423a4e0] huffman table decode error
 Error while decoding stream #0:0: Operation not permitted
 Invalid code in init_vlc
 [avrn @ 0x423a4e0] huffman table decode error
 Error while decoding stream #0:0: Operation not permitted
 Invalid code in init_vlc
 [avrn @ 0x423a4e0] huffman table decode error
 Error while decoding stream #0:0: Operation not permitted
 [avrn @ 0x423a4e0] error count: 64
 [avrn @ 0x423a4e0] error y=1 x=17
 [avrn @ 0x423a4e0] mjpeg_decode_dc: bad vlc: 0:0 (0x4399bc8)
 [avrn @ 0x423a4e0] error dc
 [avrn @ 0x423a4e0] error y=35 x=3
 [avrn @ 0x423a4e0] error count: 268435457
 [avrn @ 0x423a4e0] error y=18 x=0
 [avrn @ 0x423a4e0] Found EOI before any SOF, ignoring
 [avrn @ 0x423a4e0] No JPEG data found in image
 Error while decoding stream #0:0: Invalid data found when processing input
 [avrn @ 0x423a4e0] mjpeg_decode_dc: bad vlc: 0:0 (0x4399bc8)
 [avrn @ 0x423a4e0] error dc
 [avrn @ 0x423a4e0] error y=36 x=13
 [avrn @ 0x423a4e0] overread 8
 [avrn @ 0x423a4e0] mjpeg_decode_dc: bad vlc: 0:0 (0x4399bc8)
 [avrn @ 0x423a4e0] error dc
 [avrn @ 0x423a4e0] error y=36 x=12
 [avrn @ 0x423a4e0] error count: 268435464
 [avrn @ 0x423a4e0] error y=1 x=5
 [avrn @ 0x423a4e0] error count: 268435479
 [avrn @ 0x423a4e0] error y=0 x=14
 [avrn @ 0x423a4e0] overread 8
 [avrn @ 0x423a4e0] error count: 268435455
 [avrn @ 0x423a4e0] error y=2 x=11
 [avrn @ 0x423a4e0] error count: 64
 [avrn @ 0x423a4e0] error y=1 x=20
 [avrn @ 0x423a4e0] overread 8
 [avrn @ 0x423a4e0] huffman table decode error
 Error while decoding stream #0:0: Invalid data found when processing input
 Invalid code in init_vlc
 [avrn @ 0x423a4e0] huffman table decode error
 Error while decoding stream #0:0: Operation not permitted
 [avrn @ 0x423a4e0] error count: 268435470
 [avrn @ 0x423a4e0] error y=1 x=13
 [avrn @ 0x423a4e0] huffman table decode error
 Error while decoding stream #0:0: Invalid data found when processing input
 [avrn @ 0x423a4e0] error count: 268435460
 [avrn @ 0x423a4e0] error y=4 x=17
 ==32477== Invalid write of size 8
 ==32477==    at 0x872D317: ff_clear_block_sse (dsputil_mmx.c:193)
 ==32477==    by 0x852C696: ff_mjpeg_decode_sos (mjpegdec.c:577)
 ==32477==    by 0x852E8DC: ff_mjpeg_decode_frame (mjpegdec.c:1876)
 ==32477==    by 0x86770ED: avcodec_decode_video2 (utils.c:1983)
 ==32477==    by 0x80B36EC: decode_video (ffmpeg.c:1668)
 ==32477==    by 0xC56966D: ???
 ==32477==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
 ==32477==
 ==32477==
 ==32477== Process terminating with default action of signal 11 (SIGSEGV)
 ==32477==  Access not within mapped region at address 0x0
 ==32477==    at 0x872D317: ff_clear_block_sse (dsputil_mmx.c:193)
 ==32477==    by 0x852C696: ff_mjpeg_decode_sos (mjpegdec.c:577)
 ==32477==    by 0x852E8DC: ff_mjpeg_decode_frame (mjpegdec.c:1876)
 ==32477==    by 0x86770ED: avcodec_decode_video2 (utils.c:1983)
 ==32477==    by 0x80B36EC: decode_video (ffmpeg.c:1668)
 ==32477==    by 0xC56966D: ???
 ==32477==  If you believe this happened as a result of a stack
 ==32477==  overflow in your program's main thread (unlikely but
 ==32477==  possible), you can try to increase the size of the
 ==32477==  main thread stack using the --main-stacksize= flag.
 ==32477==  The main thread stack size used in this run was 8388608.
 ==32477==
 ==32477== HEAP SUMMARY:
 ==32477==     in use at exit: 585,085 bytes in 122 blocks
 ==32477==   total heap usage: 2,483 allocs, 2,361 frees, 3,119,954 bytes
 allocated
 ==32477==
 ==32477== 1,296 bytes in 9 blocks are possibly lost in loss record 87 of
 102
 ==32477==    at 0x4026A68: calloc (vg_replace_malloc.c:566)
 ==32477==    by 0x40111FB: _dl_allocate_tls (dl-tls.c:300)
 ==32477==    by 0x407C2A8: pthread_create@@GLIBC_2.1 (allocatestack.c:580)
 ==32477==    by 0x80D9641: ff_graph_thread_init (pthread.c:180)
 ==32477==    by 0x80CD5B7: avfilter_graph_alloc_filter
 (avfiltergraph.c:186)
 ==32477==    by 0x80D81F4: create_filter (graphparser.c:112)
 ==32477==    by 0x80D8C49: avfilter_graph_parse2 (graphparser.c:169)
 ==32477==
 ==32477== LEAK SUMMARY:
 ==32477==    definitely lost: 0 bytes in 0 blocks
 ==32477==    indirectly lost: 0 bytes in 0 blocks
 ==32477==      possibly lost: 1,296 bytes in 9 blocks
 ==32477==    still reachable: 583,789 bytes in 113 blocks
 ==32477==         suppressed: 0 bytes in 0 blocks
 ==32477== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==32477== To see them, rerun with: --leak-check=full --show-reachable=yes
 ==32477==
 ==32477== For counts of detected and suppressed errors, rerun with: -v
 ==32477== ERROR SUMMARY: 3 errors from 2 contexts (suppressed: 59 from 6)
 Killed
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2947>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 13:21:12 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 11:21:12 -0000
Subject: [FFmpeg-trac] #2947(undetermined:new): mjpeg: invalid write
 with max_alloc
In-Reply-To: <038.f0645f8f02e7a5e1606bf45fc6fc9d38@avcodec.org>
References: <038.f0645f8f02e7a5e1606bf45fc6fc9d38@avcodec.org>
Message-ID: <053.704c9d283bc4cdead1874288f6c9acd3@avcodec.org>

#2947: mjpeg: invalid write with max_alloc
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by ami_stuff):

 http://www1.datafilehost.com/d/e82fad8f

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2947#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 13:23:17 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 11:23:17 -0000
Subject: [FFmpeg-trac] #2948(undetermined:new): mts2: invalid write with
 max_alloc
Message-ID: <038.13143bb92dc9d8bedb57d9c2aaac9306@avcodec.org>

#2948: mts2: invalid write with max_alloc
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 {{{
 knoppix at Microknoppix:/media/sdb1$ gdb ffmpeg-HEAD-a67dcd7/ffmpeg_gGNU gdb
 (GDB) 7.4.1-debian
 Copyright (C) 2012 Free Software Foundation, Inc.
 License GPLv3+: GNU GPL version 3 or later
 <http://gnu.org/licenses/gpl.html>
 This is free software: you are free to change and redistribute it.
 There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
 and "show warranty" for details.
 This GDB was configured as "i486-linux-gnu".
 For bug reporting instructions, please see:
 <http://www.gnu.org/software/gdb/bugs/>...
 Reading symbols from /media/sdb1/ffmpeg-HEAD-a67dcd7/ffmpeg_g...done.
 (gdb) r -max_alloc 600000 -i ./mts2_fuzz.wmv -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-a67dcd7/ffmpeg_g -max_alloc
 600000 -i ./mts2_fuzz.wmv -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-a67dcd7 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep  5 2013 17:23:55 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Truncating packet of size 16777216 to 608235

 Program received signal SIGSEGV, Segmentation fault.
 0xb7eaeb4f in *__GI_memcpy (dstpp=dstpp at entry=0x0, srcpp=0x910f73e,
     len=len at entry=27850) at memcpy.c:55
 55      memcpy.c: No such file or directory.
 (gdb) bt
 #0  0xb7eaeb4f in *__GI_memcpy (dstpp=dstpp at entry=0x0, srcpp=0x910f73e,
     len=len at entry=27850) at memcpy.c:55
 #1  0x08154e76 in avio_read (s=s at entry=0x910e380, buf=0x0,
     size=<optimized out>) at libavformat/aviobuf.c:515
 #2  0x08146016 in asf_read_stream_properties (size=129, s=0x9105d40)
     at libavformat/asfdec.c:468
 #3  asf_read_header (s=0x9105d40) at libavformat/asfdec.c:753
 #4  0x08240695 in avformat_open_input (ps=ps at entry=0xbffff420,
     filename=filename at entry=0xbffffb63 "./mts2_fuzz.wmv",
 fmt=fmt at entry=0x0,
     options=0x90f9f54) at libavformat/utils.c:527
 #5  0x080a63f4 in open_input_file (o=o at entry=0xbffff51c,
     filename=<optimized out>) at ffmpeg_opt.c:792
 #6  0x080a4d57 in open_files (inout=inout at entry=0x88d831b "input",
     open_file=open_file at entry=0x80a6150 <open_input_file>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>)
     at ffmpeg_opt.c:2494
 #7  0x080acf69 in ffmpeg_parse_options (argc=argc at entry=8,
     argv=argv at entry=0xbffff9a4) at ffmpeg_opt.c:2531
 #8  0x080a245a in main (argc=8, argv=0xbffff9a4) at ffmpeg.c:3389
 (gdb)
 }}}

 {{{
 knoppix at Microknoppix:/media/sdb1$ valgrind --leak-check=full ffmpeg-HEAD-
 a67dcd7/ffmpeg_g -max_alloc 600000 -i ./mts2_fuzz.wmv -f null -
 ==10423== Memcheck, a memory error detector
 ==10423== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
 ==10423== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright
 info
 ==10423== Command: ffmpeg-HEAD-a67dcd7/ffmpeg_g -max_alloc 600000 -i
 ./mts2_fuzz.wmv -f null -
 ==10423==
 ffmpeg version 2.0-a67dcd7 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep  5 2013 17:23:55 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Truncating packet of size 16777216 to 608235
 ==10423== Invalid write of size 2
 ==10423==    at 0x4029CDB: memcpy (mc_replace_strmem.c:838)
 ==10423==    by 0x8154E75: avio_read (aviobuf.c:515)
 ==10423==    by 0x8146015: asf_read_header (asfdec.c:468)
 ==10423==    by 0x8240694: avformat_open_input (utils.c:527)
 ==10423==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
 ==10423==
 ==10423==
 ==10423== Process terminating with default action of signal 11 (SIGSEGV)
 ==10423==  Access not within mapped region at address 0x0
 ==10423==    at 0x4029CDB: memcpy (mc_replace_strmem.c:838)
 ==10423==    by 0x8154E75: avio_read (aviobuf.c:515)
 ==10423==    by 0x8146015: asf_read_header (asfdec.c:468)
 ==10423==    by 0x8240694: avformat_open_input (utils.c:527)
 ==10423==  If you believe this happened as a result of a stack
 ==10423==  overflow in your program's main thread (unlikely but
 ==10423==  possible), you can try to increase the size of the
 ==10423==  main thread stack using the --main-stacksize= flag.
 ==10423==  The main thread stack size used in this run was 8388608.
 ==10423==
 ==10423== HEAP SUMMARY:
 ==10423==     in use at exit: 264,082 bytes in 29 blocks
 ==10423==   total heap usage: 39 allocs, 10 frees, 299,170 bytes allocated
 ==10423==
 ==10423== LEAK SUMMARY:
 ==10423==    definitely lost: 0 bytes in 0 blocks
 ==10423==    indirectly lost: 0 bytes in 0 blocks
 ==10423==      possibly lost: 0 bytes in 0 blocks
 ==10423==    still reachable: 264,082 bytes in 29 blocks
 ==10423==         suppressed: 0 bytes in 0 blocks
 ==10423== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==10423== To see them, rerun with: --leak-check=full --show-reachable=yes
 ==10423==
 ==10423== For counts of detected and suppressed errors, rerun with: -v
 ==10423== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 59 from 6)
 Segmentation fault
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2948>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 13:26:56 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 11:26:56 -0000
Subject: [FFmpeg-trac] #2949(undetermined:new): tgv: invalid write with
 max_alloc
Message-ID: <038.e2bf21d7ab11be56fefa2c7f78382b10@avcodec.org>

#2949: tgv: invalid write with max_alloc
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://www1.datafilehost.com/d/2d320c51

 {{{
 knoppix at Microknoppix:/media/sdb1$ gdb ffmpeg-HEAD-a67dcd7/ffmpeg_gGNU gdb
 (GDB) 7.4.1-debian
 Copyright (C) 2012 Free Software Foundation, Inc.
 License GPLv3+: GNU GPL version 3 or later
 <http://gnu.org/licenses/gpl.html>
 This is free software: you are free to change and redistribute it.
 There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
 and "show warranty" for details.
 This GDB was configured as "i486-linux-gnu".
 For bug reporting instructions, please see:
 <http://www.gnu.org/software/gdb/bugs/>...
 Reading symbols from /media/sdb1/ffmpeg-HEAD-a67dcd7/ffmpeg_g...done.
 (gdb) r -max_alloc 500000 -i ./fuzz.tgv -an -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-a67dcd7/ffmpeg_g -max_alloc
 500000 -i ./fuzz.tgv -an -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-a67dcd7 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep  5 2013 17:23:55 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Guessed Channel Layout for  Input Stream #0.1 : stereo
 Input #0, ea, from './fuzz.tgv':
   Duration: N/A, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: tgv, pal8, 320x132, 15 fps, 15 tbr, 90k tbn, 15
 tbc
     Stream #0:1: Audio: adpcm_ima_ea_sead, 22050 Hz, stereo, s16, 176 kb/s
 [New Thread 0xb7df8b70 (LWP 25733)]
 [New Thread 0xb75f8b70 (LWP 25734)]
 [New Thread 0xb6df8b70 (LWP 25735)]
 [New Thread 0xb65f8b70 (LWP 25736)]
 [New Thread 0xb5df8b70 (LWP 25737)]
 [New Thread 0xb55f8b70 (LWP 25738)]
 [New Thread 0xb4df8b70 (LWP 25739)]
 [New Thread 0xb45f8b70 (LWP 25740)]
 [New Thread 0xb3df8b70 (LWP 25741)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.16.101
     Stream #0:0: Video: rawvideo, pal8, 320x132, q=2-31, 200 kb/s, 90k
 tbn, 15 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (eatgv -> rawvideo)
 Press [q] to stop, [?] for help
 [null @ 0x91070c0] Encoder did not produce proper pts, making some up.
 [eatgv @ 0x9106600] MV 31 -6 out of picture
 [eatgv @ 0x9106600] MV 380 13 out of picture
 [eatgv @ 0x9106600] MV -223 13 out of picture
 [eatgv @ 0x9106600] MV -51 37 out of picture
 [eatgv @ 0x9106600] MV 318 81 out of picture
 [eatgv @ 0x9106600] MV 19 351 out of picture
 [eatgv @ 0x9106600] MV 87 383 out of picture
 [eatgv @ 0x9106600] MV -175 113 out of picture
 [eatgv @ 0x9106600] MV -42 11 out of picture
 [eatgv @ 0x9106600] MV 233 -126 out of picture
 [eatgv @ 0x9106600] MV -58 111 out of picture
 [eatgv @ 0x9106600] MV 213 -22 out of picture
 [eatgv @ 0x9106600] MV 44 135 out of picture
 [eatgv @ 0x9106600] MV 93 -10 out of picture
 [eatgv @ 0x9106600] MV -2 1 out of picture
 [eatgv @ 0x9106600] MV 340 133 out of picture
 [eatgv @ 0x9106600] MV -279 3 out of picture
 [eatgv @ 0x9106600] MV -279 7 out of picture
 [eatgv @ 0x9106600] MV -267 7 out of picture
 [eatgv @ 0x9106600] MV -283 11 out of picture
 [eatgv @ 0x9106600] MV -431 19 out of picture
 [eatgv @ 0x9106600] MV -199 23 out of picture
 [eatgv @ 0x9106600] MV -271 31 out of picture
 [eatgv @ 0x9106600] MV -223 31 out of picture
 [eatgv @ 0x9106600] MV -455 35 out of picture
 [eatgv @ 0x9106600] MV -211 43 out of picture
 [eatgv @ 0x9106600] MV -199 43 out of picture
 [eatgv @ 0x9106600] MV -411 47 out of picture
 [eatgv @ 0x9106600] MV -239 51 out of picture
 [eatgv @ 0x9106600] MV -219 55 out of picture
 [eatgv @ 0x9106600] MV -207 55 out of picture
 [eatgv @ 0x9106600] MV -207 63 out of picture
 [eatgv @ 0x9106600] MV -239 67 out of picture
 [eatgv @ 0x9106600] MV -211 67 out of picture
 [eatgv @ 0x9106600] MV -331 79 out of picture
 [eatgv @ 0x9106600] MV -311 91 out of picture
 [eatgv @ 0x9106600] MV -427 95 out of picture
 [eatgv @ 0x9106600] MV -431 99 out of picture
 [eatgv @ 0x9106600] MV -427 99 out of picture
 [eatgv @ 0x9106600] MV 237 134 out of picture
 [eatgv @ 0x9106600] MV -219 111 out of picture
 [eatgv @ 0x9106600] MV -34 23 out of picture
 [eatgv @ 0x9106600] MV -30 23 out of picture
 [eatgv @ 0x9106600] MV 363 92 out of picture
 [eatgv @ 0x9106600] MV 205 135 out of picture
 [eatgv @ 0x9106600] MV 324 0 out of picture
 [eatgv @ 0x9106600] MV 281 -13 out of picture
 [eatgv @ 0x9106600] MV 814 15 out of picture
 [eatgv @ 0x9106600] MV 782 19 out of picture
 [eatgv @ 0x9106600] MV 802 19 out of picture
 [eatgv @ 0x9106600] MV 778 23 out of picture
 [eatgv @ 0x9106600] MV 786 23 out of picture
 [eatgv @ 0x9106600] MV 790 23 out of picture
 [eatgv @ 0x9106600] MV 798 23 out of picture
 [eatgv @ 0x9106600] MV 802 23 out of picture
 [eatgv @ 0x9106600] MV 806 23 out of picture
 [eatgv @ 0x9106600] MV 818 23 out of picture
 [eatgv @ 0x9106600] MV 58 -1 out of picture
 [eatgv @ 0x9106600] MV 782 27 out of picture
 [eatgv @ 0x9106600] MV 786 27 out of picture
 [eatgv @ 0x9106600] MV 742 31 out of picture
 [eatgv @ 0x9106600] MV 762 31 out of picture
 [eatgv @ 0x9106600] MV 798 31 out of picture
 [eatgv @ 0x9106600] MV 818 31 out of picture
 [eatgv @ 0x9106600] MV 778 43 out of picture
 [eatgv @ 0x9106600] MV 762 47 out of picture
 [eatgv @ 0x9106600] MV 538 55 out of picture
 [eatgv @ 0x9106600] MV 758 55 out of picture
 [eatgv @ 0x9106600] MV 630 59 out of picture
 [eatgv @ 0x9106600] MV 750 67 out of picture
 [eatgv @ 0x9106600] MV 670 71 out of picture
 [eatgv @ 0x9106600] MV 674 83 out of picture
 [eatgv @ 0x9106600] MV 562 95 out of picture
 [eatgv @ 0x9106600] MV 686 103 out of picture
 [eatgv @ 0x9106600] MV 602 115 out of picture
 [eatgv @ 0x9106600] MV 686 119 out of picture
 [eatgv @ 0x9106600] MV 682 127 out of picture
 [eatgv @ 0x9106600] MV 196 136 out of picture
 [eatgv @ 0x9106600] MV 116 144 out of picture
 [eatgv @ 0x9106600] MV 12 148 out of picture
 [eatgv @ 0x9106600] MV 156 152 out of picture
 [eatgv @ 0x9106600] MV 104 156 out of picture
 [eatgv @ 0x9106600] MV 104 160 out of picture
 [eatgv @ 0x9106600] MV 112 160 out of picture
 [eatgv @ 0x9106600] MV 109 -22 out of picture
 [eatgv @ 0x9106600] MV 160 160 out of picture
 [eatgv @ 0x9106600] MV 172 160 out of picture
 [eatgv @ 0x9106600] MV 29 139 out of picture
 [eatgv @ 0x9106600] truncated inter frame
 Error while decoding stream #0:0: Invalid data found when processing input

 Program received signal SIGSEGV, Segmentation fault.
 0x0831bad3 in tgv_decode_inter (buf_end=<optimized out>,
     buf=0x918707c "H\312s\215\377\327\t\031\217\207", s=0x90f5080,
     frame=<optimized out>) at libavcodec/eatgv.c:205
 205                 s->block_codebook[i][15-j] = tmp[get_bits(&gb, 2)];
 (gdb) bt
 #0  0x0831bad3 in tgv_decode_inter (buf_end=<optimized out>,
     buf=0x918707c "H\312s\215\377\327\t\031\217\207", s=0x90f5080,
     frame=<optimized out>) at libavcodec/eatgv.c:205
 #1  tgv_decode_frame (avctx=0x9106600, data=0x90f56c0,
 got_frame=0xbffff4e4,
     avpkt=0xbffff288) at libavcodec/eatgv.c:323
 #2  0x086770fe in avcodec_decode_video2 (avctx=0x9106600,
     picture=picture at entry=0x90f56c0,
     got_picture_ptr=got_picture_ptr at entry=0xbffff4e4,
     avpkt=avpkt at entry=0xbffff730) at libavcodec/utils.c:1983
 #3  0x080b36fd in decode_video (ist=ist at entry=0x9107b80,
     pkt=pkt at entry=0xbffff730, got_output=got_output at entry=0xbffff4e4)
     at ffmpeg.c:1668
 #4  0x080b761a in output_packet (pkt=0xbffff6c8, ist=0x9107b80)
     at ffmpeg.c:1866
 #5  process_input (file_index=2) at ffmpeg.c:3085
 #6  0x080a2ec3 in transcode_step () at ffmpeg.c:3181
 #7  transcode () at ffmpeg.c:3233
 #8  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3411
 (gdb)
 }}}

 {{{
 knoppix at Microknoppix:/media/sdb1$ valgrind --leak-check=full ffmpeg-HEAD-
 a67dcd7/ffmpeg_g -max_alloc 500000 -i ./fuzz.tgv -f null -
 ==25707== Memcheck, a memory error detector
 ==25707== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
 ==25707== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright
 info
 ==25707== Command: ffmpeg-HEAD-a67dcd7/ffmpeg_g -max_alloc 500000 -i
 ./fuzz.tgv -f null -
 ==25707==
 ffmpeg version 2.0-a67dcd7 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep  5 2013 17:23:55 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 83.102 /  3. 83.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Guessed Channel Layout for  Input Stream #0.1 : stereo
 Input #0, ea, from './fuzz.tgv':
   Duration: N/A, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: tgv, pal8, 320x132, 15 fps, 15 tbr, 90k tbn, 15
 tbc
     Stream #0:1: Audio: adpcm_ima_ea_sead, 22050 Hz, stereo, s16, 176 kb/s
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.16.101
     Stream #0:0: Video: rawvideo, pal8, 320x132, q=2-31, 200 kb/s, 90k
 tbn, 15 tbc
     Stream #0:1: Audio: pcm_s16le, 22050 Hz, stereo, s16, 705 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (eatgv -> rawvideo)
   Stream #0:1 -> #0:1 (adpcm_ima_ea_sead -> pcm_s16le)
 Press [q] to stop, [?] for help
 [null @ 0x4379000] Encoder did not produce proper pts, making some up.
 [eatgv @ 0x423a4c0] MV 31 -6 out of picture
 [eatgv @ 0x423a4c0] MV 380 13 out of picture
 [eatgv @ 0x423a4c0] MV -223 13 out of picture
 [eatgv @ 0x423a4c0] MV -51 37 out of picture
 [eatgv @ 0x423a4c0] MV 318 81 out of picture
 [eatgv @ 0x423a4c0] MV 19 351 out of picture
 [eatgv @ 0x423a4c0] MV 87 383 out of picture
 [eatgv @ 0x423a4c0] MV -175 113 out of picture
 [eatgv @ 0x423a4c0] MV -42 11 out of picture
 [eatgv @ 0x423a4c0] MV 233 -126 out of picture
 [eatgv @ 0x423a4c0] MV -58 111 out of picture
 [eatgv @ 0x423a4c0] MV 213 -22 out of picture
 [eatgv @ 0x423a4c0] MV 44 135 out of picture
 [eatgv @ 0x423a4c0] MV 93 -10 out of picture
 [eatgv @ 0x423a4c0] MV -2 1 out of picture
 [eatgv @ 0x423a4c0] MV 340 133 out of picture
 [eatgv @ 0x423a4c0] MV -279 3 out of picture
 [eatgv @ 0x423a4c0] MV -279 7 out of picture
 [eatgv @ 0x423a4c0] MV -267 7 out of picture
 [eatgv @ 0x423a4c0] MV -283 11 out of picture
 [eatgv @ 0x423a4c0] MV -431 19 out of picture
 [eatgv @ 0x423a4c0] MV -199 23 out of picture
 [eatgv @ 0x423a4c0] MV -271 31 out of picture
 [eatgv @ 0x423a4c0] MV -223 31 out of picture
 [eatgv @ 0x423a4c0] MV -455 35 out of picture
 [eatgv @ 0x423a4c0] MV -211 43 out of picture
 [eatgv @ 0x423a4c0] MV -199 43 out of picture
 [eatgv @ 0x423a4c0] MV -411 47 out of picture
 [eatgv @ 0x423a4c0] MV -239 51 out of picture
 [eatgv @ 0x423a4c0] MV -219 55 out of picture
 [eatgv @ 0x423a4c0] MV -207 55 out of picture
 [eatgv @ 0x423a4c0] MV -207 63 out of picture
 [eatgv @ 0x423a4c0] MV -239 67 out of picture
 [eatgv @ 0x423a4c0] MV -211 67 out of picture
 [eatgv @ 0x423a4c0] MV -331 79 out of picture
 [eatgv @ 0x423a4c0] MV -311 91 out of picture
 [eatgv @ 0x423a4c0] MV -427 95 out of picture
 [eatgv @ 0x423a4c0] MV -431 99 out of picture
 [eatgv @ 0x423a4c0] MV -427 99 out of picture
 [eatgv @ 0x423a4c0] MV 237 134 out of picture
 [eatgv @ 0x423a4c0] MV -219 111 out of picture
 [eatgv @ 0x423a4c0] MV -34 23 out of picture
 [eatgv @ 0x423a4c0] MV -30 23 out of picture
 [eatgv @ 0x423a4c0] MV 363 92 out of picture
 [eatgv @ 0x423a4c0] MV 205 135 out of picture
 [eatgv @ 0x423a4c0] MV 324 0 out of picture
 [eatgv @ 0x423a4c0] MV 281 -13 out of picture
 [eatgv @ 0x423a4c0] MV 814 15 out of picture
 [eatgv @ 0x423a4c0] MV 782 19 out of picture
 [eatgv @ 0x423a4c0] MV 802 19 out of picture
 [eatgv @ 0x423a4c0] MV 778 23 out of picture
 [eatgv @ 0x423a4c0] MV 786 23 out of picture
 [eatgv @ 0x423a4c0] MV 790 23 out of picture
 [eatgv @ 0x423a4c0] MV 798 23 out of picture
 [eatgv @ 0x423a4c0] MV 802 23 out of picture
 [eatgv @ 0x423a4c0] MV 806 23 out of picture
 [eatgv @ 0x423a4c0] MV 818 23 out of picture
 [eatgv @ 0x423a4c0] MV 58 -1 out of picture
 [eatgv @ 0x423a4c0] MV 782 27 out of picture
 [eatgv @ 0x423a4c0] MV 786 27 out of picture
 [eatgv @ 0x423a4c0] MV 742 31 out of picture
 [eatgv @ 0x423a4c0] MV 762 31 out of picture
 [eatgv @ 0x423a4c0] MV 798 31 out of picture
 [eatgv @ 0x423a4c0] MV 818 31 out of picture
 [eatgv @ 0x423a4c0] MV 778 43 out of picture
 [eatgv @ 0x423a4c0] MV 762 47 out of picture
 [eatgv @ 0x423a4c0] MV 538 55 out of picture
 [eatgv @ 0x423a4c0] MV 758 55 out of picture
 [eatgv @ 0x423a4c0] MV 630 59 out of picture
 [eatgv @ 0x423a4c0] MV 750 67 out of picture
 [eatgv @ 0x423a4c0] MV 670 71 out of picture
 [eatgv @ 0x423a4c0] MV 674 83 out of picture
 [eatgv @ 0x423a4c0] MV 562 95 out of picture
 [eatgv @ 0x423a4c0] MV 686 103 out of picture
 [eatgv @ 0x423a4c0] MV 602 115 out of picture
 [eatgv @ 0x423a4c0] MV 686 119 out of picture
 [eatgv @ 0x423a4c0] MV 682 127 out of picture
 [eatgv @ 0x423a4c0] MV 196 136 out of picture
 [eatgv @ 0x423a4c0] MV 116 144 out of picture
 [eatgv @ 0x423a4c0] MV 12 148 out of picture
 [eatgv @ 0x423a4c0] MV 156 152 out of picture
 [eatgv @ 0x423a4c0] MV 104 156 out of picture
 [eatgv @ 0x423a4c0] MV 104 160 out of picture
 [eatgv @ 0x423a4c0] MV 112 160 out of picture
 [eatgv @ 0x423a4c0] MV 109 -22 out of picture
 [eatgv @ 0x423a4c0] MV 160 160 out of picture
 [eatgv @ 0x423a4c0] MV 172 160 out of picture
 [eatgv @ 0x423a4c0] MV 29 139 out of picture
 [eatgv @ 0x423a4c0] truncated inter frame
 Error while decoding stream #0:0: Invalid data found when processing input
 ==25707== Invalid write of size 1
 ==25707==    at 0x831BAD3: tgv_decode_frame (eatgv.c:205)
 ==25707==    by 0x86770FD: avcodec_decode_video2 (utils.c:1983)
 ==25707==    by 0x80B36FC: decode_video (ffmpeg.c:1668)
 ==25707==    by 0x9DC46F0: ???
 ==25707==  Address 0xf is not stack'd, malloc'd or (recently) free'd
 ==25707==
 ==25707==
 ==25707== Process terminating with default action of signal 11 (SIGSEGV)
 ==25707==  Access not within mapped region at address 0xF
 ==25707==    at 0x831BAD3: tgv_decode_frame (eatgv.c:205)
 ==25707==    by 0x86770FD: avcodec_decode_video2 (utils.c:1983)
 ==25707==    by 0x80B36FC: decode_video (ffmpeg.c:1668)
 ==25707==    by 0x9DC46F0: ???
 ==25707==  If you believe this happened as a result of a stack
 ==25707==  overflow in your program's main thread (unlikely but
 ==25707==  possible), you can try to increase the size of the
 ==25707==  main thread stack using the --main-stacksize= flag.
 ==25707==  The main thread stack size used in this run was 8388608.
 ==25707==
 ==25707== HEAP SUMMARY:
 ==25707==     in use at exit: 984,530 bytes in 564 blocks
 ==25707==   total heap usage: 2,890 allocs, 2,326 frees, 2,605,079 bytes
 allocated
 ==25707==
 ==25707== 2,592 bytes in 18 blocks are possibly lost in loss record 132 of
 145
 ==25707==    at 0x4026A68: calloc (vg_replace_malloc.c:566)
 ==25707==    by 0x40111FB: _dl_allocate_tls (dl-tls.c:300)
 ==25707==    by 0x407C2A8: pthread_create@@GLIBC_2.1 (allocatestack.c:580)
 ==25707==    by 0x80D9651: ff_graph_thread_init (pthread.c:180)
 ==25707==    by 0x80CD5C7: avfilter_graph_alloc_filter
 (avfiltergraph.c:186)
 ==25707==    by 0x80D8204: create_filter (graphparser.c:112)
 ==25707==    by 0x80D8C59: avfilter_graph_parse2 (graphparser.c:169)
 ==25707==
 ==25707== 30,944 bytes in 1 blocks are possibly lost in loss record 139 of
 145
 ==25707==    at 0x4028308: malloc (vg_replace_malloc.c:263)
 ==25707==    by 0x402849F: realloc (vg_replace_malloc.c:632)
 ==25707==    by 0x831C361: tgv_decode_frame (eatgv.c:177)
 ==25707==    by 0x86770FD: avcodec_decode_video2 (utils.c:1983)
 ==25707==    by 0x80B36FC: decode_video (ffmpeg.c:1668)
 ==25707==    by 0x4EE3900: ???
 ==25707==
 ==25707== LEAK SUMMARY:
 ==25707==    definitely lost: 0 bytes in 0 blocks
 ==25707==    indirectly lost: 0 bytes in 0 blocks
 ==25707==      possibly lost: 33,536 bytes in 19 blocks
 ==25707==    still reachable: 950,994 bytes in 545 blocks
 ==25707==         suppressed: 0 bytes in 0 blocks
 ==25707== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==25707== To see them, rerun with: --leak-check=full --show-reachable=yes
 ==25707==
 ==25707== For counts of detected and suppressed errors, rerun with: -v
 ==25707== ERROR SUMMARY: 3 errors from 3 contexts (suppressed: 59 from 6)
 Killed
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2949>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 14:35:52 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 12:35:52 -0000
Subject: [FFmpeg-trac] #2949(avcodec:closed): tgv: invalid write with
 max_alloc
In-Reply-To: <038.e2bf21d7ab11be56fefa2c7f78382b10@avcodec.org>
References: <038.e2bf21d7ab11be56fefa2c7f78382b10@avcodec.org>
Message-ID: <053.28f0b6b0369423dcedcbeeaca8e39c01@avcodec.org>

#2949: tgv: invalid write with max_alloc
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:  fixed
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by richardpl):

 * status:  new => closed
 * resolution:   => fixed
 * version:  unspecified => git-master
 * component:  undetermined => avcodec
 * reproduced:  0 => 1


Comment:

 Fixed in a5615b82eb116e9fd0f71f2b03c333cc31ab706a.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2949#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 14:37:26 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 12:37:26 -0000
Subject: [FFmpeg-trac] #2948(avformat:closed): mts2: invalid write with
 max_alloc
In-Reply-To: <038.13143bb92dc9d8bedb57d9c2aaac9306@avcodec.org>
References: <038.13143bb92dc9d8bedb57d9c2aaac9306@avcodec.org>
Message-ID: <053.6ffd7395f03fd751b7e27659d1ea20c1@avcodec.org>

#2948: mts2: invalid write with max_alloc
------------------------------------+------------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:  fixed
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+------------------------------------
Changes (by richardpl):

 * status:  new => closed
 * resolution:   => fixed
 * version:  unspecified => git-master
 * component:  undetermined => avformat
 * reproduced:  0 => 1


Comment:

 Fixed in 81f231b5c7c94c522561ae148adfda1ee29a2521.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2948#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 14:41:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 12:41:45 -0000
Subject: [FFmpeg-trac] #2946(avcodec:closed): truemotion2: invalid write
 with max_alloc
In-Reply-To: <038.f252f054c4ed0f70f5a42aea0fce87ad@avcodec.org>
References: <038.f252f054c4ed0f70f5a42aea0fce87ad@avcodec.org>
Message-ID: <053.1e0e17fc72e541fb0a459e34d4b30443@avcodec.org>

#2946: truemotion2: invalid write with max_alloc
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:  fixed
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by richardpl):

 * status:  new => closed
 * resolution:   => fixed
 * version:  unspecified => git-master
 * component:  undetermined => avcodec
 * reproduced:  0 => 1


Comment:

 Fixed in 6e07bb36393f03d16b792738196ae045fc24acb6.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2946#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 14:57:31 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 12:57:31 -0000
Subject: [FFmpeg-trac] #2912(FFmpeg:closed): splitting the first minute
 from a wav file generated a slightly too long file (off by 160 samples)
In-Reply-To: <037.ca37b93e78fad580dbc7027af2038d92@avcodec.org>
References: <037.ca37b93e78fad580dbc7027af2038d92@avcodec.org>
Message-ID: <052.7e786cd87a36169a4d14d881e30bc7de@avcodec.org>

#2912: splitting the first minute from a wav file generated a slightly too long
file (off by 160 samples)
----------------------------------+--------------------------------------
             Reporter:  bernhard  |                    Owner:
                 Type:  defect    |                   Status:  closed
             Priority:  normal    |                Component:  FFmpeg
              Version:  2.0.1     |               Resolution:  worksforme
             Keywords:            |               Blocked By:
             Blocking:            |  Reproduced by developer:  0
Analyzed by developer:  0         |
----------------------------------+--------------------------------------
Changes (by richardpl):

 * status:  new => closed
 * resolution:   => worksforme


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2912#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 15:35:14 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 13:35:14 -0000
Subject: [FFmpeg-trac] #2627(FFmpeg:new): Using -vf fps results in no
 audio
In-Reply-To: <038.0e5a0dbd1df19ef6966535a7fca24614@avcodec.org>
References: <038.0e5a0dbd1df19ef6966535a7fca24614@avcodec.org>
Message-ID: <053.5e6aa9157987ab22e725ec4b8ba65933@avcodec.org>

#2627: Using -vf fps results in no audio
------------------------------------+----------------------------------
             Reporter:  microchip   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  FFmpeg
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+----------------------------------

Comment (by richardpl):

 Did you checked that ffmpeg and all other players can play audio from
 input mpg file?
 Did you checked if same happens without fps filter?

 You do not need to answer above questions if you provide way to download
 that file.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2627#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 15:48:12 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 13:48:12 -0000
Subject: [FFmpeg-trac] #2452(undetermined:closed): decoding yuv420p to
 rgb shifts luminance down
In-Reply-To: <034.a24f29b42efb273f5148b2ab67f964be@avcodec.org>
References: <034.a24f29b42efb273f5148b2ab67f964be@avcodec.org>
Message-ID: <049.47dbc93fdffa1f68882c8c672c7159e3@avcodec.org>

#2452: decoding yuv420p to rgb shifts luminance down
-------------------------------------+-------------------------------------
             Reporter:  burek        |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |  needs_more_info
Analyzed by developer:  0            |               Blocked By:
                                     |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by richardpl):

 * status:  new => closed
 * resolution:   => needs_more_info


Comment:

 Provide way to reproduce this bug.
 Where is input sample?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2452#comment:12>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 15:55:23 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 13:55:23 -0000
Subject: [FFmpeg-trac] #2344(avdevice:closed): libavdevice SDL
 fullscreen output
In-Reply-To: <035.8360f5b1bd0146d6936edb1ed995bce5@avcodec.org>
References: <035.8360f5b1bd0146d6936edb1ed995bce5@avcodec.org>
Message-ID: <050.d666684a4182fcf331ed9d6d6ad7a96c@avcodec.org>

#2344: libavdevice SDL fullscreen output
-------------------------------------+------------------------------------
             Reporter:  dronus       |                    Owner:
                 Type:  enhancement  |                   Status:  closed
             Priority:  wish         |                Component:  avdevice
              Version:  git-master   |               Resolution:  fixed
             Keywords:  SDL          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------
Changes (by richardpl):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Done in fdca977a22d3441cb807e71ddd4e5c335615e3fb.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2344#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 16:28:59 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 14:28:59 -0000
Subject: [FFmpeg-trac] #2452(undetermined:closed): decoding yuv420p to
 rgb shifts luminance down
In-Reply-To: <034.a24f29b42efb273f5148b2ab67f964be@avcodec.org>
References: <034.a24f29b42efb273f5148b2ab67f964be@avcodec.org>
Message-ID: <049.ca4050aa7596ecee0d2e9f2788f1e76a@avcodec.org>

#2452: decoding yuv420p to rgb shifts luminance down
-------------------------------------+-------------------------------------
             Reporter:  burek        |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |  needs_more_info
Analyzed by developer:  0            |               Blocked By:
                                     |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Replying to [comment:12 richardpl]:
 > Where is input sample?

 http://samples.ffmpeg.org/ffmpeg-bugs/trac/ticket2452/

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2452#comment:13>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 16:37:53 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 14:37:53 -0000
Subject: [FFmpeg-trac] #2452(undetermined:reopened): decoding yuv420p to
 rgb shifts luminance down
In-Reply-To: <034.a24f29b42efb273f5148b2ab67f964be@avcodec.org>
References: <034.a24f29b42efb273f5148b2ab67f964be@avcodec.org>
Message-ID: <049.e185aa7e2f31fd404d0da06f7054f1f2@avcodec.org>

#2452: decoding yuv420p to rgb shifts luminance down
-------------------------------------+-------------------------------------
             Reporter:  burek        |                    Owner:
                 Type:  defect       |                   Status:  reopened
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by glopes):

 * status:  closed => reopened
 * resolution:  needs_more_info =>


Comment:

 I'm really sorry for not being able to retry the example with the new
 modified FFmpeg sources, but to say that there is no input sample is not
 true!

 It's in the first comment, I'll repost below. If someone could please just
 run this video through the patch would be super helpful...

  https://dl.dropboxusercontent.com/u/3907539/video.avi
 Running the following commandline produces a bitmap with the correct
 luminance values:
 ffmpeg -ss 0.5 -i video.avi -vframes 1 -t 1 -s 1280x680 -pix_fmt gray
 gray.bmp
 Running the following commandline produces a bitmap in which the luminance
 values are shifted ~10 values darker:
 ffmpeg -ss 0.5 -i video.avi -vframes 1 -t 1 -s 1280x680 -pix_fmt bgr24
 rgb.bmp
 Also playing this video file in VLC produces the correct luminance values.
 The video was acquired from a grayscale camera and encoded as grayscale
 pixel format to mpeg4 yuv420p using FFMPEG (as you can see from the
 commandline output shown in the original ticket).
 Hope this helps to clarify the issue.

 I can't seem to modify the original description of the ticket or else I
 would include it in there...

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2452#comment:14>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 17:07:22 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 15:07:22 -0000
Subject: [FFmpeg-trac] #2452(undetermined:reopened): decoding yuv420p to
 rgb shifts luminance down
In-Reply-To: <034.a24f29b42efb273f5148b2ab67f964be@avcodec.org>
References: <034.a24f29b42efb273f5148b2ab67f964be@avcodec.org>
Message-ID: <049.40bd4c57fad683f6d496ba084b5713f2@avcodec.org>

#2452: decoding yuv420p to rgb shifts luminance down
-------------------------------------+-------------------------------------
             Reporter:  burek        |                    Owner:
                 Type:  defect       |                   Status:  reopened
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by richardpl):

 * version:  unspecified => git-master
 * reproduced:  0 => 1


Comment:

 Video indeed use full color range.

 Workaround is to use '-vf extractplanes=y'

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2452#comment:15>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 17:30:12 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 15:30:12 -0000
Subject: [FFmpeg-trac] #2725(undetermined:closed): "Static" Video causes
 buffer underflows
In-Reply-To: <038.d57c0aca1634bf87a973e110426c359b@avcodec.org>
References: <038.d57c0aca1634bf87a973e110426c359b@avcodec.org>
Message-ID: <053.7f62503029e782325468489db9fba03f@avcodec.org>

#2725: "Static" Video causes buffer underflows
-------------------------------------+-------------------------------------
             Reporter:  jdachik01    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:  invalid
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by jdachik01):

 Would you be able to provide the exact syntax that would allow encoding at
 these low bit rates?

 This is constant bit rate encoding, but quality for this video is not
 crucial.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2725#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 17:55:24 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 15:55:24 -0000
Subject: [FFmpeg-trac] #2452(undetermined:reopened): decoding yuv420p to
 rgb shifts luminance down
In-Reply-To: <034.a24f29b42efb273f5148b2ab67f964be@avcodec.org>
References: <034.a24f29b42efb273f5148b2ab67f964be@avcodec.org>
Message-ID: <049.c9dd6dd85b0a7e7feca1fddbd186ca6a@avcodec.org>

#2452: decoding yuv420p to rgb shifts luminance down
-------------------------------------+-------------------------------------
             Reporter:  burek        |                    Owner:
                 Type:  defect       |                   Status:  reopened
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Replying to [comment:14 glopes]:
 > I'm really sorry for not being able to retry the example with the new
 modified FFmpeg sources

 Could you test if I am correct that the patch from comment:11 fixes the
 issue?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2452#comment:16>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 17:55:47 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 15:55:47 -0000
Subject: [FFmpeg-trac] #2725(undetermined:closed): "Static" Video causes
 buffer underflows
In-Reply-To: <038.d57c0aca1634bf87a973e110426c359b@avcodec.org>
References: <038.d57c0aca1634bf87a973e110426c359b@avcodec.org>
Message-ID: <053.1e31d888a81cc866a93e9f20aed92a97@avcodec.org>

#2725: "Static" Video causes buffer underflows
-------------------------------------+-------------------------------------
             Reporter:  jdachik01    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:  invalid
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by jdachik01):

 You can disregard, I was able to find settings that work.

 Thank you!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2725#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 18:42:02 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 16:42:02 -0000
Subject: [FFmpeg-trac] #2725(undetermined:closed): "Static" Video causes
 buffer underflows
In-Reply-To: <038.d57c0aca1634bf87a973e110426c359b@avcodec.org>
References: <038.d57c0aca1634bf87a973e110426c359b@avcodec.org>
Message-ID: <053.406bbc4edd54e3f88efed278857892e9@avcodec.org>

#2725: "Static" Video causes buffer underflows
-------------------------------------+-------------------------------------
             Reporter:  jdachik01    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:  invalid
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by jdachik01):

 I was able to make usable video with these settings:
 -trellis 1
 -lmax 420*QP2LAMBDA

 Hope this helps anyone affected by this issue. Thank you for pointing out
 the options I should invoke.

 And FYI - even though the -lmax setting seems to be geared toward VBR,
 these options worked with my CBR output.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2725#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 18:55:05 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 16:55:05 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.9dae6b62f9b0a1705e7f3310adb926c6@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Replying to [comment:143 Kamedo2]:
 > I resumed the ABC/HR test, and I've done 13 samples out of 20. How is
 the development going?

 Stalled for now, but I'll be able to resume soon

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:144>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 19:53:34 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 17:53:34 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.99e9610b7ecd4b4d4c95f31ed92e4dec@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by Timothy_Gu):

 * cc: timothygu99@? (added)


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:145>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 20:01:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 18:01:40 -0000
Subject: [FFmpeg-trac] #113(avcodec:open): AAC - Audio object type 23 is
 not supported
In-Reply-To: <040.2b51c00bb6991c8d538fd4b03d97967f@avcodec.org>
References: <040.2b51c00bb6991c8d538fd4b03d97967f@avcodec.org>
Message-ID: <055.285c4cfba6e036b40dc65c54625d37b6@avcodec.org>

#113: AAC - Audio object type 23 is not supported
-------------------------------------+-----------------------------------
             Reporter:  k_s_johnson  |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  AAC-LD       |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by Timothy_Gu):

 This should be fixed in
 4f2b469da5e4ae221718ae479f6af627cfdebb91/614cf1a6133a143961798c5d87c9bffc2ca0da9e
 by Martin Storsj?.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/113#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 20:19:57 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 18:19:57 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.2d4bdf4ff53dffdf11d1b7fc21f59886@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 Thank you. Should I upload the current data?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:146>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 23:35:51 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 21:35:51 -0000
Subject: [FFmpeg-trac] #113(avcodec:open): AAC - Audio object type 23 is
 not supported
In-Reply-To: <040.2b51c00bb6991c8d538fd4b03d97967f@avcodec.org>
References: <040.2b51c00bb6991c8d538fd4b03d97967f@avcodec.org>
Message-ID: <055.de952d60b8fb0e8505b314df934ab7f1@avcodec.org>

#113: AAC - Audio object type 23 is not supported
-------------------------------------+-----------------------------------
             Reporter:  k_s_johnson  |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  AAC-LD       |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by cehoyos):

 The issue is still reproducible afaict.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/113#comment:9>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 23:48:14 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 21:48:14 -0000
Subject: [FFmpeg-trac] #2946(avcodec:closed): truemotion2: invalid write
 with max_alloc
In-Reply-To: <038.f252f054c4ed0f70f5a42aea0fce87ad@avcodec.org>
References: <038.f252f054c4ed0f70f5a42aea0fce87ad@avcodec.org>
Message-ID: <053.2825216024aa6ec5a0c6f2d7e52c23d3@avcodec.org>

#2946: truemotion2: invalid write with max_alloc
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  TM20 crash   |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => TM20 crash SIGSEGV


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2946#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 23:56:08 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 21:56:08 -0000
Subject: [FFmpeg-trac] #2951(undetermined:new): Crashes when post-processing
 streams decoded with "mpegvideo"
Message-ID: <040.453cb42439a79620ec78fb70be2442cf@avcodec.org>

#2951: Crashes when post-processing streams decoded with "mpegvideo"
-------------------------------------+-------------------------------------
             Reporter:  BlackWarren  |                     Type:  defect
               Status:  new          |                 Priority:  normal
            Component:               |                  Version:
  undetermined                       |  unspecified
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 Summary of the bug:
 If one attempts to post-process a stream decoded with "mpegvideo.c", you
 get a hardware access violation because "ff_mpv_export_qp_table" sets
 "offset" to an odd value and subtracts it from "ref->data", causing that
 previously-aligned pointer to become odd.  That odd pointer is later used
 as the "QP_store" argument to "pp_postprocess", which casts it to a
 "uint32_t *" and attempts to dereference it.

 How to reproduce:
 Attempt to postprocess a stream decoded with "mpegvideo".

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2951>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep  9 23:57:24 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 21:57:24 -0000
Subject: [FFmpeg-trac] #2951(undetermined:new): Crashes when
 post-processing streams decoded with "mpegvideo"
In-Reply-To: <040.453cb42439a79620ec78fb70be2442cf@avcodec.org>
References: <040.453cb42439a79620ec78fb70be2442cf@avcodec.org>
Message-ID: <055.296f6ac6f9f3fc84ebbbc1412ad49740@avcodec.org>

#2951: Crashes when post-processing streams decoded with "mpegvideo"
-------------------------------------+-------------------------------------
             Reporter:  BlackWarren  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by BlackWarren):

 "subtracts" --> "adds", sorry.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2951#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 10 00:59:53 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 22:59:53 -0000
Subject: [FFmpeg-trac] #2951(undetermined:new): Crashes when
 post-processing streams decoded with "mpegvideo"
In-Reply-To: <040.453cb42439a79620ec78fb70be2442cf@avcodec.org>
References: <040.453cb42439a79620ec78fb70be2442cf@avcodec.org>
Message-ID: <055.b1f47e9c0e6f727804a93572eff914fd@avcodec.org>

#2951: Crashes when post-processing streams decoded with "mpegvideo"
-------------------------------------+-------------------------------------
             Reporter:  BlackWarren  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 If the crash is reproducible with ffmpeg (the command line application)
 please provide the command line (including complete, uncut console
 output), if a program using the libraries is necessary, please provide
 source code.
 In any case, please provide gdb output as explained on
 http://ffmpeg.org/bugreports.html

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2951#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 10 01:05:13 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 23:05:13 -0000
Subject: [FFmpeg-trac] #2950(avcodec:open): mpeg2: invalid read with
 max_alloc
In-Reply-To: <038.c72ffea59f3d3412374c1cc891150f4b@avcodec.org>
References: <038.c72ffea59f3d3412374c1cc891150f4b@avcodec.org>
Message-ID: <053.725c56cc553f8fcc1e351ab7bae99024@avcodec.org>

#2950: mpeg2: invalid read with max_alloc
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  mpeg2video   |               Blocked By:
  crash SIGSEGV                      |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => mpeg2video crash SIGSEGV


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2950#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 10 01:06:29 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 23:06:29 -0000
Subject: [FFmpeg-trac] #2948(avformat:closed): mts2: invalid write with
 max_alloc
In-Reply-To: <038.13143bb92dc9d8bedb57d9c2aaac9306@avcodec.org>
References: <038.13143bb92dc9d8bedb57d9c2aaac9306@avcodec.org>
Message-ID: <053.8c376d2bfecff368e29baa9dd1d9aaef@avcodec.org>

#2948: mts2: invalid write with max_alloc
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avformat
              Version:  git-master   |               Resolution:  fixed
             Keywords:  asf crash    |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => asf crash SIGSEGV


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2948#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 10 01:09:04 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 23:09:04 -0000
Subject: [FFmpeg-trac] #2949(avcodec:closed): tgv: invalid write with
 max_alloc
In-Reply-To: <038.e2bf21d7ab11be56fefa2c7f78382b10@avcodec.org>
References: <038.e2bf21d7ab11be56fefa2c7f78382b10@avcodec.org>
Message-ID: <053.c895026f81fad0c7b87d336f46ed4a20@avcodec.org>

#2949: tgv: invalid write with max_alloc
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  tgv crash    |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => tgv crash SIGSEGV


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2949#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 10 01:10:54 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 23:10:54 -0000
Subject: [FFmpeg-trac] #2947(avcodec:open): mjpeg: invalid write with
 max_alloc
In-Reply-To: <038.f0645f8f02e7a5e1606bf45fc6fc9d38@avcodec.org>
References: <038.f0645f8f02e7a5e1606bf45fc6fc9d38@avcodec.org>
Message-ID: <053.63013612506e438841c54aeb97a019df@avcodec.org>

#2947: mjpeg: invalid write with max_alloc
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  mjpeg crash  |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => mjpeg crash SIGSEGV
 * status:  new => open
 * version:  unspecified => git-master
 * component:  undetermined => avcodec
 * reproduced:  0 => 1


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2947#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 10 01:11:10 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 09 Sep 2013 23:11:10 -0000
Subject: [FFmpeg-trac] #2947(avcodec:open): mjpeg: invalid write with
 max_alloc
In-Reply-To: <038.f0645f8f02e7a5e1606bf45fc6fc9d38@avcodec.org>
References: <038.f0645f8f02e7a5e1606bf45fc6fc9d38@avcodec.org>
Message-ID: <053.e5847af0ab71d796b303bfbe3d8d9ca6@avcodec.org>

#2947: mjpeg: invalid write with max_alloc
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  mjpeg crash  |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * priority:  normal => important


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2947#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 10 02:15:12 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 10 Sep 2013 00:15:12 -0000
Subject: [FFmpeg-trac] #2951(undetermined:new): Crashes when
 post-processing streams decoded with "mpegvideo"
In-Reply-To: <040.453cb42439a79620ec78fb70be2442cf@avcodec.org>
References: <040.453cb42439a79620ec78fb70be2442cf@avcodec.org>
Message-ID: <055.d52566034d3a4e84531d16cc6cb7846d@avcodec.org>

#2951: Crashes when post-processing streams decoded with "mpegvideo"
-------------------------------------+-------------------------------------
             Reporter:  BlackWarren  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by BlackWarren):

 Sorry, I don't know which live streams cause the error, just that some do.
 At any rate, I don't need a fix, as I have a workaround -- just trying to
 help FFMPEG by reporting the bug and explaining how it can be easily seen
 in source code.  Thanks....

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2951#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 10 02:44:36 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 10 Sep 2013 00:44:36 -0000
Subject: [FFmpeg-trac] #2951(undetermined:closed): Crashes when
 post-processing streams decoded with "mpegvideo"
In-Reply-To: <040.453cb42439a79620ec78fb70be2442cf@avcodec.org>
References: <040.453cb42439a79620ec78fb70be2442cf@avcodec.org>
Message-ID: <055.da8616b3a5c6d3452398dece16efc5e2@avcodec.org>

#2951: Crashes when post-processing streams decoded with "mpegvideo"
-------------------------------------+-------------------------------------
             Reporter:  BlackWarren  |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |  needs_more_info
Analyzed by developer:  0            |               Blocked By:
                                     |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => closed
 * resolution:   => needs_more_info


Comment:

 Please do not hesitate to reopen this ticket if you can add more
 information!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2951#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 10 09:59:31 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 10 Sep 2013 07:59:31 -0000
Subject: [FFmpeg-trac] #2945(avformat:open): Support remuxing mpeg2video
 into mxf-d10
In-Reply-To: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
References: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
Message-ID: <050.3086c88c9c81c11fdd3a2b24e4430a56@avcodec.org>

#2945: Support remuxing mpeg2video into mxf-d10
-------------------------------------+-------------------------------------
             Reporter:  ortoni       |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mxf          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Regression since 25b7aa9

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2945#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 10 17:25:46 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 10 Sep 2013 15:25:46 -0000
Subject: [FFmpeg-trac] #113(avcodec:open): AAC - Audio object type 23 is
 not supported
In-Reply-To: <040.2b51c00bb6991c8d538fd4b03d97967f@avcodec.org>
References: <040.2b51c00bb6991c8d538fd4b03d97967f@avcodec.org>
Message-ID: <055.c08b6896b81643da0dcf9125b7a12fae@avcodec.org>

#113: AAC - Audio object type 23 is not supported
-------------------------------------+-----------------------------------
             Reporter:  k_s_johnson  |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  AAC-LD       |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by richardpl):

 This is ticket for native decoder. Thus this ticket will remain open.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/113#comment:10>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 10 22:56:11 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 10 Sep 2013 20:56:11 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.23f7afcf3bc3a45509a5d8c5c694a5c8@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Yes, please do. I'll make sure to address those concerns as well, and
 we'll save one round trip

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:147>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 11 04:21:53 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 11 Sep 2013 02:21:53 -0000
Subject: [FFmpeg-trac] #232(avcodec:open): amrnb dec: dtx mode not
 implemented. (was: [amrnb @ 0x626e90] dtx mode not implemented.)
In-Reply-To: <045.252c1e4aedf57fdc1a467cb88e82d408@avcodec.org>
References: <045.252c1e4aedf57fdc1a467cb88e82d408@avcodec.org>
Message-ID: <060.cfbc88eac5bb27cade7c0b78bfa5c551@avcodec.org>

#232: amrnb dec: dtx mode not implemented.
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  matteosistisette                   |                   Status:  open
                 Type:  enhancement  |                Component:  avcodec
             Priority:  wish         |               Resolution:
              Version:  git-master   |               Blocked By:
             Keywords:  amr amrnb    |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Timothy_Gu):

 Replying to [comment:6 matteosistisette]:
 > Now the question is: should that be necessary? If there is any conflict,
 shouldn't it be detected? Isn't amrnb supposed to be already disabled?

 The FFmpeg default native amrnb decoder does NOT support dtx, but the
 libopencore_amrnb does. By disabling the native one at build time, you
 force ffmpeg to use the opencore one which supports etc.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/232#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 11 05:59:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 11 Sep 2013 03:59:45 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.85802ad4b3b2ce4748c4def9f4f54e19@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 [[Image(http://i43.tinypic.com/35l9h94.png)]]
 You can download the original sound here.
 http://www.hydrogenaudio.org/forums/index.php?showtopic=98003

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:148>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 11 07:37:46 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 11 Sep 2013 05:37:46 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.ae3f05fda8b33651a346f49d4137a8a4@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 Oops, -b:a 128k, not -b:a 96k in the 128kbps exp+v4 column.
 By the way, why is the FFT used in LPF? Couldn't it use MDCT and simply
 zeroing higher coefficients? Maybe I am missing something.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:149>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 11 08:38:33 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 11 Sep 2013 06:38:33 -0000
Subject: [FFmpeg-trac] #2939(avcodec:closed): Support 12bit colour jpeg
In-Reply-To: <036.03ad42c1caa563826f578b9d63049df7@avcodec.org>
References: <036.03ad42c1caa563826f578b9d63049df7@avcodec.org>
Message-ID: <051.a4d728d8a0eefe367d2bdc3a5ac69ac8@avcodec.org>

#2939: Support 12bit colour jpeg
-------------------------------------+-----------------------------------
             Reporter:  cehoyos      |                    Owner:
                 Type:  enhancement  |                   Status:  closed
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  mjpeg        |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by cehoyos):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 Fixed by Michael in 64b6279.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2939#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 11 08:58:07 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 11 Sep 2013 06:58:07 -0000
Subject: [FFmpeg-trac] #2928(avformat:closed): FFmpeg embeds "stts" atom
 in .mov without being asked.
In-Reply-To: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>
References: <040.9625dc45b7060aeb08931342c1a43f65@avcodec.org>
Message-ID: <055.43f2fb3517ae402fbbe7cb01ad622839@avcodec.org>

#2928: FFmpeg embeds "stts" atom in .mov without being asked.
-------------------------------------+-------------------------------------
             Reporter:  felixhandte  |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avformat
              Version:  git-master   |               Resolution:  duplicate
             Keywords:  mov          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => closed
 * resolution:   => duplicate
 * version:  unspecified => git-master
 * component:  undetermined => avformat


Comment:

 Please reopen this ticket if the problem is still reproducible!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2928#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 11 09:18:44 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 11 Sep 2013 07:18:44 -0000
Subject: [FFmpeg-trac] #2902(build system:new): ICL13 compiler
 configuration failure
In-Reply-To: <037.20bd3feed8da5e8c2ecdaa5cbccab4ff@avcodec.org>
References: <037.20bd3feed8da5e8c2ecdaa5cbccab4ff@avcodec.org>
Message-ID: <052.e29a10c7c70e1b994c3b4ac98542c8e4@avcodec.org>

#2902: ICL13 compiler configuration failure
-------------------------------------+-------------------------------------
             Reporter:  janos666     |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  build
              Version:  git-master   |  system
             Keywords:  icl          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Our icl tests are online again (they were stalled for three weeks due to
 hardware move) and appear to work fine: http://fate.ffmpeg.org

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2902#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 11 13:02:26 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 11 Sep 2013 11:02:26 -0000
Subject: [FFmpeg-trac] #2939(avcodec:closed): Support 12bit colour jpeg
In-Reply-To: <036.03ad42c1caa563826f578b9d63049df7@avcodec.org>
References: <036.03ad42c1caa563826f578b9d63049df7@avcodec.org>
Message-ID: <051.d82d28e66d5360ddddbe369852370a74@avcodec.org>

#2939: Support 12bit colour jpeg
-------------------------------------+-----------------------------------
             Reporter:  cehoyos      |                    Owner:
                 Type:  enhancement  |                   Status:  closed
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  mjpeg        |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by ami_stuff):

 Replying to [comment:1 cehoyos]:
 > Fixed by Michael in 64b6279.

 Could you test if progressive images decodes as well?

 for example generated with:

 cjpeg /*-grayscale*/ -quality 20 -progressive -restart 25

 ?

 I have compiled jpegv6b with 12bit support, but for some reason it
 decodes/encodes trash here :(
 (even when I use gif as an output format)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2939#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 11 14:24:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 11 Sep 2013 12:24:40 -0000
Subject: [FFmpeg-trac] #1857(avcodec:open): PNG iTXt textual information
 chunk
In-Reply-To: <038.90f20f51cea7ac21e418e4b98468dab0@avcodec.org>
References: <038.90f20f51cea7ac21e418e4b98468dab0@avcodec.org>
Message-ID: <053.f6115da2dd3e81bef309677282544154@avcodec.org>

#1857: PNG iTXt textual information chunk
-------------------------------------+-----------------------------------
             Reporter:  richardpl    |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  png          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by Cigaes):

 Do you have actual use cases for iTXt? If the files are so hard to
 generate, that probably means it is not very useful.
 As for me, I can say I do not see how to get it to fit the API.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1857#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 11 14:31:48 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 11 Sep 2013 12:31:48 -0000
Subject: [FFmpeg-trac] #2370(avdevice:open): v4l2 should not need ENUMSTD
In-Reply-To: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
References: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
Message-ID: <050.2652336ac6af5d3a60a9a3b95949af25@avcodec.org>

#2370: v4l2 should not need ENUMSTD
-------------------------------------+-------------------------------------
             Reporter:  ubitux       |                    Owner:  holden
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avdevice
              Version:  git-master   |               Resolution:
             Keywords:  v4l2         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by mrlika):

 Hi Holden,

 patched.txt - output of the commands from latest FFmpeg with your patch
 not_patched.txt - output of the commands from not patched latest FFmpeg
 patched_my.txt  - output from FFmpeg with my patch

 Only with my patch third command starts encoding.

 Regards.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2370#comment:11>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 11 14:35:56 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 11 Sep 2013 12:35:56 -0000
Subject: [FFmpeg-trac] #1857(avcodec:open): PNG iTXt textual information
 chunk
In-Reply-To: <038.90f20f51cea7ac21e418e4b98468dab0@avcodec.org>
References: <038.90f20f51cea7ac21e418e4b98468dab0@avcodec.org>
Message-ID: <053.d971fe2e3c17826a27147d64dbf5de5d@avcodec.org>

#1857: PNG iTXt textual information chunk
-------------------------------------+-----------------------------------
             Reporter:  richardpl    |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  png          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by richardpl):

 They are not so hard to generate at all.
 Speaking about API, the parts that can not be exported could just be
 ignored, as they are not very important.

 Why iTHt? This is the only standard png chunk that allows utf8.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1857#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 11 23:29:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 11 Sep 2013 21:29:45 -0000
Subject: [FFmpeg-trac] #2939(avcodec:closed): Support 12bit colour jpeg
In-Reply-To: <036.03ad42c1caa563826f578b9d63049df7@avcodec.org>
References: <036.03ad42c1caa563826f578b9d63049df7@avcodec.org>
Message-ID: <051.3c2498d84c7964ce6c18b8ec18c7aada@avcodec.org>

#2939: Support 12bit colour jpeg
-------------------------------------+-----------------------------------
             Reporter:  cehoyos      |                    Owner:
                 Type:  enhancement  |                   Status:  closed
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  mjpeg        |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by cehoyos):

 Both appear to work to fine (you attached a gray sample to ticket #2812).

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2939#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 00:46:43 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 11 Sep 2013 22:46:43 -0000
Subject: [FFmpeg-trac] #2952(undetermined:new): mjpeg: artefacts with 12bpp
 grayscale in low quality
Message-ID: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>

#2952: mjpeg: artefacts with 12bpp grayscale in low quality
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 some artefacts (at the left side) are visible when quality of jpeg image
 is lower that 50%

 {{{
 knoppix at Microknoppix:/media/sdb1$ ffmpeg -i 30.jpg out.bmp
 ffmpeg version 2.0-bbcaf25 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 12 2013 00:30:03 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, image2, from '30.jpg':
   Duration: 00:00:00.04, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: mjpeg, gray16le(12 bpc), 1356x1588 [SAR 72:72 DAR
 339:397], 25 tbr, 25 tbn, 25 tbc
 Output #0, image2, to 'out.bmp':
   Metadata:
     encoder         : Lavf55.16.102
     Stream #0:0: Video: bmp, gray, 1356x1588 [SAR 1:1 DAR 339:397],
 q=2-31, 200 kb/s, 90k tbn, 25 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (mjpeg -> bmp)
 Press [q] to stop, [?] for help
 frame=    1 fps=0.0 q=-1.0 Lsize=N/A time=00:00:00.04 bitrate=N/A
 video:2104kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 -100.001021%
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2952>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 06:24:20 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 04:24:20 -0000
Subject: [FFmpeg-trac] #2953(FFmpeg:new): FFmpeg hangs while conversion
 video using libx264
Message-ID: <040.29f4ed1d31f70196cc13584a9c94cc14@avcodec.org>

#2953: FFmpeg hangs while conversion video using libx264
-------------------------------------+-------------------------------------
             Reporter:  gerrysingh7  |                     Type:  defect
               Status:  new          |                 Priority:  normal
            Component:  FFmpeg       |                  Version:
             Keywords:  Hang ,       |  unspecified
  libx264                            |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 Summary of the bug:
 How to reproduce:
 {{{
 ffmpeg.exe -i "test_hb1200_7-3-13-001.mp4" -vcodec libx264 -vprofile
 baseline -b 480k -y -vf scale=480:270 "test_hb1200_7-3-13-480.mp4"

 ffmpeg version N-42704-g85761ef Copyright (c) 2000-2012 the FFmpeg
 developers
   built on Jul 21 2012 04:15:40 with gcc 4.7.1 (GCC)
   configuration: --pkg-config=pkg-config
 --prefix=/home/fire/software/packages/win32 --enable-memalign-hack
 --arch=x86 --target-os=mingw32 --cross-prefix=i686-w64-mingw32- --enable-
 libfaac --enable-libx264 --enable-gpl --enable-nonfree --disable-
 w32threads
   libavutil      51. 65.100 / 51. 65.100
   libavcodec    54. 42.100 / 54. 42.100
   libavformat    54. 18.100 / 54. 18.100
   libavdevice    54.  1.100 / 54.  1.100
   libavfilter     3.  2.100 /  3.  2.100
   libswscale      2.  1.100 /  2.  1.100
   libswresample   0. 15.100 /  0. 15.100
   libpostproc    52.  0.100 / 52.  0.100
 [mov,mp4,m4a,3gp,3g2,mj2 @ 019dc200] multiple edit list entries, a/v
 desync might occur, patch welcome
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from
 'C:\Users\Rich\Desktop\test_hb1200_7-3-13-001.mp4':
 built on ...
 information about Video
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from
 'C:\Users\Rich\Desktop\test_hb1200_7-3-13-001.mp4':
   Metadata:
     encoder         : Lavf54.18.100
     major_brand     : isom
     minor_version   : 512
     compatible_brands: isomiso2avc1mp41
   Duration: 01:11:26.58, start: 0.000000, bitrate:1350 kb/s
     Stream #0:0(und): Video: h264 (Constrained Baseline) (avc1 /
 0x31637661), yuv420p, 1280x720 [SAR 1:1 DAR 16:9], 1247 kb/s, 29.97 fps,
 29.97 tbr, 30k tbn, 59.94 tbc
     Metadata:
       handler_name    : VideoHandler
     Stream #0:1(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, stereo,
 s16, 95 kb/s   Metadata:
       handler_name    : SoundHandler
 Please use -b:a or -b:v, -b is ambiguous
 [libx264 @ 049ff020] using SAR=1/1
 [libx264 @ 049ff020] using cpu capabilities: MMX2 SSE2Fast SS
 SE3 FastShuffle SSE4.2 AVX
 [libx264 @ 049ff020] profile Constrained Baseline, level 2.1
 [libx264 @ 049ff020] 264 - core 125 - H.264/MPEG-4 AVC codec - Copyleft
 2003-2012 - http://www.videolan.org/x264.html - options: cabac0 ref=3
 deblock=1:0:0 analyse=0x1:0x111 me=hex subme=7 psy=1 ps

 the video conversion hangs at around 38884kB time=00:09:46.01 bitr.

 it happens every time .

 Thanks a ton for you help in advance.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2953>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 07:36:26 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 05:36:26 -0000
Subject: [FFmpeg-trac] #1275(FFserver:open): ffserver x264 presets
In-Reply-To: <034.2c961ca874092bf9501c317198042273@avcodec.org>
References: <034.2c961ca874092bf9501c317198042273@avcodec.org>
Message-ID: <049.b315aa698f0398af8777b964bb09e7d3@avcodec.org>

#1275: ffserver x264 presets
------------------------------------+------------------------------------
             Reporter:  burek       |                    Owner:  mastered
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  FFserver
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by tstepnia):

 Just to simplify: how do we pass following in ffserver.conf
  -preset ultrafast -pix_fmt yuv420p

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1275#comment:11>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 07:44:59 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 05:44:59 -0000
Subject: [FFmpeg-trac] #2954(FFserver:new): No way to choose pixel format
 for ffserver
Message-ID: <034.bd02b8e725eabd120996d8fe3007930e@avcodec.org>

#2954: No way to choose pixel format for ffserver
-------------------------------------+-------------------------------------
             Reporter:  balek        |                     Type:
               Status:  new          |  enhancement
            Component:  FFserver     |                 Priority:  normal
             Keywords:  pix_fmt,     |                  Version:  2.0.1
  pixel format                       |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 This feature can be simply added by two modifications in ffserver.c:
 1. #include "libavutil/pixdesc.h"
 2. Add somewhere in parsing part:
 {{{
         } else if (!av_strcasecmp(cmd, "PixelFormat")) {
             get_arg(arg, sizeof(arg), &p);
             if (stream) {
                 video_enc.pix_fmt = av_get_pix_fmt(arg);
                 if (video_enc.pix_fmt == AV_PIX_FMT_NONE) {
                     ERROR("Unknown pixel format: %s\n", arg);
                 }
             }
 }}}
 It works perfectly.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2954>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 08:35:31 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 06:35:31 -0000
Subject: [FFmpeg-trac] #2943(avcodec:open): libopenjpeg: black output
In-Reply-To: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>
References: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>
Message-ID: <053.eb52541fef2d9f08485c5293d66d37d7@avcodec.org>

#2943: libopenjpeg: black output
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  libopenjpeg  |               Blocked By:
  j2k                                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by mbradshaw):

 Replying to [comment:4 cehoyos]:
 > Possible patch attached, there may be another solution.

 The right solution is the one you mentioned off list: adding `adjust[]` to
 `libopenjpeg_copyto16()`. I've tested with following diff and it works.
 Without this, other pixel formats with bpp >8 and < 16 might turn out
 black too.
 {{{
 diff --git a/libavcodec/libopenjpegdec.c b/libavcodec/libopenjpegdec.c
 index c331b59..27fb56e 100644
 --- a/libavcodec/libopenjpegdec.c
 +++ b/libavcodec/libopenjpegdec.c
 @@ -207,12 +207,16 @@ static inline void libopenjpeg_copyto16(AVFrame
 *picture, opj_image_t *image) {
      int *comp_data;
      uint16_t *img_ptr;
      int index, x, y;
 +    int adjust[4];
 +    for (x = 0; x < image->numcomps; x++)
 +        adjust[x] = FFMAX(FFMIN(16 - image->comps[x].prec, 8), 0);
 +
      for (index = 0; index < image->numcomps; index++) {
          comp_data = image->comps[index].data;
          for (y = 0; y < image->comps[index].h; y++) {
              img_ptr = (uint16_t*) (picture->data[index] + y *
 picture->linesize[index]);
              for (x = 0; x < image->comps[index].w; x++) {
 -                *img_ptr = *comp_data;
 +                *img_ptr = *comp_data << adjust[index];
                  img_ptr++;
                  comp_data++;
              }
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2943#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 09:03:10 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 07:03:10 -0000
Subject: [FFmpeg-trac] #2954(FFserver:new): No way to choose pixel
 format for ffserver
In-Reply-To: <034.bd02b8e725eabd120996d8fe3007930e@avcodec.org>
References: <034.bd02b8e725eabd120996d8fe3007930e@avcodec.org>
Message-ID: <049.6b9edd9bda754d81497817e36973778c@avcodec.org>

#2954: No way to choose pixel format for ffserver
-------------------------------------+------------------------------------
             Reporter:  balek        |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  normal       |                Component:  FFserver
              Version:  2.0.1        |               Resolution:
             Keywords:  pix_fmt      |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------
Changes (by cehoyos):

 * keywords:  pix_fmt, pixel format => pix_fmt


Comment:

 Please send patches to the ffmpeg-devel mailing list where they receive
 more attention.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2954#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 09:04:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 07:04:50 -0000
Subject: [FFmpeg-trac] #2953(FFmpeg:new): FFmpeg hangs while conversion
 video using libx264
In-Reply-To: <040.29f4ed1d31f70196cc13584a9c94cc14@avcodec.org>
References: <040.29f4ed1d31f70196cc13584a9c94cc14@avcodec.org>
Message-ID: <055.2b95c813b9666d28c043de9d98bd61a3@avcodec.org>

#2953: FFmpeg hangs while conversion video using libx264
-------------------------------------+----------------------------------
             Reporter:  gerrysingh7  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  FFmpeg
              Version:  unspecified  |               Resolution:
             Keywords:  libx264      |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+----------------------------------
Changes (by cehoyos):

 * keywords:  Hang , libx264 => libx264


Comment:

 Please provide the input sample.

 Is the problem also reproducible with "-an"?
 Is the problem also reproducible if you remove the scale filter?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2953#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 09:11:11 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 07:11:11 -0000
Subject: [FFmpeg-trac] #2952(avcodec:new): mjpeg: artefacts with 12bpp
 grayscale in low quality
In-Reply-To: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>
References: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>
Message-ID: <053.00e3481876d8cdf434d27a6902eb0131@avcodec.org>

#2952: mjpeg: artefacts with 12bpp grayscale in low quality
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  mjpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by cehoyos):

 * keywords:   => mjpeg
 * version:  unspecified => git-master
 * component:  undetermined => avcodec


Comment:

 {{{
 ./djpeg 10.jpg >out.pnm
 Bogus Huffman table definition
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2952#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 10:32:48 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 08:32:48 -0000
Subject: [FFmpeg-trac] #2952(avcodec:new): mjpeg: artefacts with 12bpp
 grayscale in low quality
In-Reply-To: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>
References: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>
Message-ID: <053.3788f3241efd3e9a4f3975ce9a45964a@avcodec.org>

#2952: mjpeg: artefacts with 12bpp grayscale in low quality
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  mjpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by ami_stuff):

 At first I have found this problem with sample from this report:

 http://java.net/jira/browse/JAI_IMAGEIO_CORE-79

 then I tried to reproduce it myself.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2952#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 10:39:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 08:39:32 -0000
Subject: [FFmpeg-trac] #2945(avformat:open): Support remuxing mpeg2video
 into mxf-d10
In-Reply-To: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
References: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
Message-ID: <050.9c68bf16c6cb35feddba480e4b7ff09e@avcodec.org>

#2945: Support remuxing mpeg2video into mxf-d10
-------------------------------------+-------------------------------------
             Reporter:  ortoni       |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mxf          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 To all trolls:
 It would be great if you could elaborate what was unclear about comment:3
 and why another sample is needed? Just to raise our traffic?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2945#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 10:51:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 08:51:32 -0000
Subject: [FFmpeg-trac] #2952(avcodec:new): mjpeg: artefacts with 12bpp
 grayscale in low quality
In-Reply-To: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>
References: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>
Message-ID: <053.c7db638ec932ad6f88439968c024cba7@avcodec.org>

#2952: mjpeg: artefacts with 12bpp grayscale in low quality
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  mjpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by cehoyos):

 Replying to [comment:2 ami_stuff]:
 > At first I have found this problem with sample from this report:
 >
 > http://java.net/jira/browse/JAI_IMAGEIO_CORE-79

 Could you upload the "sample"? I can't reach the site.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2952#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 10:56:31 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 08:56:31 -0000
Subject: [FFmpeg-trac] #2952(avcodec:new): mjpeg: artefacts with 12bpp
 grayscale in low quality
In-Reply-To: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>
References: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>
Message-ID: <053.62855b51af38270cd76633163d53eaba@avcodec.org>

#2952: mjpeg: artefacts with 12bpp grayscale in low quality
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  mjpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by ami_stuff):

 attached

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2952#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 11:16:35 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 09:16:35 -0000
Subject: [FFmpeg-trac] #2945(avformat:open): Support remuxing mpeg2video
 into mxf-d10
In-Reply-To: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
References: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
Message-ID: <050.23de784f8af27e79aaf9ca5840db4f72@avcodec.org>

#2945: Support remuxing mpeg2video into mxf-d10
-------------------------------------+-------------------------------------
             Reporter:  ortoni       |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mxf          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by richardpl):

 It nowhere says how to get it, thus extra effort.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2945#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 12:34:03 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 10:34:03 -0000
Subject: [FFmpeg-trac] #2945(avformat:open): Support remuxing mpeg2video
 into mxf-d10
In-Reply-To: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
References: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
Message-ID: <050.f4e3ac8ffdd2065d3207912af2bfc013@avcodec.org>

#2945: Support remuxing mpeg2video into mxf-d10
-------------------------------------+-------------------------------------
             Reporter:  ortoni       |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mxf          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Get what?
 The sample? Why do you need it?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2945#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 20:08:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 18:08:25 -0000
Subject: [FFmpeg-trac] #2953(FFmpeg:new): FFmpeg hangs while conversion
 video using libx264
In-Reply-To: <040.29f4ed1d31f70196cc13584a9c94cc14@avcodec.org>
References: <040.29f4ed1d31f70196cc13584a9c94cc14@avcodec.org>
Message-ID: <055.122914d60b28c67eb16b4683e19af47d@avcodec.org>

#2953: FFmpeg hangs while conversion video using libx264
-------------------------------------+----------------------------------
             Reporter:  gerrysingh7  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  FFmpeg
              Version:  unspecified  |               Resolution:
             Keywords:  libx264      |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+----------------------------------

Comment (by gerrysingh7):

 HI ,

 Thanks for reply. I will test it without scale and with -an disable audio
 both. and let you know results.  Also one important point is that its
 happening on one machine and  working on other.

 Machine on which it hangs is having window 7 professional sp1 , 64 bit
 with i7 3930k processor.

 its pretty strange. I let you know more info after my tests.



 Thanks
 Gerry

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2953#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 21:13:05 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 19:13:05 -0000
Subject: [FFmpeg-trac] #2952(avcodec:open): mjpeg: artefacts with 12bpp
 grayscale in low quality
In-Reply-To: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>
References: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>
Message-ID: <053.7e34e4c42ebb98ddccdbbd6d3430caca@avcodec.org>

#2952: mjpeg: artefacts with 12bpp grayscale in low quality
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  mjpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1


Comment:

 No artefacts with libjpeg-v6b.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2952#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 21:22:52 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 19:22:52 -0000
Subject: [FFmpeg-trac] #2955(undetermined:new): ffprobe will output invalid
 XML
Message-ID: <034.d1b517d863eb1fc5d327553faf0baeec@avcodec.org>

#2955: ffprobe will output invalid XML
-------------------------------------+-------------------------------------
             Reporter:  eelco        |                     Type:  defect
               Status:  new          |                 Priority:  normal
            Component:               |                  Version:
  undetermined                       |  unspecified
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 When using XML output for ffprobe, there are cases where ffprobe will
 output invalid XML.

 We have found several cases of files (?in the wild?) containing metadata
 causing this problem.

 {{{
 % ffprobe -show_format -print_format xml metadata-with-control-
 characters.avi > metadata-with-control-characters.xml
 ffprobe version N-56246-g16837f9 Copyright (c) 2007-2013 the FFmpeg
 developers
   built on Sep 12 2013 21:13:18 with llvm-gcc 4.2.1 (LLVM build
 2336.11.00)
   configuration: --extra-cflags='-DMACOSX_DEPLOYMENT_TARGET=10.6 -isysroot
 /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.8.sdk
 -mmacosx-version-min=10.6' --extra-ldflags='-isysroot
 /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.8.sdk
 -mmacosx-version-min=10.6'
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
 Input #0, avi, from 'metadata-with-control-characters.avi':
   Metadata:
     artist          : 125
     comment         : ?
     copyright       : 8536
     encoder         : Lavf55.15.100
   Duration: 00:00:01.01, start: 0.000000, bitrate: 9629 kb/s
     Stream #0:0: Video: mpeg4 (Simple Profile) (XVID / 0x44495658),
 yuv420p, 512x384 [SAR 1:1 DAR 4:3], 29.97 tbr, 29.97 tbn, 29.98 tbc
     Stream #0:1: Audio: mp3 (U[0][0][0] / 0x0055), 48000 Hz, stereo, s16p,
 136 kb/s
 }}}

 In this case a character that is illegal in XML (0x12, see
 http://www.w3.org/TR/REC-xml/#charsets for allowed characters) is not
 scrubbed from the metadata.

 (Using an XML library instead of concatenating strings would prevent these
 kinds of bugs.)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2955>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 21:37:56 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 19:37:56 -0000
Subject: [FFmpeg-trac] #2352(avformat:open): LXF VBI data support
In-Reply-To: <035.3fa2e50aa938a3edfdd2019d182ee26d@avcodec.org>
References: <035.3fa2e50aa938a3edfdd2019d182ee26d@avcodec.org>
Message-ID: <050.83815b65cacf608ae3cfc0b29696a873@avcodec.org>

#2352: LXF VBI data support
-------------------------------------+------------------------------------
             Reporter:  andrew       |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  lxf          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by andrew):

 I found a program a while ago that can analyze LXF files and output
 information on them as well as convert files and extract VBI data. Have
 fun!

 http://andrewgreen.ca/files/LXFConverter.zip

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2352#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 22:57:13 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 20:57:13 -0000
Subject: [FFmpeg-trac] #2943(avcodec:closed): libopenjpeg: black output
In-Reply-To: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>
References: <038.c48fed48f73c730dbe604a83dfa8070d@avcodec.org>
Message-ID: <053.211af246e015a2778e7ac9ab9140bc7f@avcodec.org>

#2943: libopenjpeg: black output
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  libopenjpeg  |               Blocked By:
  j2k                                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 The patch was merged in 7412a4a.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2943#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 22:57:54 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 20:57:54 -0000
Subject: [FFmpeg-trac] #2945(avformat:closed): Support remuxing
 mpeg2video into mxf-d10
In-Reply-To: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
References: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
Message-ID: <050.07faf5700bb62a5f31e48c821bc45c75@avcodec.org>

#2945: Support remuxing mpeg2video into mxf-d10
-------------------------------------+-------------------------------------
             Reporter:  ortoni       |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:  fixed
             Keywords:  mxf          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in d73565d, thank you for the report!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2945#comment:9>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 23:44:04 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 21:44:04 -0000
Subject: [FFmpeg-trac]  #2956(avformat:new): Support ifv cctv files
Message-ID: <036.914a01bad7f4f710aeb0d236da6404fa@avcodec.org>

#2956: Support ifv cctv files
---------------------------------------+----------------------------------
               Reporter:  cehoyos      |                  Owner:
                   Type:  enhancement  |                 Status:  new
               Priority:  wish         |              Component:  avformat
                Version:  git-master   |               Keywords:  ifv h264
             Blocked By:               |               Blocking:
Reproduced by developer:  0            |  Analyzed by developer:  0
---------------------------------------+----------------------------------
 A user uploaded an ifv sample, a proprietary file format from a cctv dvr
 that contains h264 video and pcm (?) audio, plays ok when forcing the
 format to h264.
 {{{
 $ ffmpeg -i chn320130728201929.ifv
 ffmpeg version N-56252-ge2774b3 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 12 2013 23:19:42 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl --disable-indev=jack
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 chn320130728201929.ifv: Invalid data found when processing input
 }}}
 {{{
 $ ffmpeg -f h264 -i chn320130728201929.ifv
 ffmpeg version N-56252-ge2774b3 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 12 2013 23:19:42 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl --disable-indev=jack
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [h264 @ 0x35b0e20] non-existing PPS referenced
 [h264 @ 0x35b0e20] non-existing PPS 0 referenced
 [h264 @ 0x35b0e20] decode_slice_header error
 [h264 @ 0x35b0e20] sps_id out of range
 [h264 @ 0x35b0e20] non-existing PPS referenced
 [h264 @ 0x35b0e20] sps_id out of range
 [h264 @ 0x35b0e20] slice type too large (32) at 0 0
 [h264 @ 0x35b0e20] decode_slice_header error
 [h264 @ 0x35b0e20] no frame!
 [h264 @ 0x35b0e20] non-existing PPS referenced
 [h264 @ 0x35b0e20] non-existing PPS 227 referenced
 [h264 @ 0x35b0e20] decode_slice_header error
 [h264 @ 0x35b0e20] no frame!
 [h264 @ 0x35b0e20] illegal POC type 32
 [h264 @ 0x35b0e20] missing picture in access unit with size 17312
 [h264 @ 0x35b0e20] illegal POC type 32
     Last message repeated 1 times
 [h264 @ 0x35b0e20] non-existing PPS 0 referenced
 [h264 @ 0x35b0e20] decode_slice_header error
 [h264 @ 0x35b0e20] no frame!
 [h264 @ 0x35b0e20] missing picture in access unit with size 3971
 [h264 @ 0x35b0e20] non-existing PPS 2 referenced
 [h264 @ 0x35b0e20] decode_slice_header error
 [h264 @ 0x35b0e20] no frame!
 Input #0, h264, from 'chn320130728201929.ifv':
   Duration: N/A, bitrate: N/A
     Stream #0:0: Video: h264 (Constrained Baseline), yuv420p, 352x288, 25
 fps, 25 tbr, 1200k tbn, 50 tbc
 At least one output file must be specified
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2956>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 12 23:45:06 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 21:45:06 -0000
Subject: [FFmpeg-trac] #2956(avformat:new): Support ifv cctv files
In-Reply-To: <036.914a01bad7f4f710aeb0d236da6404fa@avcodec.org>
References: <036.914a01bad7f4f710aeb0d236da6404fa@avcodec.org>
Message-ID: <051.d431fa9c17c6acfcb733a99140f13564@avcodec.org>

#2956: Support ifv cctv files
-------------------------------------+------------------------------------
             Reporter:  cehoyos      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  ifv h264     |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by cehoyos):

 Sample uploaded to http://samples.ffmpeg.org/ffmpeg-bugs/trac/ticket2956/

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2956#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 13 00:04:19 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 12 Sep 2013 22:04:19 -0000
Subject: [FFmpeg-trac] #2954(FFserver:new): No way to choose pixel
 format for ffserver
In-Reply-To: <034.bd02b8e725eabd120996d8fe3007930e@avcodec.org>
References: <034.bd02b8e725eabd120996d8fe3007930e@avcodec.org>
Message-ID: <049.bddac124f9d1d67d8e61af10ce0b8768@avcodec.org>

#2954: No way to choose pixel format for ffserver
-------------------------------------+------------------------------------
             Reporter:  balek        |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  normal       |                Component:  FFserver
              Version:  2.0.1        |               Resolution:
             Keywords:  pix_fmt      |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by cehoyos):

 Sorry, I apparently forgot to point you to the relevant documentation:
 http://ffmpeg.org/developer.html#Submitting-patches-1
 Please excuse and please consider to read it!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2954#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 13 07:34:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 13 Sep 2013 05:34:50 -0000
Subject: [FFmpeg-trac] #2957(FFmpeg:new): ffmpeg crashed after ssl
 installation
Message-ID: <036.7adb1ebfe7e4178a1781bdd94b37704b@avcodec.org>

#2957: ffmpeg crashed after ssl installation
---------------------------------+----------------------------------
             Reporter:  Fecobee  |                     Type:  defect
               Status:  new      |                 Priority:  normal
            Component:  FFmpeg   |                  Version:  2.0.1
             Keywords:           |               Blocked By:
             Blocking:           |  Reproduced by developer:  0
Analyzed by developer:  0        |
---------------------------------+----------------------------------
 I was using this code : $cmd = "$ffmpeg -itsoffset -8  -i $temp -vcodec
 mjpeg -vframes 1 -an -f rawvideo -s 320x240
 data/channels/videos/$username/$imagefile";
         shell_exec($cmd); until I installed ssl certificate and then
 ffmpeg crashed. Can`t get it to work anymore. How do I totally uninstall
 and re-install?
 Thanks

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2957>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 13 07:58:12 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 13 Sep 2013 05:58:12 -0000
Subject: [FFmpeg-trac] #2957(FFmpeg:closed): ffmpeg crashed after ssl
 installation
In-Reply-To: <036.7adb1ebfe7e4178a1781bdd94b37704b@avcodec.org>
References: <036.7adb1ebfe7e4178a1781bdd94b37704b@avcodec.org>
Message-ID: <051.7a435aef81ee588e26d6c454deefcfc7@avcodec.org>

#2957: ffmpeg crashed after ssl installation
---------------------------------+-----------------------------------
             Reporter:  Fecobee  |                    Owner:
                 Type:  defect   |                   Status:  closed
             Priority:  normal   |                Component:  FFmpeg
              Version:  2.0.1    |               Resolution:  invalid
             Keywords:           |               Blocked By:
             Blocking:           |  Reproduced by developer:  0
Analyzed by developer:  0        |
---------------------------------+-----------------------------------
Changes (by ubitux):

 * status:  new => closed
 * resolution:   => invalid


Comment:

 This is not a user support channel/forum, and even less a PHP one. If you
 are willing to report a crash with FFmpeg, please read the following
 guidelines: http://ffmpeg.org/bugreports.html

 As is, your bug report gives absolutely no information about how to
 reproduce the problem: no, we won't install PHP, no we won't try to guess
 your input, no we won't try to guess the exact resulting command line nor
 its the complete output, ...

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2957#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 13 10:27:10 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 13 Sep 2013 08:27:10 -0000
Subject: [FFmpeg-trac] #2190(avformat:closed): yuv4mpegpipe does not
 preserve interlaced settings
In-Reply-To: <036.c7338f092b2ec213177ba98be04dd192@avcodec.org>
References: <036.c7338f092b2ec213177ba98be04dd192@avcodec.org>
Message-ID: <051.68b64dff0f25a999752259d7fbfc4f85@avcodec.org>

#2190: yuv4mpegpipe does not preserve interlaced settings
------------------------------------+------------------------------------
             Reporter:  ulatekh     |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:  fixed
             Keywords:  yuv4mpeg    |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+------------------------------------
Changes (by cehoyos):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 I believe that this problem is not reproducible anymore with current git
 head.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2190#comment:14>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 13 19:07:35 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 13 Sep 2013 17:07:35 -0000
Subject: [FFmpeg-trac] #2958(undetermined:new): Transcoding some iPhone
 camera roll videos outputs excessive frame-rate
Message-ID: <038.79c8c25effe25f59789fbcbb83ec8f5f@avcodec.org>

#2958: Transcoding some iPhone camera roll videos outputs excessive frame-rate
-------------------------------------+-------------------------------------
             Reporter:  nealzebub    |                     Type:  defect
               Status:  new          |                 Priority:  normal
            Component:               |                  Version:
  undetermined                       |  unspecified
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 '''OS:''' CentOS 6.3 64-bit
  '''Build:''' N-55797-g535d9a9
  '''Obtained from:'''  http://ffmpeg.gusari.org/static/64bit/

 Summary of the bug:
 I am attempting to transcode several MOVs that are directly from an
 iPhone4's camera roll folder.  I do not specify frame-rate, since the
 videos are variable frame-rate (24,30 fps).  For a few of the MOVs, the
 transcoded h264 output has a declared fps of 600, causing the h264 level
 to be very high, which means that some players reject playback.  I noticed
 for these MOV files that FFmpeg, in the input stats, reports "tbr 600".
 I checked the video timestamps of the particular files using FFprobe.  All
 PTS differences don't amount to anything more than 31 fps.

 How to reproduce:
 Use the following source
 https://www.dropbox.com/s/xji1akd6tuuravd/from_iphone4.MOV

 with the following command:
 {{{
 % ffmpeg -report -i from_iphone4.MOV -c:v libx264 -crf 23 -an
 shouldbe30fps.mp4

 }}}

 I will attached the report, as the console output is annoyingly long.

 Please note that this entry is very similar to issue #2451.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2958>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 13 19:23:46 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 13 Sep 2013 17:23:46 -0000
Subject: [FFmpeg-trac] #2958(undetermined:new): Transcoding some iPhone
 camera roll videos outputs excessive frame-rate
In-Reply-To: <038.79c8c25effe25f59789fbcbb83ec8f5f@avcodec.org>
References: <038.79c8c25effe25f59789fbcbb83ec8f5f@avcodec.org>
Message-ID: <053.48f77ec574d5b5c14e11e8c56c718e89@avcodec.org>

#2958: Transcoding some iPhone camera roll videos outputs excessive frame-rate
-------------------------------------+-------------------------------------
             Reporter:  nealzebub    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  mov          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => mov
 * version:  unspecified => git-master


Comment:

 For future tickets: If a problem is reproducible without external
 libraries, please don't use them.

 If you are correct and the input video is vfr, I don't think anything can
 be done (except fixing vfr in mov).
 {{{
 $ ffmpeg -i from_iphone4.MOV -q:v 2 -vcodec mpeg4 -strict -2 -acodec aac
 out.mov
 ffmpeg version N-56261-gfc47726 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 13 2013 17:39:25 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'from_iphone4.MOV':
   Metadata:
     major_brand     : qt
     minor_version   : 0
     compatible_brands: qt
     creation_time   : 2013-01-13 22:11:45
     model           : iPhone 4
     model-eng       : iPhone 4
     encoder         : 6.0.1
     encoder-eng     : 6.0.1
     date            : 2013-01-13T17:11:45-0500
     date-eng        : 2013-01-13T17:11:45-0500
     make            : Apple
     make-eng        : Apple
   Duration: 00:00:16.87, start: 0.000000, bitrate: 10805 kb/s
     Stream #0:0(und): Video: h264 (Baseline) (avc1 / 0x31637661),
 yuv420p(tv, bt709), 1280x720, 10718 kb/s, 24.33 fps, 600 tbr, 600 tbn,
 1200 tbc (default)
     Metadata:
       creation_time   : 2013-01-13 22:11:45
       handler_name    : Core Media Data Handler
     Stream #0:1(und): Audio: aac (mp4a / 0x6134706D), 44100 Hz, mono,
 fltp, 63 kb/s (default)
     Metadata:
       creation_time   : 2013-01-13 22:11:46
       handler_name    : Core Media Data Handler
 Output #0, mov, to 'out.mov':
   Metadata:
     major_brand     : qt
     minor_version   : 0
     compatible_brands: qt
     make-eng        : Apple
     model           : iPhone 4
     model-eng       : iPhone 4
     make            : Apple
     encoder-eng     : 6.0.1
     date            : 2013-01-13T17:11:45-0500
     date-eng        : 2013-01-13T17:11:45-0500
     encoder         : Lavf55.16.102
     Stream #0:0(und): Video: mpeg4 (mp4v / 0x7634706D), yuv420p, 1280x720,
 q=2-31, 200 kb/s, 19200 tbn, 600 tbc (default)
     Metadata:
       creation_time   : 2013-01-13 22:11:45
       handler_name    : Core Media Data Handler
     Stream #0:1(und): Audio: aac (mp4a / 0x6134706D), 44100 Hz, mono,
 fltp, 128 kb/s (default)
     Metadata:
       creation_time   : 2013-01-13 22:11:46
       handler_name    : Core Media Data Handler
 Stream mapping:
   Stream #0:0 -> #0:0 (h264 -> mpeg4)
   Stream #0:1 -> #0:1 (aac -> aac)
 Press [q] to stop, [?] for help
 frame=10110 fps=697 q=2.0 Lsize=  208383kB time=00:00:16.90
 bitrate=100985.7kbits/s dup=9699 drop=0
 video:208062kB audio:268kB subtitle:0 global headers:0kB muxing overhead
 0.025869%
 }}}
 Workaround is to specify an output frame rate:
 {{{
 $ ffmpeg -i from_iphone4.MOV -q:v 2 -vcodec mpeg4 -strict -2 -acodec aac
 -r 24 out24.mov
 ffmpeg version N-56261-gfc47726 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 13 2013 17:39:25 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'from_iphone4.MOV':
   Metadata:
     major_brand     : qt
     minor_version   : 0
     compatible_brands: qt
     creation_time   : 2013-01-13 22:11:45
     model           : iPhone 4
     model-eng       : iPhone 4
     encoder         : 6.0.1
     encoder-eng     : 6.0.1
     date            : 2013-01-13T17:11:45-0500
     date-eng        : 2013-01-13T17:11:45-0500
     make            : Apple
     make-eng        : Apple
   Duration: 00:00:16.87, start: 0.000000, bitrate: 10805 kb/s
     Stream #0:0(und): Video: h264 (Baseline) (avc1 / 0x31637661),
 yuv420p(tv, bt709), 1280x720, 10718 kb/s, 24.33 fps, 600 tbr, 600 tbn,
 1200 tbc (default)
     Metadata:
       creation_time   : 2013-01-13 22:11:45
       handler_name    : Core Media Data Handler
     Stream #0:1(und): Audio: aac (mp4a / 0x6134706D), 44100 Hz, mono,
 fltp, 63 kb/s (default)
     Metadata:
       creation_time   : 2013-01-13 22:11:46
       handler_name    : Core Media Data Handler
 Output #0, mov, to 'out24.mov':
   Metadata:
     major_brand     : qt
     minor_version   : 0
     compatible_brands: qt
     make-eng        : Apple
     model           : iPhone 4
     model-eng       : iPhone 4
     make            : Apple
     encoder-eng     : 6.0.1
     date            : 2013-01-13T17:11:45-0500
     date-eng        : 2013-01-13T17:11:45-0500
     encoder         : Lavf55.16.102
     Stream #0:0(und): Video: mpeg4 (mp4v / 0x7634706D), yuv420p, 1280x720,
 q=2-31, 200 kb/s, 12288 tbn, 24 tbc (default)
     Metadata:
       creation_time   : 2013-01-13 22:11:45
       handler_name    : Core Media Data Handler
     Stream #0:1(und): Audio: aac (mp4a / 0x6134706D), 44100 Hz, mono,
 fltp, 128 kb/s (default)
     Metadata:
       creation_time   : 2013-01-13 22:11:46
       handler_name    : Core Media Data Handler
 Stream mapping:
   Stream #0:0 -> #0:0 (h264 -> mpeg4)
   Stream #0:1 -> #0:1 (aac -> aac)
 Press [q] to stop, [?] for help
 frame=  407 fps=248 q=2.0 Lsize=   48379kB time=00:00:16.95
 bitrate=23370.3kbits/s dup=0 drop=4
 video:48100kB audio:268kB subtitle:0 global headers:0kB muxing overhead
 0.022950%
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2958#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 13 19:39:30 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 13 Sep 2013 17:39:30 -0000
Subject: [FFmpeg-trac] #2958(undetermined:new): Transcoding some iPhone
 camera roll videos outputs excessive frame-rate
In-Reply-To: <038.79c8c25effe25f59789fbcbb83ec8f5f@avcodec.org>
References: <038.79c8c25effe25f59789fbcbb83ec8f5f@avcodec.org>
Message-ID: <053.88671a87562963a2d93abc4c561739b5@avcodec.org>

#2958: Transcoding some iPhone camera roll videos outputs excessive frame-rate
-------------------------------------+-------------------------------------
             Reporter:  nealzebub    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  mov          |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by rmk):

 The video is indeed VFR. Looking at the sample to time table, one can see
 sample durations that vary between 23,x and 30 FPS.

 Seems to be a known issue:
 https://discussions.apple.com/thread/2480522?start=0&tstart=0

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2958#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 13 20:48:41 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 13 Sep 2013 18:48:41 -0000
Subject: [FFmpeg-trac] #2959(avfilter:new): filter line using only one core
 (need frame multithreading)
Message-ID: <036.9b10619f7213b9bd98def4eded6a7e5d@avcodec.org>

#2959: filter line using only one core (need frame multithreading)
-------------------------------------+-------------------------------------
             Reporter:  chronek      |                     Type:
               Status:  new          |  enhancement
            Component:  avfilter     |                 Priority:  wish
             Keywords:  avfilter     |                  Version:  git-
  threading                          |  master
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
 Hello,
  I am using ffmpeg version N-56143-gd1a1656, when i set threads 8 and
 trying reencode like : hi-res source -> filter
 (postprocesor,scale,unsharp,gradfun) -> output , then i see only one core
 is busy.
  Adding frame multi-threading for whole filter line would be welcome, as
 that would allow filters that can't generally use slice threading to
 benefit of multiple cores like in my case

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2959>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 13 20:49:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 13 Sep 2013 18:49:45 -0000
Subject: [FFmpeg-trac] #2959(avfilter:new): filter line using only one
 core (need frame multithreading)
In-Reply-To: <036.9b10619f7213b9bd98def4eded6a7e5d@avcodec.org>
References: <036.9b10619f7213b9bd98def4eded6a7e5d@avcodec.org>
Message-ID: <051.5e996f60213f5c41ff0206276446a827@avcodec.org>

#2959: filter line using only one core (need frame multithreading)
-------------------------------------+------------------------------------
             Reporter:  chronek      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avfilter
              Version:  git-master   |               Resolution:
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------
Changes (by cehoyos):

 * keywords:  avfilter threading =>


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2959#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 13 23:30:48 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 13 Sep 2013 21:30:48 -0000
Subject: [FFmpeg-trac] #2947(avcodec:open): mjpeg: invalid write with
 max_alloc
In-Reply-To: <038.f0645f8f02e7a5e1606bf45fc6fc9d38@avcodec.org>
References: <038.f0645f8f02e7a5e1606bf45fc6fc9d38@avcodec.org>
Message-ID: <053.0d72c9a4765797ec99bd902180194cda@avcodec.org>

#2947: mjpeg: invalid write with max_alloc
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  mjpeg crash  |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by michael):

 Fixed in 6c07e41f43026eb65b6a4afc3119d6666781c211

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2947#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 13 23:30:55 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 13 Sep 2013 21:30:55 -0000
Subject: [FFmpeg-trac] #2947(avcodec:closed): mjpeg: invalid write with
 max_alloc
In-Reply-To: <038.f0645f8f02e7a5e1606bf45fc6fc9d38@avcodec.org>
References: <038.f0645f8f02e7a5e1606bf45fc6fc9d38@avcodec.org>
Message-ID: <053.223b9837570b0bec6aab653ce9a2ae82@avcodec.org>

#2947: mjpeg: invalid write with max_alloc
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  mjpeg crash  |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2947#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 14 00:42:53 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 13 Sep 2013 22:42:53 -0000
Subject: [FFmpeg-trac] #2950(avcodec:closed): mpeg2: invalid read with
 max_alloc
In-Reply-To: <038.c72ffea59f3d3412374c1cc891150f4b@avcodec.org>
References: <038.c72ffea59f3d3412374c1cc891150f4b@avcodec.org>
Message-ID: <053.4bacd8088cbce5a066bf255262b102f9@avcodec.org>

#2950: mpeg2: invalid read with max_alloc
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  mpeg2video   |               Blocked By:
  crash SIGSEGV                      |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in 108b91c3fe61f5296585a1e326e85f0f18576ad6

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2950#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 14 04:00:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 02:00:50 -0000
Subject: [FFmpeg-trac] #2954(FFserver:closed): No way to choose pixel
 format for ffserver
In-Reply-To: <034.bd02b8e725eabd120996d8fe3007930e@avcodec.org>
References: <034.bd02b8e725eabd120996d8fe3007930e@avcodec.org>
Message-ID: <049.5eef97ac1930ee2e818b99303a4b37ca@avcodec.org>

#2954: No way to choose pixel format for ffserver
-------------------------------------+------------------------------------
             Reporter:  balek        |                    Owner:
                 Type:  enhancement  |                   Status:  closed
             Priority:  normal       |                Component:  FFserver
              Version:  2.0.1        |               Resolution:  fixed
             Keywords:  pix_fmt      |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------
Changes (by michael):

 * status:  new => closed
 * resolution:   => fixed


Comment:

 Changes applied in 90ca8142673697980a740ea2f723aa7a6d13b267

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2954#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 14 11:37:10 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 09:37:10 -0000
Subject: [FFmpeg-trac] #2960(FFmpeg:new): metatag TCMP/Part of a compilation
Message-ID: <037.5bf6e4403b3abdf1e7e1c152705431f7@avcodec.org>

#2960: metatag TCMP/Part of a compilation
-------------------------------------+-------------------------------------
             Reporter:  Messiahs     |                     Type:
               Status:  new          |  enhancement
            Component:  FFmpeg       |                 Priority:  normal
             Keywords:  metatag      |                  Version:
  TCMP compilation                   |  unspecified
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
 It would be nice if someone could add the possibility to write metatag
 "Part of a compilation"

 http://jonhall.info/how_to/create_id3_tags_using_ffmpeg

 e.g.:
 ffmpeg32 -i out.mp3 -metadata compilation="1"

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2960>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 14 11:38:59 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 09:38:59 -0000
Subject: [FFmpeg-trac] #2370(avdevice:open): v4l2 should not need ENUMSTD
In-Reply-To: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
References: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
Message-ID: <050.938cbea98f5bd8551f16e907903d29fc@avcodec.org>

#2370: v4l2 should not need ENUMSTD
-------------------------------------+-------------------------------------
             Reporter:  ubitux       |                    Owner:  holden
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avdevice
              Version:  git-master   |               Resolution:
             Keywords:  v4l2         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by holden):

 Replying to [comment:11 mrlika]:
 > Hi Holden,
 >
 > patched.txt - output of the commands from latest FFmpeg with your patch
 > not_patched.txt - output of the commands from not patched latest FFmpeg
 > patched_my.txt  - output from FFmpeg with my patch
 >
 > Only with my patch third command starts encoding.
 >
 > Regards.

 Thanks for the tests, I changed the commit message on your original patch
 and sent it to the mailing list. Once it gets applied I think we can close
 this ticket.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2370#comment:12>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 14 12:06:33 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 10:06:33 -0000
Subject: [FFmpeg-trac]  #2961(undetermined:new): indeo4: invalid read
Message-ID: <038.a8e06b87888c8252939bd0e392876258@avcodec.org>

#2961: indeo4: invalid read
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 {{{
 knoppix at Microknoppix:/media/sdb1$ valgrind --leak-check=full ffmpeg-HEAD-
 bbcaf25/ffmpeg_g -i iv41_2_fuzz.avi -f null -
 ==19679== Memcheck, a memory error detector
 ==19679== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
 ==19679== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright
 info
 ==19679== Command: ffmpeg-HEAD-bbcaf25/ffmpeg_g -i iv41_2_fuzz.avi -f null
 -
 ==19679==
 ffmpeg version 2.0-bbcaf25 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 12 2013 00:30:03 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, avi, from 'iv41_2_fuzz.avi':
   Duration: 00:00:12.64, start: 0.000000, bitrate: 33 kb/s
     Stream #0:0: Video: indeo4 (IV41 / 0x31345649), yuv410p, 64x48, 23.97
 tbr, 23.97 tbn, 23.97 tbc
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.16.102
     Stream #0:0: Video: rawvideo (YUV9 / 0x39565559), yuv410p, 64x48,
 q=2-31, 200 kb/s, 90k tbn, 23.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (indeo4 -> rawvideo)
 Press [q] to stop, [?] for help
 [null @ 0x42500e0] Encoder did not produce proper pts, making some up.
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 55 times
 [indeo4 @ 0x423a4e0] Corrupted tile data encountered!
 [indeo4 @ 0x423a4e0] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Invalid picture start code!
 [indeo4 @ 0x423a4e0] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Corrupted tile data encountered!
 [indeo4 @ 0x423a4e0] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [indeo4 @ 0x423a4e0] Scalability: unsupported subdivision! Luma bands: 0,
 chroma bands: 0
 [indeo4 @ 0x423a4e0] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Invalid picture start code!
 [indeo4 @ 0x423a4e0] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Only YVU9 picture format is supported!
 [indeo4 @ 0x423a4e0] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Scalability: unsupported subdivision! Luma bands: 0,
 chroma bands: 0
 [indeo4 @ 0x423a4e0] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Too many corrections: 127
 [indeo4 @ 0x423a4e0] Error while decoding band header: -1094995529
 [indeo4 @ 0x423a4e0] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Invalid picture start code!
 [indeo4 @ 0x423a4e0] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Corrupted tile data encountered!
 [indeo4 @ 0x423a4e0] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Invalid frame type: 7
 [indeo4 @ 0x423a4e0] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [indeo4 @ 0x423a4e0] Scalability: unsupported subdivision! Luma bands: 0,
 chroma bands: 0
 [indeo4 @ 0x423a4e0] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Corrupted tile data encountered!
 [indeo4 @ 0x423a4e0] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Scalability: unsupported subdivision! Luma bands: 0,
 chroma bands: 0
 [indeo4 @ 0x423a4e0] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Invalid frame type: 7
 [indeo4 @ 0x423a4e0] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Corrupted tile data encountered!
 [indeo4 @ 0x423a4e0] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x423a4e0] Tile data size is zero!
 [indeo4 @ 0x423a4e0] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [indeo4 @ 0x423a4e0] Couldn't reallocate color planes!
 [indeo4 @ 0x423a4e0] Error while decoding picture header: -12
 Error while decoding stream #0:0: Cannot allocate memory
 ==19679== Invalid read of size 4
 ==19679==    at 0x84F7F3B: ff_ivi_decode_frame (ivi_common.c:1024)
 ==19679==    by 0x80B38DC: decode_video (ffmpeg.c:1668)
 ==19679==    by 0x37CA3EAD: ???
 ==19679==  Address 0x1c is not stack'd, malloc'd or (recently) free'd
 ==19679==
 ==19679==
 ==19679== Process terminating with default action of signal 11 (SIGSEGV)
 ==19679==  Access not within mapped region at address 0x1C
 ==19679==    at 0x84F7F3B: ff_ivi_decode_frame (ivi_common.c:1024)
 ==19679==    by 0x80B38DC: decode_video (ffmpeg.c:1668)
 ==19679==    by 0x37CA3EAD: ???
 ==19679==  If you believe this happened as a result of a stack
 ==19679==  overflow in your program's main thread (unlikely but
 ==19679==  possible), you can try to increase the size of the
 ==19679==  main thread stack using the --main-stacksize= flag.
 ==19679==  The main thread stack size used in this run was 8388608.
 ==19679==
 ==19679== HEAP SUMMARY:
 ==19679==     in use at exit: 68,888 bytes in 103 blocks
 ==19679==   total heap usage: 2,775 allocs, 2,672 frees, 1,179,414 bytes
 allocated
 ==19679==
 ==19679== 1,296 bytes in 9 blocks are possibly lost in loss record 83 of
 88
 ==19679==    at 0x4026A68: calloc (vg_replace_malloc.c:566)
 ==19679==    by 0x40111FB: _dl_allocate_tls (dl-tls.c:300)
 ==19679==    by 0x407C2A8: pthread_create@@GLIBC_2.1 (allocatestack.c:580)
 ==19679==    by 0x80D9821: ff_graph_thread_init (pthread.c:180)
 ==19679==    by 0x80CD797: avfilter_graph_alloc_filter
 (avfiltergraph.c:186)
 ==19679==    by 0x80D83D4: create_filter (graphparser.c:112)
 ==19679==    by 0x80D8E29: avfilter_graph_parse2 (graphparser.c:169)
 ==19679==
 ==19679== LEAK SUMMARY:
 ==19679==    definitely lost: 0 bytes in 0 blocks
 ==19679==    indirectly lost: 0 bytes in 0 blocks
 ==19679==      possibly lost: 1,296 bytes in 9 blocks
 ==19679==    still reachable: 67,592 bytes in 94 blocks
 ==19679==         suppressed: 0 bytes in 0 blocks
 ==19679== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==19679== To see them, rerun with: --leak-check=full --show-reachable=yes
 ==19679==
 ==19679== For counts of detected and suppressed errors, rerun with: -v
 ==19679== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 59 from 6)
 Killed
 }}}

 {{{
 knoppix at Microknoppix:/media/sdb1$ gdb ffmpeg-HEAD-bbcaf25/ffmpeg_gGNU gdb
 (GDB) 7.4.1-debian
 Copyright (C) 2012 Free Software Foundation, Inc.
 License GPLv3+: GNU GPL version 3 or later
 <http://gnu.org/licenses/gpl.html>
 This is free software: you are free to change and redistribute it.
 There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
 and "show warranty" for details.
 This GDB was configured as "i486-linux-gnu".
 For bug reporting instructions, please see:
 <http://www.gnu.org/software/gdb/bugs/>...
 Reading symbols from /media/sdb1/ffmpeg-HEAD-bbcaf25/ffmpeg_g...done.
 (gdb) r -i ./iv41_2_fuzz.avi -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-bbcaf25/ffmpeg_g -i
 ./iv41_2_fuzz.avi -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-bbcaf25 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 12 2013 00:30:03 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --disable-ffprobe --disable-ffserver
 --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, avi, from './iv41_2_fuzz.avi':
   Duration: 00:00:12.64, start: 0.000000, bitrate: 33 kb/s
     Stream #0:0: Video: indeo4 (IV41 / 0x31345649), yuv410p, 64x48, 23.97
 tbr, 23.97 tbn, 23.97 tbc
 [New Thread 0xb7df8b70 (LWP 19696)]
 [New Thread 0xb75f8b70 (LWP 19697)]
 [New Thread 0xb6df8b70 (LWP 19698)]
 [New Thread 0xb65f8b70 (LWP 19699)]
 [New Thread 0xb5df8b70 (LWP 19700)]
 [New Thread 0xb55f8b70 (LWP 19701)]
 [New Thread 0xb4df8b70 (LWP 19702)]
 [New Thread 0xb45f8b70 (LWP 19703)]
 [New Thread 0xb3df8b70 (LWP 19704)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.16.102
     Stream #0:0: Video: rawvideo (YUV9 / 0x39565559), yuv410p, 64x48,
 q=2-31, 200 kb/s, 90k tbn, 23.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (indeo4 -> rawvideo)
 Press [q] to stop, [?] for help
 [null @ 0x9116960] Encoder did not produce proper pts, making some up.
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 55 times
 [indeo4 @ 0x9114640] Corrupted tile data encountered!
 [indeo4 @ 0x9114640] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Invalid picture start code!
 [indeo4 @ 0x9114640] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Corrupted tile data encountered!
 [indeo4 @ 0x9114640] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [indeo4 @ 0x9114640] Scalability: unsupported subdivision! Luma bands: 0,
 chroma bands: 0
 [indeo4 @ 0x9114640] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Invalid picture start code!
 [indeo4 @ 0x9114640] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Only YVU9 picture format is supported!
 [indeo4 @ 0x9114640] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Scalability: unsupported subdivision! Luma bands: 0,
 chroma bands: 0
 [indeo4 @ 0x9114640] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Too many corrections: 127
 [indeo4 @ 0x9114640] Error while decoding band header: -1094995529
 [indeo4 @ 0x9114640] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Invalid picture start code!
 [indeo4 @ 0x9114640] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Corrupted tile data encountered!
 [indeo4 @ 0x9114640] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Invalid frame type: 7
 [indeo4 @ 0x9114640] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [indeo4 @ 0x9114640] Scalability: unsupported subdivision! Luma bands: 0,
 chroma bands: 0
 [indeo4 @ 0x9114640] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Corrupted tile data encountered!
 [indeo4 @ 0x9114640] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Scalability: unsupported subdivision! Luma bands: 0,
 chroma bands: 0
 [indeo4 @ 0x9114640] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Invalid frame type: 7
 [indeo4 @ 0x9114640] Error while decoding picture header: -1094995529
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Corrupted tile data encountered!
 [indeo4 @ 0x9114640] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
 [indeo4 @ 0x9114640] Tile data size is zero!
 [indeo4 @ 0x9114640] Error while decoding band: 0, plane: 0
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [indeo4 @ 0x9114640] Couldn't reallocate color planes!
 [indeo4 @ 0x9114640] Error while decoding picture header: -12
 Error while decoding stream #0:0: Cannot allocate memory

 Program received signal SIGSEGV, Segmentation fault.
 0x084f7f3b in ff_ivi_decode_frame (avctx=0x9114640, data=0x9118e20,
     got_frame=0xbffff504, avpkt=0xbffff2a8) at
 libavcodec/ivi_common.c:1024
 1024                if (!ctx->planes[p].bands[0].buf)
 (gdb) bt
 #0  0x084f7f3b in ff_ivi_decode_frame (avctx=0x9114640, data=0x9118e20,
     got_frame=0xbffff504, avpkt=0xbffff2a8) at
 libavcodec/ivi_common.c:1024
 #1  0x0867a04e in avcodec_decode_video2 (avctx=0x9114640,
     picture=picture at entry=0x9118e20,
     got_picture_ptr=got_picture_ptr at entry=0xbffff504,
     avpkt=avpkt at entry=0xbffff750) at libavcodec/utils.c:1995
 #2  0x080b38dd in decode_video (ist=ist at entry=0x9118080,
     pkt=pkt at entry=0xbffff750, got_output=got_output at entry=0xbffff504)
     at ffmpeg.c:1668
 #3  0x080b77fa in output_packet (pkt=0xbffff6e8, ist=0x9118080)
     at ffmpeg.c:1866
 #4  process_input (file_index=1) at ffmpeg.c:3089
 #5  0x080a2fd3 in transcode_step () at ffmpeg.c:3185
 #6  transcode () at ffmpeg.c:3237
 #7  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2961>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 14 13:04:19 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 11:04:19 -0000
Subject: [FFmpeg-trac] #2960(avformat:new): metatag TCMP/Part of a
 compilation
In-Reply-To: <037.5bf6e4403b3abdf1e7e1c152705431f7@avcodec.org>
References: <037.5bf6e4403b3abdf1e7e1c152705431f7@avcodec.org>
Message-ID: <052.c29240a8f703f1b258c64f1be97a4649@avcodec.org>

#2960: metatag TCMP/Part of a compilation
-------------------------------------+------------------------------------
             Reporter:  Messiahs     |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  id3          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------
Changes (by cehoyos):

 * keywords:  metatag TCMP compilation => id3
 * priority:  normal => wish
 * version:  unspecified => git-master
 * component:  FFmpeg => avformat


Comment:

 Please provide a sample file using the metatag.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2960#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 14 13:04:36 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 11:04:36 -0000
Subject: [FFmpeg-trac] #2954(FFserver:closed): No way to choose pixel
 format for ffserver
In-Reply-To: <034.bd02b8e725eabd120996d8fe3007930e@avcodec.org>
References: <034.bd02b8e725eabd120996d8fe3007930e@avcodec.org>
Message-ID: <049.70238991f6fa3b221487edcf74f34a1f@avcodec.org>

#2954: No way to choose pixel format for ffserver
-------------------------------------+------------------------------------
             Reporter:  balek        |                    Owner:
                 Type:  enhancement  |                   Status:  closed
             Priority:  normal       |                Component:  FFserver
              Version:  git-master   |               Resolution:  fixed
             Keywords:  pix_fmt      |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------
Changes (by cehoyos):

 * version:  2.0.1 => git-master


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2954#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 14 13:09:53 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 11:09:53 -0000
Subject: [FFmpeg-trac] #2961(avcodec:open): indeo4: invalid read
In-Reply-To: <038.a8e06b87888c8252939bd0e392876258@avcodec.org>
References: <038.a8e06b87888c8252939bd0e392876258@avcodec.org>
Message-ID: <053.85b9807e9376d3e763a8b452824b4945@avcodec.org>

#2961: indeo4: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  iv41 crash   |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => iv41 crash SIGSEGV


Comment:

 {{{
 Program received signal SIGSEGV, Segmentation fault.
 ff_ivi_decode_frame (avctx=0x16f0360, data=0x16d9040,
 got_frame=0x7fffffffd7ec, avpkt=<optimized out>) at
 libavcodec/ivi_common.c:1024
 1024                if (!ctx->planes[p].bands[0].buf)
 (gdb) bt
 #0  ff_ivi_decode_frame (avctx=0x16f0360, data=0x16d9040,
 got_frame=0x7fffffffd7ec, avpkt=<optimized out>) at
 libavcodec/ivi_common.c:1024
 #1  0x00000000009da72b in avcodec_decode_video2 (avctx=0x16f0360,
 picture=picture at entry=0x16d9040,
 got_picture_ptr=got_picture_ptr at entry=0x7fffffffd7ec,
 avpkt=avpkt at entry=0x7fffffffda50)
     at libavcodec/utils.c:1995
 #2  0x000000000046c650 in decode_video (ist=ist at entry=0x16f4220,
 pkt=pkt at entry=0x7fffffffda50, got_output=got_output at entry=0x7fffffffd7ec)
 at ffmpeg.c:1668
 #3  0x000000000046f94f in output_packet (pkt=0x7fffffffd9f0,
 ist=0x16f4220) at ffmpeg.c:1866
 #4  process_input (file_index=<optimized out>) at ffmpeg.c:3089
 #5  0x000000000045da10 in transcode_step () at ffmpeg.c:3185
 #6  transcode () at ffmpeg.c:3237
 #7  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb) disass $pc-32,$pc+32
 Dump of assembler code from 0x85f7c7 to 0x85f807:
    0x000000000085f7c7 <ff_ivi_decode_frame+743>:        jl     0x85f7ed
 <ff_ivi_decode_frame+781>
    0x000000000085f7c9 <ff_ivi_decode_frame+745>:        push   %rax
    0x000000000085f7ca <ff_ivi_decode_frame+746>:        mov
 0x1244(%rdi),%r11d
    0x000000000085f7d1 <ff_ivi_decode_frame+753>:        test   %r11d,%r11d
    0x000000000085f7d4 <ff_ivi_decode_frame+756>:        jne    0x860876
 <ff_ivi_decode_frame+5014>
    0x000000000085f7da <ff_ivi_decode_frame+762>:        mov
 0x1280(%rdi),%rax
    0x000000000085f7e1 <ff_ivi_decode_frame+769>:        mov
 $0xbebbb1b7,%r9d
 => 0x000000000085f7e7 <ff_ivi_decode_frame+775>:        cmpq
 $0x0,0x28(%rax)
    0x000000000085f7ec <ff_ivi_decode_frame+780>:        je     0x85f84e
 <ff_ivi_decode_frame+878>
    0x000000000085f7ee <ff_ivi_decode_frame+782>:        mov
 0x1290(%rdi),%rax
    0x000000000085f7f5 <ff_ivi_decode_frame+789>:        cmpq
 $0x0,0x28(%rax)
    0x000000000085f7fa <ff_ivi_decode_frame+794>:        je     0x85f84e
 <ff_ivi_decode_frame+878>
    0x000000000085f7fc <ff_ivi_decode_frame+796>:        mov
 0x12a0(%rdi),%rax
    0x000000000085f803 <ff_ivi_decode_frame+803>:        cmpq
 $0x0,0x28(%rax)
 End of assembler dump.
 (gdb) info register
 rax            0x0      0
 rbx            0x16d9040        23957568
 rcx            0x0      0
 rdx            0x0      0
 rsi            0x16e47e0        24004576
 rdi            0x16f56a0        24073888
 rbp            0x7fffffffda50   0x7fffffffda50
 rsp            0x7fffffffd420   0x7fffffffd420
 r8             0x5      5
 r9             0xbebbb1b7       3199971767
 r10            0x18     24
 r11            0x0      0
 r12            0x16f0360        24052576
 r13            0x7fffffffda50   140737488345680
 r14            0x16f4220        24068640
 r15            0x16f4228        24068648
 rip            0x85f7e7 0x85f7e7 <ff_ivi_decode_frame+775>
 eflags         0x10246  [ PF ZF IF RF ]
 cs             0x33     51
 ss             0x2b     43
 ds             0x0      0
 es             0x0      0
 fs             0x0      0
 gs             0x0      0
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2961#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 14 13:20:38 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 11:20:38 -0000
Subject: [FFmpeg-trac] #2961(avcodec:open): indeo4: invalid read
In-Reply-To: <038.a8e06b87888c8252939bd0e392876258@avcodec.org>
References: <038.a8e06b87888c8252939bd0e392876258@avcodec.org>
Message-ID: <053.d790d44fadb6721ed599fc3212f4a667@avcodec.org>

#2961: indeo4: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  iv41 crash   |               Blocked By:
  SIGSEGV regression                 |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  iv41 crash SIGSEGV => iv41 crash SIGSEGV regression


Comment:

 Regression since fcbf16a.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2961#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 14 21:15:57 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 19:15:57 -0000
Subject: [FFmpeg-trac] #2962(avformat:new): MPEG TS stream: Failed assertion
Message-ID: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>

#2962: MPEG TS stream: Failed assertion
-------------------------------------+-------------------------------------
             Reporter:               |                     Type:  defect
  Underground78                      |                 Priority:  normal
               Status:  new          |                  Version:  git-
            Component:  avformat     |  master
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 Summary of the bug:
 Trying to open a MPEG TS stream leads to a failed assertion in
 `libavformat/mpegts.c` at `line 1865`: {{{av_assert0(pos >=
 TS_PACKET_SIZE);}}}. This assertion was added in
 https://github.com/FFmpeg/FFmpeg/commit/0f2f65bd583576ef8c12eea6088c84d4468f5804.

 How to reproduce:
 I was able to reproduce using a RTSP stream but unfortunately it's locked
 by my ISP (Free in France). Someone else was able to reproduce with
 another locked stream from another ISP.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2962>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 14 21:17:51 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 19:17:51 -0000
Subject: [FFmpeg-trac] #2962(avformat:new): MPEG TS stream: Failed
 assertion
In-Reply-To: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
References: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
Message-ID: <057.80d46de2227c4830f35e25cc3a49c443@avcodec.org>

#2962: MPEG TS stream: Failed assertion
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  Underground78                      |                   Status:  new
                 Type:  defect       |                Component:  avformat
             Priority:  normal       |               Resolution:
              Version:  git-master   |               Blocked By:
             Keywords:               |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Underground78):

 Note to self: Original ticket: https://trac.mpc-hc.org/ticket/3466

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2962#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 14 22:32:55 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 20:32:55 -0000
Subject: [FFmpeg-trac] #2962(avformat:new): MPEG TS stream: Failed
 assertion
In-Reply-To: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
References: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
Message-ID: <057.a10ecc2151570d39d3ba3d8e945c922f@avcodec.org>

#2962: MPEG TS stream: Failed assertion
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  Underground78                      |                   Status:  new
                 Type:  defect       |                Component:  avformat
             Priority:  important    |               Resolution:
              Version:  git-master   |               Blocked By:
             Keywords:  mpegts       |  Reproduced by developer:  0
  crash abort                        |
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => mpegts crash abort
 * priority:  normal => important


Comment:

 If you cannot provide a sample, please provide a gdb backtrace.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2962#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 00:00:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 22:00:40 -0000
Subject: [FFmpeg-trac] #2962(avformat:new): MPEG TS stream: Failed
 assertion
In-Reply-To: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
References: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
Message-ID: <057.a93802f82a20681e527bb723eea9e866@avcodec.org>

#2962: MPEG TS stream: Failed assertion
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  Underground78                      |                   Status:  new
                 Type:  defect       |                Component:  avformat
             Priority:  important    |               Resolution:
              Version:  git-master   |               Blocked By:
             Keywords:  mpegts       |  Reproduced by developer:  0
  crash abort                        |
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Underground78):

 Here is a package to reproduce the bug on Windows (thanks to Kasper):
 https://dl.dropboxusercontent.com/u/16282309/MPC-HC/rtp.7z.

 1. Run the .bat file
 2. Run ffmpeg -i rtp://127.0.0.1:4444

 You will have to adapt that on Linux but it should be pretty much
 straightforward.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2962#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 01:57:27 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 14 Sep 2013 23:57:27 -0000
Subject: [FFmpeg-trac] #2960(avformat:new): metatag TCMP/Part of a
 compilation
In-Reply-To: <037.5bf6e4403b3abdf1e7e1c152705431f7@avcodec.org>
References: <037.5bf6e4403b3abdf1e7e1c152705431f7@avcodec.org>
Message-ID: <052.822f5cc2fc8e1ba98181eaa3afad04f2@avcodec.org>

#2960: metatag TCMP/Part of a compilation
-------------------------------------+------------------------------------
             Reporter:  Messiahs     |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  id3          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by Messiahs):

 Attachments added

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2960#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 03:46:22 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 01:46:22 -0000
Subject: [FFmpeg-trac] #2952(avcodec:closed): mjpeg: artefacts with
 12bpp grayscale in low quality
In-Reply-To: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>
References: <038.922a561df48ecba9880e2bea190147a9@avcodec.org>
Message-ID: <053.344ea33ed0e073d1c799fc3f925f51ad@avcodec.org>

#2952: mjpeg: artefacts with 12bpp grayscale in low quality
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:  fixed
             Keywords:  mjpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Should be fixed in 529540759f285f251a198b6f55bb8cd451ab28e8

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2952#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 11:00:29 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 09:00:29 -0000
Subject: [FFmpeg-trac] #2960(avformat:new): metatag TCMP/Part of a
 compilation
In-Reply-To: <037.5bf6e4403b3abdf1e7e1c152705431f7@avcodec.org>
References: <037.5bf6e4403b3abdf1e7e1c152705431f7@avcodec.org>
Message-ID: <052.f24a1a4239cc8deea28bec0c83713812@avcodec.org>

#2960: metatag TCMP/Part of a compilation
-------------------------------------+------------------------------------
             Reporter:  Messiahs     |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  id3          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by cehoyos):

 I am not sure if I understand:
 You originally asked for a change when writing id3 tags (or is this
 wrong?) but when I asked for a sample you provided two m4a files that do
 not contain id3 tags afaict.
 What do I miss?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2960#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 12:01:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 10:01:45 -0000
Subject: [FFmpeg-trac]  #2963(trac:new): Enable trac tickets tag cloud
Message-ID: <034.5c75df770e59dcbbdd334b1dee2191e4@avcodec.org>

#2963: Enable trac tickets tag cloud
---------------------------------------+------------------------------
               Reporter:  saste        |                  Owner:
                   Type:  enhancement  |                 Status:  new
               Priority:  wish         |              Component:  trac
                Version:  unspecified  |               Keywords:
             Blocked By:               |               Blocking:
Reproduced by developer:  0            |  Analyzed by developer:  0
---------------------------------------+------------------------------
 I believe there are already available plugins for trac, for example:
 http://trac-hacks.org/wiki/TagsPlugin/TagCloud

 Allowing a tag cloud could be useful to navigate / inspect the tickets.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2963>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 12:43:57 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 10:43:57 -0000
Subject: [FFmpeg-trac] #2960(avformat:new): metatag TCMP/Part of a
 compilation
In-Reply-To: <037.5bf6e4403b3abdf1e7e1c152705431f7@avcodec.org>
References: <037.5bf6e4403b3abdf1e7e1c152705431f7@avcodec.org>
Message-ID: <052.099e9ae23c9b4baacb678bd56b50f79c@avcodec.org>

#2960: metatag TCMP/Part of a compilation
-------------------------------------+------------------------------------
             Reporter:  Messiahs     |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  id3          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by Messiahs):

 You're right.. and when you use "ffprobe TCMP_Yes.m4a" you will get only
 the 'normal' tags.
 When you use e.g. mp3tag, Win 7 or iTunes you will see, that a tag is
 there... but i didn't found it with a hex editor too...

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2960#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 16:42:42 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 14:42:42 -0000
Subject: [FFmpeg-trac] #2922(avcodec:closed): g2m4: crash
In-Reply-To: <038.6a2a6e39667d0eab11ac1e8dbea3c7c7@avcodec.org>
References: <038.6a2a6e39667d0eab11ac1e8dbea3c7c7@avcodec.org>
Message-ID: <053.b9005e32a582db8af97386ee69b7d2bb@avcodec.org>

#2922: g2m4: crash
-------------------------------------+-----------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avcodec
              Version:  unspecified  |               Resolution:  fixed
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by michael):

 * status:  new => closed
 * resolution:   => fixed
 * component:  undetermined => avcodec
 * reproduced:  0 => 1


Comment:

 Fixed in 821a5938d100458f4d09d634041b05c860554ce0

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2922#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 18:35:08 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 16:35:08 -0000
Subject: [FFmpeg-trac] #2963(trac:new): Enable trac tickets tag cloud
In-Reply-To: <034.5c75df770e59dcbbdd334b1dee2191e4@avcodec.org>
References: <034.5c75df770e59dcbbdd334b1dee2191e4@avcodec.org>
Message-ID: <049.8f7c44965847b3741a43a9973157429b@avcodec.org>

#2963: Enable trac tickets tag cloud
-------------------------------------+--------------------------------
             Reporter:  saste        |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  trac
              Version:  unspecified  |               Resolution:
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+--------------------------------

Comment (by beastd):

 Hi,

 I like the idea of showing a tag cloud. It is hard to measure any
 benifits, but
 it should aid exploration of the content contained in our trac.

 Do you wish the tag cloud for the wiki or for the tickets?

 The plugin you linked to seems to support both. As far as I understood it
 adds
 the possibility to tag wiki pages and uses the keywords from the tickets.
 So
 I guess the tag cloud will be for combined generated from wiki tags and
 ticket
 keywords.

 At least using keywords as tags should work out well for our tickets base.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2963#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 19:25:57 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 17:25:57 -0000
Subject: [FFmpeg-trac] #2926(undetermined:closed): g2m4: invalid write 2
In-Reply-To: <038.a07e2b8b90ee8e674b944215084b3765@avcodec.org>
References: <038.a07e2b8b90ee8e674b944215084b3765@avcodec.org>
Message-ID: <053.a6b34ee2b1ac8a74887ab1bd1932537f@avcodec.org>

#2926: g2m4: invalid write 2
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:  duplicate
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  new => closed
 * resolution:   => duplicate
 * reproduced:  0 => 1


Comment:

 Duplicate of #2922

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2926#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 20:37:59 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 18:37:59 -0000
Subject: [FFmpeg-trac] #2934(undetermined:closed): c93: invalid read
In-Reply-To: <038.dde88e459da2af73de0007db663f79d9@avcodec.org>
References: <038.dde88e459da2af73de0007db663f79d9@avcodec.org>
Message-ID: <053.7d50557543f11a21f9c9de30a2beddd9@avcodec.org>

#2934: c93: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  c93          |               Resolution:  fixed
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  new => closed
 * resolution:   => fixed
 * reproduced:  0 => 1


Comment:

 Fixed in 4f1a17b1a965764b6c3ec61f28ba0572a7e02faa

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2934#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 20:52:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 18:52:50 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.6b22d0d22086ae7916f746f44e847ef0@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 I'll finish the test soon(16/20, 80%). What should be the next opponents
 in the next blind listening test including the newer patch? I'm thinking
 of...

 - current git head with no patch, abr
 - next patch, abr
 - next patch, vbr
 - fdk-aac, abr

 and possibly...
 - libopus, vbr
 - libmp3lame, vbr

 Do you have any idea?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:150>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 21:36:36 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 19:36:36 -0000
Subject: [FFmpeg-trac] #2964(FFmpeg:new): q does not work when redirecting
 stderr
Message-ID: <036.00124aaab795140c37617ebdd29d247b@avcodec.org>

#2964: q does not work when redirecting stderr
--------------------------------------+------------------------------------
               Reporter:  cehoyos     |                  Owner:
                   Type:  defect      |                 Status:  new
               Priority:  important   |              Component:  FFmpeg
                Version:  git-master  |               Keywords:  regression
             Blocked By:              |               Blocking:
Reproduced by developer:  0           |  Analyzed by developer:  0
--------------------------------------+------------------------------------
 http://thread.gmane.org/gmane.comp.video.ffmpeg.user/47907
 The following command cannot be quit with "q" since c8a1101:
 {{{
 $ ffmpeg -f lavfi -i testsrc -f null - 2>/dev/null
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2964>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 15 23:43:06 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 21:43:06 -0000
Subject: [FFmpeg-trac] #894(avcodec:closed): ljpeg: fix losslesss
 prediction 0 for 24bpp (and 48bpp)
In-Reply-To: <038.afa1e3ee28df957d2956558cfdbda33c@avcodec.org>
References: <038.afa1e3ee28df957d2956558cfdbda33c@avcodec.org>
Message-ID: <053.5278f67e8391a503b44a2eda43d40f1c@avcodec.org>

#894: ljpeg: fix losslesss prediction 0 for 24bpp (and 48bpp)
-------------------------------------+-----------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  mjpeg ljpeg  |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by michael):

 * status:  reopened => closed
 * resolution:   => fixed


Comment:

 Fixed in b4a5fcb9988ce7cbe0a16f8f81a06a081db0973e

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/894#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 00:09:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 22:09:25 -0000
Subject: [FFmpeg-trac]  #2965(undetermined:new): ljpeg: support 64bpp rgba
Message-ID: <038.8d2b158058de18fe9484d0426723516a@avcodec.org>

#2965: ljpeg: support 64bpp rgba
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://www1.datafilehost.com/d/3475e370

 {{{
 C:\>ffmpeg -i 64bpp_rgba_lossless.jpg out.bmp
 ffmpeg version N-56277-g2fcef19 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 15 2013 02:23:39 with gcc 4.5.0 (GCC) 20100414 (Fedora
 MinGW 4.5.
 0-1.fc14)
   configuration: --prefix=/var/www/users/research/ffmpeg/snapshots/build
 --arch=
 x86 --target-os=mingw32 --cross-prefix=i686-pc-mingw32- --cc='ccache i686
 -pc-min
 gw32-gcc' --enable-pthreads --enable-memalign-hack --enable-runtime-
 cpudetect --
 enable-cross-compile --enable-static --disable-shared --extra-
 libs='-lws2_32 -lw
 inmm -lpthread' --extra-cflags='--static
 -I/var/www/users/research/ffmpeg/snapsh
 ots/build/include' --extra-ldflags='-static
 -L/var/www/users/research/ffmpeg/sna
 pshots/build/lib' --enable-bzlib --enable-zlib --enable-gpl --enable-
 version3 --
 enable-nonfree --enable-libx264 --enable-libspeex --enable-libtheora
 --enable-li
 bvorbis --enable-libfaac --enable-libxvid --enable-libopencore-amrnb
 --enable-li
 bopencore-amrwb --enable-libmp3lame --enable-libfreetype --enable-libvpx
 --disab
 le-decoder=libvpx
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [image2 @ 0x205fa40] Stream #0: not enough frames to estimate rate;
 consider inc
 reasing probesize
 Input #0, image2, from '64bpp_rgba_lossless.jpg':
   Duration: 00:00:00.04, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: mjpeg, abgr, 1200x1200, 25 tbr, 25 tbn, 25 tbc
 Output #0, image2, to 'out.bmp':
   Metadata:
     encoder         : Lavf55.16.102
     Stream #0:0: Video: bmp, bgra, 1200x1200, q=2-31, 200 kb/s, 90k tbn,
 25 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (mjpeg -> bmp)
 Press [q] to stop, [?] for help
 frame=    1 fps=0.0 q=-1.0 Lsize=N/A time=00:00:00.04 bitrate=N/A
 video:5625kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 -100.000382
 %
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2965>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 00:13:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 22:13:32 -0000
Subject: [FFmpeg-trac]  #2966(undetermined:new): ljpeg: support 36bpp rgb
Message-ID: <038.80be16b21994703081863c80a843ac47@avcodec.org>

#2966: ljpeg: support 36bpp rgb
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 that's the last mode supported by "My ViewPad" program for lossless jpeg

 http://www1.datafilehost.com/d/a2822f88

 {{{
 C:\>ffmpeg -i 36bpp_rgb_lossless.jpg out.bmp
 ffmpeg version N-56277-g2fcef19 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 15 2013 02:23:39 with gcc 4.5.0 (GCC) 20100414 (Fedora
 MinGW 4.5.
 0-1.fc14)
   configuration: --prefix=/var/www/users/research/ffmpeg/snapshots/build
 --arch=
 x86 --target-os=mingw32 --cross-prefix=i686-pc-mingw32- --cc='ccache i686
 -pc-min
 gw32-gcc' --enable-pthreads --enable-memalign-hack --enable-runtime-
 cpudetect --
 enable-cross-compile --enable-static --disable-shared --extra-
 libs='-lws2_32 -lw
 inmm -lpthread' --extra-cflags='--static
 -I/var/www/users/research/ffmpeg/snapsh
 ots/build/include' --extra-ldflags='-static
 -L/var/www/users/research/ffmpeg/sna
 pshots/build/lib' --enable-bzlib --enable-zlib --enable-gpl --enable-
 version3 --
 enable-nonfree --enable-libx264 --enable-libspeex --enable-libtheora
 --enable-li
 bvorbis --enable-libfaac --enable-libxvid --enable-libopencore-amrnb
 --enable-li
 bopencore-amrwb --enable-libmp3lame --enable-libfreetype --enable-libvpx
 --disab
 le-decoder=libvpx
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [image2 @ 0x205fa40] Stream #0: not enough frames to estimate rate;
 consider inc
 reasing probesize
 Input #0, image2, from '36bpp_rgb_lossless.jpg':
   Duration: 00:00:00.04, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: mjpeg, bgr24, 1200x1200, 25 tbr, 25 tbn, 25 tbc
 Output #0, image2, to 'out.bmp':
   Metadata:
     encoder         : Lavf55.16.102
     Stream #0:0: Video: bmp, bgr24, 1200x1200, q=2-31, 200 kb/s, 90k tbn,
 25 tbc

 Stream mapping:
   Stream #0:0 -> #0:0 (mjpeg -> bmp)
 Press [q] to stop, [?] for help
 frame=    1 fps=0.0 q=-1.0 Lsize=N/A time=00:00:00.04 bitrate=N/A
 video:4219kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 -100.000509
 %
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2966>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 00:17:18 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 22:17:18 -0000
Subject: [FFmpeg-trac] #2962(avformat:open): MPEG TS stream: Failed
 assertion
In-Reply-To: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
References: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
Message-ID: <057.02f957c4349286d5d1e974aa27146941@avcodec.org>

#2962: MPEG TS stream: Failed assertion
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  Underground78                      |                   Status:  open
                 Type:  defect       |                Component:  avformat
             Priority:  important    |               Resolution:
              Version:  git-master   |               Blocked By:
             Keywords:  mpegts       |  Reproduced by developer:  1
  crash abort regression             |
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  mpegts crash abort => mpegts crash abort regression
 * status:  new => open
 * reproduced:  0 => 1


Comment:

 {{{
 (gdb) r -i rtp://127.0.0.1:4444
 Starting program: /home/cehoyos/test/cehoyos/FFmpeg/ffmpeg_g -i
 rtp://127.0.0.1:4444
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib64/libthread_db.so.1".
 ffmpeg version N-56297-g7ac6c63 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 15 2013 23:50:37 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Assertion pos >= 188 failed at libavformat/mpegts.c:1865

 Program received signal SIGABRT, Aborted.
 0x00007ffff6048d25 in raise () from /lib64/libc.so.6
 (gdb) bt
 #0  0x00007ffff6048d25 in raise () from /lib64/libc.so.6
 #1  0x00007ffff604a1a8 in abort () from /lib64/libc.so.6
 #2  0x0000000000561755 in handle_packet (ts=ts at entry=0x16f0360,
     packet=packet at entry=0x17249a8 "G at D\033") at libavformat/mpegts.c:1865
 #3  0x0000000000565aff in ff_mpegts_parse_packet (ts=0x16f0360,
 pkt=<optimized out>,
     buf=0x17249a8 "G at D\033", buf at entry=0x17248ec "G", len=1128,
 len at entry=1316)
     at libavformat/mpegts.c:2413
 #4  0x000000000059efb4 in mpegts_handle_packet (ctx=<optimized out>,
 data=0x16ee320,
     st=<optimized out>, pkt=<optimized out>, timestamp=<optimized out>,
 buf=0x17248ec "G",
     len=1316, seq=58721, flags=2) at libavformat/rtpdec_mpegts.c:86
 #5  0x000000000059952c in rtp_parse_packet_internal (s=s at entry=0x16ea1e0,
     pkt=pkt at entry=0x7fffffffd190, buf=0x17248ec "G", buf at entry=0x17248e0
 "\200\241\345a",
     len=1316, len at entry=1328) at libavformat/rtpdec.c:638
 #6  0x000000000059a6e1 in rtp_parse_one_packet (len=1328,
 bufptr=<optimized out>,
     pkt=0x7fffffffd190, s=0x16ea1e0) at libavformat/rtpdec.c:785
 #7  ff_rtp_parse_packet (s=0x16ea1e0, pkt=pkt at entry=0x7fffffffd190,
     bufptr=bufptr at entry=0x16e9cc0, len=len at entry=1328) at
 libavformat/rtpdec.c:815
 #8  0x00000000005aa43b in ff_rtsp_fetch_packet (s=0x16e8080,
 pkt=0x7fffffffd190)
     at libavformat/rtsp.c:2034
 #9  0x00000000005ca312 in ff_read_packet (s=s at entry=0x16e8080,
 pkt=pkt at entry=0x7fffffffd190)
     at libavformat/utils.c:651
 #10 0x00000000005cc230 in read_frame_internal (s=s at entry=0x16e8080,
     pkt=pkt at entry=0x7fffffffd3b0) at libavformat/utils.c:1307
 #11 0x00000000005cf71f in avformat_find_stream_info (ic=0x16e8080,
 options=0x0)
     at libavformat/utils.c:2791
 #12 0x0000000000460acb in open_input_file (o=o at entry=0x7fffffffd700,
     filename=<optimized out>) at ffmpeg_opt.c:809
 #13 0x000000000045f5b4 in open_files (inout=inout at entry=0xc9975f "input",
     open_file=open_file at entry=0x4606f0 <open_input_file>, l=<optimized
 out>,
     l=<optimized out>) at ffmpeg_opt.c:2494
 #14 0x0000000000466909 in ffmpeg_parse_options (argc=argc at entry=3,
     argv=argv at entry=0x7fffffffdd98) at ffmpeg_opt.c:2531
 #15 0x000000000045d198 in main (argc=3, argv=0x7fffffffdd98) at
 ffmpeg.c:3393
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2962#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 00:22:27 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 22:22:27 -0000
Subject: [FFmpeg-trac] #2965(avcodec:open): ljpeg: support 64bpp rgba
In-Reply-To: <038.8d2b158058de18fe9484d0426723516a@avcodec.org>
References: <038.8d2b158058de18fe9484d0426723516a@avcodec.org>
Message-ID: <053.c3b2c423cf6fdbac1600961c413dd632@avcodec.org>

#2965: ljpeg: support 64bpp rgba
-------------------------------------+-----------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  ljpeg mjpeg  |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by cehoyos):

 * keywords:   => ljpeg mjpeg
 * status:  new => open
 * version:  unspecified => git-master
 * component:  undetermined => avcodec
 * reproduced:  0 => 1


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2965#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 00:25:19 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 22:25:19 -0000
Subject: [FFmpeg-trac] #2966(avcodec:open): ljpeg: support 36bpp rgb
In-Reply-To: <038.80be16b21994703081863c80a843ac47@avcodec.org>
References: <038.80be16b21994703081863c80a843ac47@avcodec.org>
Message-ID: <053.009a8e6c62c7ff239b354783382c557b@avcodec.org>

#2966: ljpeg: support 36bpp rgb
-------------------------------------+-----------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  ljpeg mjpeg  |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by cehoyos):

 * keywords:   => ljpeg mjpeg
 * status:  new => open
 * version:  unspecified => git-master
 * component:  undetermined => avcodec
 * reproduced:  0 => 1


Comment:

 {{{
 $ ffmpeg -i 36bpp_rgb_lossless.jpg
 ffmpeg version N-56297-g7ac6c63 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 15 2013 23:50:37 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [image2 @ 0x2b3f080] Stream #0: not enough frames to estimate rate;
 consider increasing probesize
 Input #0, image2, from '36bpp_rgb_lossless.jpg':
   Duration: 00:00:00.04, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: mjpeg, bgr48le(12 bpc), 1200x1200, 25 tbr, 25 tbn,
 25 tbc
 At least one output file must be specified
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2966#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 00:36:11 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 15 Sep 2013 22:36:11 -0000
Subject: [FFmpeg-trac] #2962(avformat:open): MPEG TS stream: Failed
 assertion
In-Reply-To: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
References: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
Message-ID: <057.38d10e168ce426b11c487f1047b4c1e3@avcodec.org>

#2962: MPEG TS stream: Failed assertion
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  Underground78                      |                   Status:  open
                 Type:  defect       |                Component:  avformat
             Priority:  important    |               Resolution:
              Version:  git-master   |               Blocked By:
             Keywords:  mpegts       |  Reproduced by developer:  1
  crash abort regression             |
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Command lines to reproduce the problem:
 {{{
 $ ffmpeg -f lavfi -i testsrc stream.ts

 ...

 $ vlc stream.ts
 --sout="#rtp{dst=127.0.0.1,port=4444,sdp=rtsp://127.0.0.1:9080/test.sdp,
 mux=ts}" --loop
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2962#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 02:56:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 00:56:49 -0000
Subject: [FFmpeg-trac] #2967(undetermined:new): mjpeg enc: ljpeg output is
 incompatible with other programs
Message-ID: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>

#2967: mjpeg enc: ljpeg output is incompatible with other programs
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 I have tried to load the output file from FFmpeg to "My ViewPad" and
 "PicTools Apollo", but these programs rejected the file as broken.

 {{{
 C:\>ffmpeg -i 1.bmp -vcodec ljpeg ffmpeg.jpg
 ffmpeg version N-56198-gbbcaf25 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 11 2013 19:06:31 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-version3 --disable-w32threads
 --enable-av
 isynth --enable-bzlib --enable-fontconfig --enable-frei0r --enable-gnutls
 --enab
 le-iconv --enable-libass --enable-libbluray --enable-libcaca --enable-
 libfreetyp
 e --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmp3lame
 --ena
 ble-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
 --enable-l
 ibopus --enable-librtmp --enable-libschroedinger --enable-libsoxr
 --enable-libsp
 eex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-
 libvo-aa
 cenc --enable-libvo-amrwbenc --enable-libvorbis --enable-libvpx --enable-
 libx264
  --enable-libxavs --enable-libxvid --enable-zlib
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, image2, from '1.bmp':
   Duration: 00:00:00.04, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: bmp, bgr24, 320x240, 25 tbr, 25 tbn, 25 tbc
 Output #0, image2, to 'ffmpeg.jpg':
   Metadata:
     encoder         : Lavf55.16.102
     Stream #0:0: Video: ljpeg, bgr24, 320x240, q=2-31, 200 kb/s, 90k tbn,
 25 tbc

 Stream mapping:
   Stream #0:0 -> #0:0 (bmp -> ljpeg)
 Press [q] to stop, [?] for help
 frame=    1 fps=0.0 q=0.0 Lsize=N/A time=00:00:00.04 bitrate=N/A
 video:126kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 -100.017076%
 }}}


 jpegdump outputs this:


 {{{
 C:\>JPEGDUMP.EXE C:\apollo.jpg

 C:\apollo.jpg:
   width 320, height 240  components 3
     id 1 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 2 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 3 horizontal sampling 1, vertical sampling 1, quantization table 0

 C:\>JPEGDUMP.EXE C:\myvp.jpg

 C:\myvp.jpg:
   width 320, height 240  components 3
     id 82 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 71 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 66 horizontal sampling 1, vertical sampling 1, quantization table 0

 C:\>JPEGDUMP.EXE C:\ffmpeg.jpg

 C:\ffmpeg.jpg:
   Approximate quality factor for qtable 0: 61 (scale 77.31, var 1710.91)
   width 320, height 240  components 3
     id 1 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 2 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 3 horizontal sampling 1, vertical sampling 1, quantization table 0
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2967>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 03:12:58 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 01:12:58 -0000
Subject: [FFmpeg-trac] #2965(avcodec:closed): ljpeg: support 64bpp rgba
In-Reply-To: <038.8d2b158058de18fe9484d0426723516a@avcodec.org>
References: <038.8d2b158058de18fe9484d0426723516a@avcodec.org>
Message-ID: <053.a2d62739fcc6f952d9743e468d6718c0@avcodec.org>

#2965: ljpeg: support 64bpp rgba
-------------------------------------+-----------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  ljpeg mjpeg  |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in 1e4e0bd907ebf4e69af84276f789f304f52a280f and
 7fb2622456b9c43b96b2a1e64a3aeb13281ce3de

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2965#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 09:56:47 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 07:56:47 -0000
Subject: [FFmpeg-trac] #2967(avcodec:new): mjpeg enc: ljpeg output is
 incompatible with other programs
In-Reply-To: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
References: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
Message-ID: <053.c49c2894f87b972663f677f7655d0e3b@avcodec.org>

#2967: mjpeg enc: ljpeg output is incompatible with other programs
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  ljpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by cehoyos):

 * keywords:   => ljpeg
 * version:  unspecified => git-master
 * component:  undetermined => avcodec


Comment:

 Do they show the output of the following command (bgr vs rgb)?
 {{{
 $ ffmpeg -i tests/lena.pnm -vcodec ljpeg out.jpg
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2967#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 10:11:20 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 08:11:20 -0000
Subject: [FFmpeg-trac] #2627(undetermined:new): Using -vf fps results in
 no audio
In-Reply-To: <038.0e5a0dbd1df19ef6966535a7fca24614@avcodec.org>
References: <038.0e5a0dbd1df19ef6966535a7fca24614@avcodec.org>
Message-ID: <053.3f74c24fbf980a4ae31ebc58d3a78d4f@avcodec.org>

#2627: Using -vf fps results in no audio
-------------------------------------+-------------------------------------
             Reporter:  microchip    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  mpegps       |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => mpegps
 * component:  FFmpeg => undetermined


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2627#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 10:16:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 08:16:32 -0000
Subject: [FFmpeg-trac] #2936(avformat:open): %-syntax for GIF output is
 not respected, can't write individual frames as images
In-Reply-To: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
References: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
Message-ID: <049.f580281fee5cd5f2152a6a397b003c84@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
-------------------------------------+-------------------------------------
             Reporter:  slhck        |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  gif          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  gif => gif regression
 * priority:  normal => important


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 10:24:56 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 08:24:56 -0000
Subject: [FFmpeg-trac] #2927(undetermined:open): h264: deadlock with
 fuzzed file (when threads > 1)
In-Reply-To: <038.94b57978d6de8239025d885ea0a019f9@avcodec.org>
References: <038.94b57978d6de8239025d885ea0a019f9@avcodec.org>
Message-ID: <053.76cdd753ee9ba9bd5fc753d20afe0a7d@avcodec.org>

#2927: h264: deadlock with fuzzed file (when threads > 1)
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  regression   |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => regression
 * priority:  normal => important
 * version:  unspecified => git-master
 * status:  new => open
 * reproduced:  0 => 1


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2927#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 10:35:05 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 08:35:05 -0000
Subject: [FFmpeg-trac] #2936(avformat:open): %-syntax for GIF output is
 not respected, can't write individual frames as images
In-Reply-To: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
References: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
Message-ID: <049.0fb56b111227c780dbb534ebbb75ccde@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
-------------------------------------+-------------------------------------
             Reporter:  slhck        |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  gif          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by ubitux):

 I don't really agree with the "regression" part. It's a desired behaviour
 change. Of course, we can re-add the old behaviour optionally.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936#comment:9>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 10:43:19 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 08:43:19 -0000
Subject: [FFmpeg-trac] #2936(avformat:open): %-syntax for GIF output is
 not respected, can't write individual frames as images
In-Reply-To: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
References: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
Message-ID: <049.0109e0b4a3358e8767ef2094577af44a@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
-------------------------------------+-------------------------------------
             Reporter:  slhck        |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  gif          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Iiuc, a command line that used to work (and at least made sense to some
 degree) and did not produce an invalid file (contrary to tickets #2452 vs
 #2684) does not work anymore, I suspect this is how we define a
 regression, especially since reading the communication here in the ticket
 it appears that this wasn't known.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936#comment:10>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 10:54:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 08:54:49 -0000
Subject: [FFmpeg-trac] #2936(avformat:open): %-syntax for GIF output is
 not respected, can't write individual frames as images
In-Reply-To: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
References: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
Message-ID: <049.6e43a52e46b6d8c9ff1a276969b3d6f5@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
-------------------------------------+-------------------------------------
             Reporter:  slhck        |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  gif          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by ubitux):

 Replying to [comment:10 cehoyos]:
 > Iiuc, a command line that used to work (and at least made sense to some
 degree) and did not produce an invalid file (contrary to tickets #2452 vs
 #2684) does not work anymore, I suspect this is how we define a
 regression, especially since reading the communication here in the ticket
 it appears that this wasn't known.

 I wonder how it really makes sense honestly... Why would you choose GIF to
 extract the frames? I mean, you could use PNG or even JPEG which are way
 more relevant. The main benefit of GIF is that it's being animated; it's
 compression and limitations really sucks. So my point was that I don't
 like the word "regression" for a changement of behaviour (at least I)
 wanted.

 Note that I didn't remove the keyword and don't plan to, but that sounds
 like overreacting... It reminds me of http://xkcd.com/1172/.

 Now speaking of fixing the issue, I suggest we make the image2 muxer able
 to mux GIF, basically dupping some code found in the GIF muxer (or
 duplicate the image2 muxer features into the GIF muxer, but that it likely
 more complex).

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936#comment:11>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 11:01:46 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 09:01:46 -0000
Subject: [FFmpeg-trac] #2936(avformat:open): %-syntax for GIF output is
 not respected, can't write individual frames as images
In-Reply-To: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
References: <034.c28d8e4c817fbf86749dd8b9d27f85b0@avcodec.org>
Message-ID: <049.bf1f68a39560d3e66fe8e980ebe1d4e8@avcodec.org>

#2936: %-syntax for GIF output is not respected, can't write individual frames as
images
-------------------------------------+-------------------------------------
             Reporter:  slhck        |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  gif          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by Cigaes):

 GIF is much simpler than PNG, and for simple images (such as pixel-art
 icons) requires smaller files than PNG (316 ? 206 octets for a 33?33
 4-colors icon I just tried). I believe that can make it useful / necessary
 in a few cases. It is a matter of cost/benefit.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2936#comment:12>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 11:18:37 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 09:18:37 -0000
Subject: [FFmpeg-trac] #2967(avcodec:new): mjpeg enc: ljpeg output is
 incompatible with other programs
In-Reply-To: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
References: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
Message-ID: <053.609dc97074d22e4da9df34d81b0b2614@avcodec.org>

#2967: mjpeg enc: ljpeg output is incompatible with other programs
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  ljpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by richardpl):

 How are you sure they actually support lossless jpeg?

 You cannot give jpg extension to ljpg file.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2967#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 11:22:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 09:22:49 -0000
Subject: [FFmpeg-trac] #2967(avcodec:new): mjpeg enc: ljpeg output is
 incompatible with other programs
In-Reply-To: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
References: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
Message-ID: <053.5cc320786b1f2986f39bfad5737001af@avcodec.org>

#2967: mjpeg enc: ljpeg output is incompatible with other programs
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  ljpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by cehoyos):

 Replying to [comment:2 richardpl]:
 > How are you sure they actually support lossless jpeg?

 Did you test the attached files?

 > You cannot give jpg extension to ljpg file.

 As in: You cannot give abc extension to an avi file?
 (And I actually suspect that "ljpg" is to some degree FFmpeg-specific but
 this is of course irrelevant.)

 Sorry, your comment is very difficult to understand...

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2967#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 12:21:09 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 10:21:09 -0000
Subject: [FFmpeg-trac] #2967(avcodec:new): mjpeg enc: ljpeg output is
 incompatible with other programs
In-Reply-To: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
References: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
Message-ID: <053.79cac35ff6f34204af7fd82c4c4ebfe6@avcodec.org>

#2967: mjpeg enc: ljpeg output is incompatible with other programs
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  ljpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by ami_stuff):

 Replying to [comment:1 cehoyos]:
 > Do they show the output of the following command (bgr vs rgb)?
 > {{{
 > $ ffmpeg -i tests/lena.pnm -vcodec ljpeg out.jpg
 > }}}

 No, I still get from My ViewPad "Load error with code 'Bad image file'"
 and from Apollo 'ERR_BAD_DATA'"

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2967#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 15:57:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 13:57:25 -0000
Subject: [FFmpeg-trac] #2963(trac:new): Enable trac tickets tag cloud
In-Reply-To: <034.5c75df770e59dcbbdd334b1dee2191e4@avcodec.org>
References: <034.5c75df770e59dcbbdd334b1dee2191e4@avcodec.org>
Message-ID: <049.441ef70f6a21e81a5b649687e683e5d5@avcodec.org>

#2963: Enable trac tickets tag cloud
-------------------------------------+--------------------------------
             Reporter:  saste        |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  trac
              Version:  unspecified  |               Resolution:
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+--------------------------------

Comment (by saste):

 Replying to [comment:1 beastd]:
 > Hi,
 >
 > I like the idea of showing a tag cloud. It is hard to measure any
 benifits, but
 > it should aid exploration of the content contained in our trac.
 >

 > Do you wish the tag cloud for the wiki or for the tickets?

 I believe they should stay separate, since they have different kind of
 users (developers navigating tickets vs. users navigating docs). As I'm a
 developer, I'm mostly interested in ticket tags.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2963#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 16:12:13 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 14:12:13 -0000
Subject: [FFmpeg-trac] #2673(undetermined:closed): Does MPEG1 support
 subtitle?
In-Reply-To: <034.d2537d611f86d4551ef2fb0953c8d6d4@avcodec.org>
References: <034.d2537d611f86d4551ef2fb0953c8d6d4@avcodec.org>
Message-ID: <049.c41f12c2cc11bb7b4a959130fd58b3b5@avcodec.org>

#2673: Does MPEG1 support subtitle?
-------------------------------------+-------------------------------------
             Reporter:  guest        |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |  needs_more_info
Analyzed by developer:  0            |               Blocked By:
                                     |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => closed
 * type:  enhancement => defect
 * resolution:   => needs_more_info


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2673#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 16:13:24 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 14:13:24 -0000
Subject: [FFmpeg-trac] #2669(undetermined:closed): Time or timestamp
 wrong in output file
In-Reply-To: <034.8872b805b7e3248c16228551fdc6f8ff@avcodec.org>
References: <034.8872b805b7e3248c16228551fdc6f8ff@avcodec.org>
Message-ID: <049.20d3dc6569d10d681c0e52467d96f341@avcodec.org>

#2669: Time or timestamp wrong in output file
-------------------------------------+-------------------------------------
             Reporter:  guest        |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |  needs_more_info
Analyzed by developer:  0            |               Blocked By:
                                     |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => closed
 * resolution:   => needs_more_info


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2669#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 16 16:15:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 14:15:49 -0000
Subject: [FFmpeg-trac] #2660(undetermined:closed): non monotonically
 increasing
In-Reply-To: <038.e5424e10c4796be92d256d8ccb70f3fd@avcodec.org>
References: <038.e5424e10c4796be92d256d8ccb70f3fd@avcodec.org>
Message-ID: <053.31bac7dbe30db985b1a0b39d6cfd9527@avcodec.org>

#2660: non monotonically increasing
-------------------------------------+-------------------------------------
             Reporter:  passtschu    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |  needs_more_info
Analyzed by developer:  0            |               Blocked By:
                                     |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => closed
 * resolution:   => needs_more_info


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2660#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 00:54:20 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 22:54:20 -0000
Subject: [FFmpeg-trac] #2904(FFplay:open): ffplay: png apic doesn't
 display anymore
In-Reply-To: <038.fcdef36b9adffd31f82652fa36243aa1@avcodec.org>
References: <038.fcdef36b9adffd31f82652fa36243aa1@avcodec.org>
Message-ID: <053.850d2c1f892df1228e0d414e2875a997@avcodec.org>

#2904: ffplay: png apic doesn't display anymore
----------------------------------------+----------------------------------
             Reporter:  ami_stuff       |                    Owner:  cus
                 Type:  defect          |                   Status:  open
             Priority:  important       |                Component:  FFplay
              Version:  git-master      |               Resolution:
             Keywords:  png regression  |               Blocked By:
             Blocking:                  |  Reproduced by developer:  1
Analyzed by developer:  0               |
----------------------------------------+----------------------------------
Changes (by cehoyos):

 * analyzed:  1 => 0
 * keywords:   => png regression
 * priority:  normal => important


Comment:

 Regression since 6e64323.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2904#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 01:35:37 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 16 Sep 2013 23:35:37 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.2da9b6fc9592455443e4d73c07717f7d@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Replying to [comment:150 Kamedo2]:
 > and possibly...
 > - libopus, vbr
 > - libmp3lame, vbr
 >
 > Do you have any idea?

 If you have time, it would be interesting to compare to the quality of
 other FFmpeg audio encoders, ie ac3, eac3 and mp2.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:151>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 04:10:08 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 02:10:08 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.beebfbad5b99f9d03e6e797fd3c168e9@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 Replying to [comment:151 cehoyos]:
 > If you have time, it would be interesting to compare to the quality of
 other FFmpeg audio encoders, ie ac3, eac3 and mp2.
 It may be wrong, but I guess the ac3 is the most used variant. The bitrate
 will be around 128kbps, so the extremely high bitrate of eac3 will not fit
 the frame, I think. Are there some important use of eac3 and mp2, other
 than the BD and VCD encoding? (For BD the space is huge and quality at
 lower bitrate is insignificant.)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:152>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 06:12:52 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 04:12:52 -0000
Subject: [FFmpeg-trac] #2953(FFmpeg:new): FFmpeg hangs while conversion
 video using libx264
In-Reply-To: <040.29f4ed1d31f70196cc13584a9c94cc14@avcodec.org>
References: <040.29f4ed1d31f70196cc13584a9c94cc14@avcodec.org>
Message-ID: <055.ce46a4a26bcebb0349cb5d9d936cebab@avcodec.org>

#2953: FFmpeg hangs while conversion video using libx264
-------------------------------------+----------------------------------
             Reporter:  gerrysingh7  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  FFmpeg
              Version:  unspecified  |               Resolution:
             Keywords:  libx264      |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+----------------------------------

Comment (by gerrysingh7):

 HI ,


 I ran the commands with -an and without scale filter. both stalled at
 around 30 mins below is out put log snippet for command without -an

 /
 frame=54314 fps=168 q=36.0 size=  108790kB time=00:30:10.30 bitrate=
 492.3kbits/
 frame=54364 fps=162 q=36.0 size=  108941kB time=00:30:11.97 bitrate=
 492.5kbits/
 frame=54466 fps=162 q=36.0 size=  109232kB time=00:30:15.38 bitrate=
 492.9kbits/
 frame=54572 fps=162 q=36.0 size=  109475kB time=00:30:18.91 bitrate=
 493.1kbits/
 frame=54696 fps=162 q=36.0 size=  109745kB time=00:30:23.05 bitrate=
 493.1kbits/
 frame=54845 fps=162 q=36.0 size=  109940kB time=00:30:28.02 bitrate=
 492.7kbits/
 frame=54978 fps=162 q=36.0 size=  110152kB time=00:30:32.46 bitrate=
 492.4kbits/
 frame=55117 fps=163 q=36.0 size=  110367kB time=00:30:37.10 bitrate=
 492.1kbits/
 frame=55206 fps=156 q=36.0 size=  110558kB time=00:30:40.07 bitrate=
 492.2kbits/


 Out put log for command without scale filter
 3kbits/
 frame=92945 fps=237 q=35.0 size=  233564kB time=00:51:39.29 bitrate=
 617.4kbits/
 frame=93076 fps=237 q=35.0 size=  233864kB time=00:51:43.66 bitrate=
 617.3kbits/
 frame=93208 fps=237 q=35.0 size=  234229kB time=00:51:48.07 bitrate=
 617.4kbits/
 frame=93339 fps=237 q=35.0 size=  234558kB time=00:51:52.44 bitrate=
 617.4kbits/
 frame=93473 fps=237 q=35.0 size=  234923kB time=00:51:56.91 bitrate=
 617.4kbits/
 frame=93603 fps=237 q=35.0 size=  235247kB time=00:52:01.25 bitrate=
 617.4kbits/
 frame=93728 fps=237 q=35.0 size=  235606kB time=00:52:05.42 bitrate=
 617.5kbits/
 frame=93851 fps=237 q=35.0 size=  235943kB time=00:52:09.52 bitrate=
 617.6kbits/
 frame=93990 fps=237 q=35.0 size=  236269kB time=00:52:14.16 bitrate=
 617.6kbits/
 frame=94132 fps=237 q=35.0 size=  236594kB time=00:52:18.90 bitrate=
 617.5kbits/
 frame=94267 fps=237 q=35.0 size=  236880kB time=00:52:23.40 bitrate=
 617.3kbits/
 frame=94398 fps=237 q=35.0 size=  237214kB time=00:52:27.77 bitrate=
 617.3kbits/
 frame=94447 fps=232 q=35.0 size=  237330kB time=00:52:29.41 bitrate=
 617.3kbits/

 for more then 10 min there is nothing no out put.

 Let me know what else i can do to pint point hte problem.

 sample file is pretty big like 600 mb.

 waiting to hear from you soon.

 thanks
 gerry

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2953#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 09:37:06 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 07:37:06 -0000
Subject: [FFmpeg-trac] #2877(undetermined:new): Unable to rewind/seek a
 mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.6a2b1ce05ebb165242a9b5adbaf3ded3@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  av_seek_frame => seek
 * component:  avutil => undetermined


Comment:

 Is the problem reproducible with {{{ffmpeg}}} (the application)?
 If it is, please provide the failing command line together with the
 complete, uncut console output and provide the input sample.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 10:25:12 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 08:25:12 -0000
Subject: [FFmpeg-trac] #2953(FFmpeg:new): FFmpeg hangs while conversion
 video using libx264
In-Reply-To: <040.29f4ed1d31f70196cc13584a9c94cc14@avcodec.org>
References: <040.29f4ed1d31f70196cc13584a9c94cc14@avcodec.org>
Message-ID: <055.6cca92552ac9782ca17d7393b4dd58ae@avcodec.org>

#2953: FFmpeg hangs while conversion video using libx264
-------------------------------------+----------------------------------
             Reporter:  gerrysingh7  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  FFmpeg
              Version:  unspecified  |               Resolution:
             Keywords:  libx264      |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+----------------------------------

Comment (by cehoyos):

 Is a specific input sample required to reproduce the hang, or does it also
 hang if you use {{{ffmpeg -f lavfi -i testsrc}}} as input?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2953#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 10:31:29 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 08:31:29 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.ecfe661bea6fdfbb2cd5fdd52c2533ae@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Replying to [comment:152 Kamedo2]:
 > Replying to [comment:151 cehoyos]:
 > > If you have time, it would be interesting to compare to the quality of
 other FFmpeg audio encoders, ie ac3, eac3 and mp2.
 > It may be wrong, but I guess the ac3 is the most used variant. The
 bitrate will be around 128kbps, so the extremely high bitrate of eac3 will
 not fit the frame,

 I am not sure I understand you.
 Afaik, nobody ever made a listening test using different internal FFmpeg
 encoders (not even a very cursory one). It would be interesting to know
 that "96kb eac3 ~ 128 kb ac3 ~ 128kb aac ~ 256kb mp2" (I assume this isn't
 the case, just as an example). Even if done with much less effort than
 your above tests (if you just mention your impression of each encoder
 after a few tests), I believe this would be interesting information.
 It was sometimes claimed that the wma encoders produce abysmal quality, so
 your comment on them (possibly with higher bitrates) would also be
 welcome.

 > I think. Are there some important use of eac3 and mp2, other than the BD
 and VCD encoding? (For BD the space is huge and quality at lower bitrate
 is insignificant.)

 I believe that ac3 is a very important codec (WMP plays it out-of-the-box
 in different containers), knowing if eac3 beats it would be interesting.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:153>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 13:16:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 11:16:40 -0000
Subject: [FFmpeg-trac] #2877(undetermined:new): Unable to rewind/seek a
 mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.f8816fa19d76efad8b458ddcec7bf160@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by jpo38):

 Hi cehoyos,

 I'm afraid it's not reproductible with {{{ffmeg}}} application. To
 reproduce you must read the file once and then try to rewind in order to
 read it a second time. I don't see how such behaviour could be accessible
 using the ffmpeg program command line.

 Jean

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 13:36:42 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 11:36:42 -0000
Subject: [FFmpeg-trac] #2877(undetermined:new): Unable to rewind/seek a
 mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.b39aa476b870fda2e7d9f1879a2b4a43@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 What about ffplay?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 14:48:00 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 12:48:00 -0000
Subject: [FFmpeg-trac] #1964(avformat:open): Request support for
 decoding / demuxing Adobe HDS dynamic http streaming
In-Reply-To: <038.95c9cd9f7acf0a211f5f98aad3471a09@avcodec.org>
References: <038.95c9cd9f7acf0a211f5f98aad3471a09@avcodec.org>
Message-ID: <053.d5c8e4fffa5d57b01632f354d801cf6e@avcodec.org>

#1964: Request support for decoding / demuxing Adobe HDS dynamic http streaming
-------------------------------------+------------------------------------
             Reporter:  ottomatic    |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  HDS          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by sunildeshpande):

 Hi Ottomatic,

 Just wanted to check, can I use your code from the link
 https://github.com/ottomatic/ffmpeg/tree/hds to test HDS with ffmpeg?

 Is it working completely or partially?

 Do you have seperate C library for parsing f4m file or HDS?

 With Regards,
 Sunil

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1964#comment:17>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:09:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:09:25 -0000
Subject: [FFmpeg-trac] #2419(FFprobe:closed): ffprobe reports error on
 timecode stream
In-Reply-To: <034.bc7896cd83e929bc85af32592e409ed5@avcodec.org>
References: <034.bc7896cd83e929bc85af32592e409ed5@avcodec.org>
Message-ID: <049.a893f33f56706947de829bd6eb08a38f@avcodec.org>

#2419: ffprobe reports error on timecode stream
------------------------------------+-----------------------------------
             Reporter:  milix       |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  FFprobe
              Version:  git-master  |               Resolution:  fixed
             Keywords:  timecode    |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  1           |
------------------------------------+-----------------------------------
Changes (by saste):

 * analyzed:  0 => 1
 * status:  new => closed
 * resolution:   => fixed
 * reproduced:  0 => 1


Comment:

 Should be fixed in:
 {{{
 commit 5d12ec8fb7e6022f23e5c155e42e531cea9bd860
 Author: Stefano Sabatini <stefasab at gmail.com>
 Date:   Mon Sep 16 19:20:56 2013 +0200

     ffprobe: downgrade log level for non fatal errors in open_input_file()

     Since the errors are not fatal, it is less confusing not to show them
 as
     errors but as warnings.

     Arbitrarily fixes trac ticket #2419.
 }}}

 If I understand the problem correctly, it should be addressed by simply
 downgrading the error message. I'm not still sure this is the better way
 to fix the problem, since ffprobe/libavcodec is not supposed to "decode"
 data stream, but at least this should make the output clearer. Feel free
 to reopen the ticket if you can suggest a better solution.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2419#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:12:11 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:12:11 -0000
Subject: [FFmpeg-trac] #2968(undetermined:new): Possible regression for
 mpegts decoding
Message-ID: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>

#2968: Possible regression for mpegts decoding
--------------------------------------+----------------------------------
             Reporter:  werner        |                     Type:  defect
               Status:  new           |                 Priority:  normal
            Component:  undetermined  |                  Version:  2.0.1
             Keywords:                |               Blocked By:
             Blocking:                |  Reproduced by developer:  0
Analyzed by developer:  0             |
--------------------------------------+----------------------------------
 Summary of the bug: Using 0.8.x, I am able to produce a working file from
 the attached sample. Using 2.0.1, all I get is a static image.
 How to reproduce:
 {{{
 % ffmpeg -f mpegts -i astriah264_short.ts -an out.ts -y
 ffmpeg version 2.0.1
 built on Sep 17 2013 07:50:13 with gcc 4.1.2 (GCC) 20080704 (Red Hat
 4.1.2-54)
 }}}
 Output:
 {{{
 ...
 [h264 @ 0x569c0c0] sps_id out of range
 [h264 @ 0x569c0c0] non-existing PPS referenced
 [h264 @ 0x569c0c0] sps_id out of range
 [h264 @ 0x569c0c0] non-existing PPS 0 referenced
 [h264 @ 0x569c0c0] decode_slice_header error
 [h264 @ 0x569c0c0] non-existing PPS 0 referenced
 [h264 @ 0x569c0c0] decode_slice_header error
 [h264 @ 0x569c0c0] non-existing PPS 0 referenced
 [h264 @ 0x569c0c0] decode_slice_header error
 [h264 @ 0x569c0c0] no frame!
 [h264 @ 0x569c0c0] Missing reference picture, default is 65530
     Last message repeated 5 times
 [mpegts @ 0x567de00] decoding for stream 0 failed
 [mpegts @ 0x567de00] PES packet size mismatch
 Input #0, mpegts, from 'astriah264_short.ts':
   Duration: 00:00:42.31, start: 15024.363800, bitrate: 991 kb/s
   Program 1
     Stream #0:0[0x20]: Video: h264 (Main) ([27][0][0][0] / 0x001B),
 yuv420p, 352x480 [SAR 20:11 DAR 4:3], 29.97 tbr, 90k tbn, 180k tbc
     Stream #0:1[0x21]: Audio: aac ([15][0][0][0] / 0x000F), 48000 Hz,
 stereo, fltp, 63 kb/s
 Output #0, mpegts, to 'out.ts':
   Metadata:
     encoder         : Lavf55.12.100
     Stream #0:0: Video: mpeg2video, yuv420p, 352x480 [SAR 20:11 DAR 4:3],
 q=2-31, 200 kb/s, 90k tbn, 29.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (h264 -> mpeg2video)
 Press [q] to stop, [?] for help
 [h264 @ 0x5739a20] Missing reference picture, default is 0
 [h264 @ 0x5739a20] decode_slice_header error
 [h264 @ 0x5739a20] Missing reference picture, default is 0
 [h264 @ 0x5739a20] decode_slice_header error
 [h264 @ 0x5739a20] Missing reference picture, default is 0
 [h264 @ 0x5739a20] decode_slice_header error
 [h264 @ 0x577e400] Missing reference picture, default is 0
 [h264 @ 0x577e400] decode_slice_header error
 [h264 @ 0x577e400] Missing reference picture, default is 0
 [h264 @ 0x577e400] decode_slice_header error
 [h264 @ 0x577e400] Missing reference picture, default is 0
 [h264 @ 0x577e400] decode_slice_header error
 [h264 @ 0x57ec880] Missing reference picture, default is 0
 [h264 @ 0x57ec880] decode_slice_header error
 [h264 @ 0x57ec880] Missing reference picture, default is 0
 [h264 @ 0x57ec880] decode_slice_header error
 [h264 @ 0x585ad20] Missing reference picture, default is 65546
     Last message repeated 2 times
 [h264 @ 0x58c91c0] Missing reference picture, default is 65546
     Last message repeated 2 times
 error while decoding MB 6 11, bytestream (-37)=00:00:00.00 bitrate=N/A
 [h264 @ 0x577e400] concealing 461 DC, 461 AC, 461 MV errors in I frame
 frame= 1260 fps=551 q=15.9 Lsize=    1630kB time=00:00:42.00 bitrate=
 318.0kbits/s dup=1259 drop=0
 video:1359kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 19.998678%
 }}}
 But as I said, the file is unusable.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:13:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:13:25 -0000
Subject: [FFmpeg-trac] #2877(undetermined:new): Unable to rewind/seek a
 mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.3c9c1d1d205de4082bb04014e200691f@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by jpo38):

 Hello again,

 Unfortunately, I'm not familiar enough with this tool to tell if and how
 this bug could be reproduced here. But reproducing from the code I posted
 is very easy.

 Thanks

 Jean

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:15:57 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:15:57 -0000
Subject: [FFmpeg-trac] #2968(undetermined:new): Possible regression for
 mpegts decoding
In-Reply-To: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
References: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
Message-ID: <050.cd77b1132ee38415f7a1ae0cd517c39f@avcodec.org>

#2968: Possible regression for mpegts decoding
--------------------------------+----------------------------------------
             Reporter:  werner  |                    Owner:
                 Type:  defect  |                   Status:  new
             Priority:  normal  |                Component:  undetermined
              Version:  2.0.1   |               Resolution:
             Keywords:          |               Blocked By:
             Blocking:          |  Reproduced by developer:  0
Analyzed by developer:  0       |
--------------------------------+----------------------------------------

Comment (by cehoyos):

 To make this a valid ticket, please provide the complete, uncut console
 output.

 And please test current git head.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:19:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:19:25 -0000
Subject: [FFmpeg-trac] #2968(undetermined:new): Possible regression for
 mpegts decoding
In-Reply-To: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
References: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
Message-ID: <050.7e73dabc2a58a79b9b8620eacd0bd66c@avcodec.org>

#2968: Possible regression for mpegts decoding
-------------------------------------+-------------------------------------
             Reporter:  werner       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  h264         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => h264
 * priority:  normal => important
 * version:  2.0.1 => git-master


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:23:51 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:23:51 -0000
Subject: [FFmpeg-trac] #2968(undetermined:new): Possible regression for
 mpegts decoding
In-Reply-To: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
References: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
Message-ID: <050.ad2bf8f8d5eee254cb331e3d82230e99@avcodec.org>

#2968: Possible regression for mpegts decoding
-------------------------------------+-------------------------------------
             Reporter:  werner       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  h264         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by werner):

 Sorry, I cut it cause it was much of the same. The video is a sample
 capture from a stream that we can't control, so it has a bunch of
 errors/is simply old.

 Full output:
 {{{
 ffmpeg version 2.0.1 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 17 2013 07:50:13 with gcc 4.1.2 (GCC) 20080704 (Red Hat
 4.1.2-54)
   configuration: --prefix=/usr --libdir=/usr/lib64 --shlibdir=/usr/lib64
 --mandir=/usr/share/man --enable-shared --enable-runtime-cpudetect
 --enable-gpl --enable-version3 --enable-nonfree --enable-postproc
 --enable-avfilter --enable-pthreads --enable-x11grab --enable-vdpau
 --disable-avisynth --enable-libdc1394 --enable-libfaac --enable-libgsm
 --enable-libmp3lame --enable-libnut --enable-libopencore-amrnb --enable-
 libopencore-amrwb --enable-libopenjpeg --enable-librtmp --enable-libx264
 --enable-libxavs --enable-libxvid --extra-cflags='-O2 -g -pipe -Wall
 -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-
 size=4 -m64 -mtune=generic -fPIC' --disable-stripping
   libavutil      52. 38.100 / 52. 38.100
   libavcodec     55. 18.102 / 55. 18.102
   libavformat    55. 12.100 / 55. 12.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 79.101 /  3. 79.101
   libswscale      2.  3.100 /  2.  3.100
   libswresample   0. 17.102 /  0. 17.102
   libpostproc    52.  3.100 / 52.  3.100
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS referenced
 [h264 @ 0x1266e0c0] sps_id out of range
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] non-existing PPS 0 referenced
 [h264 @ 0x1266e0c0] decode_slice_header error
 [h264 @ 0x1266e0c0] no frame!
 [h264 @ 0x1266e0c0] Missing reference picture, default is 65530
     Last message repeated 5 times
 [mpegts @ 0x1264fe00] decoding for stream 0 failed
 [mpegts @ 0x1264fe00] PES packet size mismatch
 Input #0, mpegts, from 'astriah264_short.ts':
   Duration: 00:00:42.31, start: 15024.363800, bitrate: 991 kb/s
   Program 1
     Stream #0:0[0x20]: Video: h264 (Main) ([27][0][0][0] / 0x001B),
 yuv420p, 352x480 [SAR 20:11 DAR 4:3], 29.97 tbr, 90k tbn, 180k tbc
     Stream #0:1[0x21]: Audio: aac ([15][0][0][0] / 0x000F), 48000 Hz,
 stereo, fltp, 63 kb/s
 Output #0, mpegts, to 'out.ts':
   Metadata:
     encoder         : Lavf55.12.100
     Stream #0:0: Video: mpeg2video, yuv420p, 352x480 [SAR 20:11 DAR 4:3],
 q=2-31, 200 kb/s, 90k tbn, 29.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (h264 -> mpeg2video)
 Press [q] to stop, [?] for help
 [h264 @ 0x1270ba20] Missing reference picture, default is 0
 [h264 @ 0x1270ba20] decode_slice_header error
 [h264 @ 0x1270ba20] Missing reference picture, default is 0
 [h264 @ 0x1270ba20] decode_slice_header error
 [h264 @ 0x1270ba20] Missing reference picture, default is 0
 [h264 @ 0x1270ba20] decode_slice_header error
 [h264 @ 0x12750400] Missing reference picture, default is 0
 [h264 @ 0x12750400] decode_slice_header error
 [h264 @ 0x12750400] Missing reference picture, default is 0
 [h264 @ 0x12750400] decode_slice_header error
 [h264 @ 0x12750400] Missing reference picture, default is 0
 [h264 @ 0x12750400] decode_slice_header error
 [h264 @ 0x127be880] Missing reference picture, default is 0
 [h264 @ 0x127be880] decode_slice_header error
 [h264 @ 0x127be880] Missing reference picture, default is 0
 [h264 @ 0x127be880] decode_slice_header error
 [h264 @ 0x1282cd20] Missing reference picture, default is 65546
     Last message repeated 2 times
 [h264 @ 0x1289b1c0] Missing reference picture, default is 65546
     Last message repeated 2 times
 frame=    0 fps=0.0 q=0.0 size=       0kB time=00:00:00.00 bitrate=N/A
 frame=    0 fps=0.0 q=0.0 size=       0kB time=00:00:00.00 bitrate=N/A
 error while decoding MB 6 11, bytestream (-37)
 [h264 @ 0x12750400] concealing 461 DC, 461 AC, 461 MV errors in I frame
 frame= 1260 fps=540 q=15.9 Lsize=    1630kB time=00:00:42.00 bitrate=
 318.0kbits/s dup=1259 drop=0
 video:1359kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 19.998678%
 }}}
 I will try out the git head, and as a side note this has been a problem
 since I think about 0.11.x. We tried upgrading back then, but couldn't
 because of this issue. I don't think anyone reported it back then.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:32:24 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:32:24 -0000
Subject: [FFmpeg-trac] #2968(avcodec:new): Possible regression for
 mpegts decoding
In-Reply-To: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
References: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
Message-ID: <050.de71a9c7af7938faceab07f953f544d6@avcodec.org>

#2968: Possible regression for mpegts decoding
-------------------------------------+-------------------------------------
             Reporter:  werner       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264         |               Blocked By:
  regression                         |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  h264 => h264 regression
 * component:  undetermined => avcodec


Comment:

 Replying to [comment:3 werner]:
 > Sorry, I cut it cause it was much of the same.

 But you did not just cut "the same" (this would of course have been ok and
 very welcome, I just don't suggest it because it seems more difficult than
 simply to provide the whole console outpu).

 Workaround is to use {{{-flags2 showall}}}

 I don't know if the stream is broken or if the decoder is at fault, the
 reference decoder does not like the sample though.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:34:41 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:34:41 -0000
Subject: [FFmpeg-trac] #2967(avcodec:new): mjpeg enc: ljpeg output is
 incompatible with other programs
In-Reply-To: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
References: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
Message-ID: <053.c55b0ca1a123282eead591a3d6b1e0a4@avcodec.org>

#2967: mjpeg enc: ljpeg output is incompatible with other programs
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  ljpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by ami_stuff):

 (http://www.programmersheaven.com/download/17054/Download.aspx)
 jpegdump have an -v option:


 {{{
 C:\>jpegdump -v apollo.jpg

 apollo.jpg:
 offset $0 SOI
 offset $2 APP0 (length 15)
   LJIF\000\001\000\000\000\000\000\000\001
 offset $13 DHT (length 80)
   table 0
   table 1
   table 2
 offset $65 SOF3 (spatial lossless Huffman) (length 17)
   sample precision 8
   width 320, height 240  components 3
     id 1 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 2 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 3 horizontal sampling 1, vertical sampling 1, quantization table 0
 offset $78 SOS (length 12)
   components 3
     id 1 dc table 0, ac table 0
     id 2 dc table 1, ac table 0
     id 3 dc table 2, ac table 0
   spectral selection 1 to 0, bit position high 0, low 0
 offset $25bc0 EOI

 C:\>jpegdump -v myvp.jpg

 myvp.jpg:
 offset $0 SOI
 offset $2 APP14 (length 14)
   Adobed\000\000\000\000\000\000
 offset $12 COM (length 38)
   Created by fCoder Graphics Processor
 offset $3a SOF3 (spatial lossless Huffman) (length 17)
   sample precision 8
   width 320, height 240  components 3
     id 82 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 71 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 66 horizontal sampling 1, vertical sampling 1, quantization table 0
 offset $4d DHT (length 28)
   table 0
 offset $6b SOS (length 12)
   components 3
     id 82 dc table 0, ac table 0
     id 71 dc table 0, ac table 0
     id 66 dc table 0, ac table 0
   spectral selection 1 to 63, bit position high 0, low 0
 offset $25f0f EOI

 C:\>jpegdump -v ffmpeg.jpg

 ffmpeg.jpg:
 offset $0 SOI
 offset $2 COM (length 16)
   Lavc55.31.101\000
 offset $14 DQT (length 67)
   table 0 precision 8
   Approximate quality factor for qtable 0: 61 (scale 77.31, var 1710.91)
 offset $59 DHT (length 418)
   table 0
   table 1
   table 16
   table 17
 offset $1fd SOF3 (spatial lossless Huffman) (length 17)
   sample precision 9
   width 320, height 240  components 3
     id 1 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 2 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 3 horizontal sampling 1, vertical sampling 1, quantization table 0
 offset $210 SOS (length 12)
   components 3
     id 1 dc table 0, ac table 0
     id 2 dc table 1, ac table 0
     id 3 dc table 1, ac table 0
   spectral selection 1 to 0, bit position high 0, low 0
 offset $22ffb EOI
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2967#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:36:44 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:36:44 -0000
Subject: [FFmpeg-trac] #2877(undetermined:new): Unable to rewind/seek a
 mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.8a54ff1fb471f62f5d7339a1c15b1b73@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Replying to [comment:4 jpo38]:
 > Unfortunately, I'm not familiar enough with ffplay to tell if and how
 this bug could be reproduced here.

 Could you elaborate?
 Maybe we have to improve the documentation for ffplay.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:37:13 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:37:13 -0000
Subject: [FFmpeg-trac] #2968(avcodec:new): Possible regression for h264
 decoding (was: Possible regression for mpegts decoding)
In-Reply-To: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
References: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
Message-ID: <050.c87b3b3ce38269ec4734dd3d20097924@avcodec.org>

#2968: Possible regression for h264 decoding
-------------------------------------+-------------------------------------
             Reporter:  werner       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264         |               Blocked By:
  regression                         |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:39:03 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:39:03 -0000
Subject: [FFmpeg-trac] #2967(avcodec:new): mjpeg enc: ljpeg output is
 incompatible with other programs
In-Reply-To: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
References: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
Message-ID: <053.08939564e8d7f8bbd57d87bd875d677c@avcodec.org>

#2967: mjpeg enc: ljpeg output is incompatible with other programs
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  ljpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by cehoyos):

 Maybe not writing DQT?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2967#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:43:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:43:45 -0000
Subject: [FFmpeg-trac] #2968(avcodec:new): Possible regression for h264
 decoding
In-Reply-To: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
References: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
Message-ID: <050.b843eb74e3cd0a8d7b81ceb8a7b93865@avcodec.org>

#2968: Possible regression for h264 decoding
-------------------------------------+-------------------------------------
             Reporter:  werner       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264         |               Blocked By:
  regression                         |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by werner):

 Thank you for the workaround. I noticed something else interesting though,
 if I pass in an output format for h264 instead of just passing through the
 data, it doesn't play; however, if I specify mp4 it does. Do you know why
 that would be since it uses the same encoder?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:46:56 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:46:56 -0000
Subject: [FFmpeg-trac] #2968(avcodec:new): Possible regression for h264
 decoding
In-Reply-To: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
References: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
Message-ID: <050.03a2208394d7e639de08982e4d2343d3@avcodec.org>

#2968: Possible regression for h264 decoding
-------------------------------------+-------------------------------------
             Reporter:  werner       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264         |               Blocked By:
  regression                         |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Replying to [comment:6 werner]:
 > Thank you for the workaround. I noticed something else interesting
 though, if I pass in an output format for h264 instead of just passing
 through the data, it doesn't play; however, if I specify mp4 it does.

 Command line(s) and console output missing.
 (Sorry, I honestly do not understand.)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:49:20 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:49:20 -0000
Subject: [FFmpeg-trac] #2967(avcodec:new): mjpeg enc: ljpeg output is
 incompatible with other programs
In-Reply-To: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
References: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
Message-ID: <053.7a901cb5e5a7568eee5b3818c240c94d@avcodec.org>

#2967: mjpeg enc: ljpeg output is incompatible with other programs
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  ljpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by ami_stuff):

 Replying to [comment:6 cehoyos]:
 > Maybe not writing DQT?

 still doesn't decode (with neither program) with commented out

 //    put_marker(p, DQT);


 {{{
 C:\>jpegdump -v ffmpeg_2.jpg

 ffmpeg_2.jpg:
 offset $0 SOI
 offset $2 COM (length 16)
   Lavc55.31.101\000
 offset $57 DHT (length 418)
   table 0
   table 1
   table 16
   table 17
 offset $1fb SOF3 (spatial lossless Huffman) (length 17)
   sample precision 9
   width 320, height 240  components 3
     id 1 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 2 horizontal sampling 1, vertical sampling 1, quantization table 0
     id 3 horizontal sampling 1, vertical sampling 1, quantization table 0
 offset $20e SOS (length 12)
   components 3
     id 1 dc table 0, ac table 0
     id 2 dc table 1, ac table 0
     id 3 dc table 1, ac table 0
   spectral selection 1 to 0, bit position high 0, low 0
 offset $1f741 EOI
 }}}

 so probably they want sample precision 8

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2967#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 16:52:29 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 14:52:29 -0000
Subject: [FFmpeg-trac] #2968(avcodec:new): Possible regression for h264
 decoding
In-Reply-To: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
References: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
Message-ID: <050.7c723538035573b059b63d32e2835684@avcodec.org>

#2968: Possible regression for h264 decoding
-------------------------------------+-------------------------------------
             Reporter:  werner       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264         |               Blocked By:
  regression                         |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by werner):

 Sorry, I should have included them.
 Works:
 {{{
 ffmpeg -f mpegts -flags2 showall -i astriah264_short.ts -an out.ts -y
 }}}
 Works:
 {{{
 ffmpeg -f mpegts -flags2 showall -i astriah264_short.ts -an -f mp4 out.ts
 -y
 }}}
 Doesn't work:
 {{{
 ffmpeg -f mpegts -flags2 showall -i astriah264_short.ts -an -f h264 out.ts
 -y
 }}}
 Output for the third command:
 {{{
 ffmpeg version 2.0.1 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 17 2013 07:50:13 with gcc 4.1.2 (GCC) 20080704 (Red Hat
 4.1.2-54)
   configuration: --prefix=/usr --libdir=/usr/lib64 --shlibdir=/usr/lib64
 --mandir=/usr/share/man --enable-shared --enable-runtime-cpudetect
 --enable-gpl --enable-version3 --enable-nonfree --enable-postproc
 --enable-avfilter --enable-pthreads --enable-x11grab --enable-vdpau
 --disable-avisynth --enable-libdc1394 --enable-libfaac --enable-libgsm
 --enable-libmp3lame --enable-libnut --enable-libopencore-amrnb --enable-
 libopencore-amrwb --enable-libopenjpeg --enable-librtmp --enable-libx264
 --enable-libxavs --enable-libxvid --extra-cflags='-O2 -g -pipe -Wall
 -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-
 size=4 -m64 -mtune=generic -fPIC' --disable-stripping
   libavutil      52. 38.100 / 52. 38.100
   libavcodec     55. 18.102 / 55. 18.102
   libavformat    55. 12.100 / 55. 12.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 79.101 /  3. 79.101
   libswscale      2.  3.100 /  2.  3.100
   libswresample   0. 17.102 /  0. 17.102
   libpostproc    52.  3.100 / 52.  3.100
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS referenced
 [h264 @ 0x1d5d71e0] sps_id out of range
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] non-existing PPS 0 referenced
 [h264 @ 0x1d5d71e0] decode_slice_header error
 [h264 @ 0x1d5d71e0] no frame!
 [h264 @ 0x1d5d71e0] Missing reference picture, default is 65530
     Last message repeated 5 times
 [mpegts @ 0x1d5b8f00] PES packet size mismatch
 Input #0, mpegts, from 'astriah264_short.ts':
   Duration: 00:00:42.31, start: 15024.363800, bitrate: 991 kb/s
   Program 1
     Stream #0:0[0x20]: Video: h264 (Main) ([27][0][0][0] / 0x001B),
 yuv420p, 352x480 [SAR 20:11 DAR 4:3], 29.97 tbr, 90k tbn, 180k tbc
     Stream #0:1[0x21]: Audio: aac ([15][0][0][0] / 0x000F), 48000 Hz,
 stereo, fltp, 63 kb/s
 [libx264 @ 0x1d5d9260] using SAR=20/11
 [libx264 @ 0x1d5d9260] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.1
 Cache64
 [libx264 @ 0x1d5d9260] profile High, level 2.1
 Output #0, h264, to 'out.ts':
   Metadata:
     encoder         : Lavf55.12.100
     Stream #0:0: Video: h264 (libx264), yuv420p, 352x480 [SAR 20:11 DAR
 4:3], q=-1--1, 90k tbn, 29.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (h264 -> libx264)
 Press [q] to stop, [?] for help
 [h264 @ 0x1e06d9e0] Missing reference picture, default is 0
 [h264 @ 0x1e06d9e0] decode_slice_header error
 [h264 @ 0x1e06d9e0] Missing reference picture, default is 0
 [h264 @ 0x1e06d9e0] decode_slice_header error
 [h264 @ 0x1e06d9e0] Missing reference picture, default is 0
 [h264 @ 0x1e06d9e0] decode_slice_header error
 [h264 @ 0x1e0b2520] Missing reference picture, default is 0
 [h264 @ 0x1e0b2520] decode_slice_header error
 [h264 @ 0x1e0b2520] Missing reference picture, default is 0
 [h264 @ 0x1e0b2520] decode_slice_header error
 [h264 @ 0x1e0b2520] Missing reference picture, default is 0
 [h264 @ 0x1e0b2520] decode_slice_header error
 [h264 @ 0x1e1209c0] Missing reference picture, default is 0
 [h264 @ 0x1e1209c0] decode_slice_header error
 [h264 @ 0x1e1209c0] Missing reference picture, default is 0
 [h264 @ 0x1e1209c0] decode_slice_header error
 [h264 @ 0x1e18ee60] Missing reference picture, default is 65546
     Last message repeated 2 times
 [h264 @ 0x1e1fd300] Missing reference picture, default is 65546
     Last message repeated 2 times
 frame=   82 fps=0.0 q=29.0 size=      74kB time=00:00:01.00 bitrate=
 603.5kbits/s dup=4 drop=0
 frame=  138 fps=137 q=29.0 size=     157kB time=00:00:02.86 bitrate=
 447.8kbits/s dup=4 drop=0
 frame=  200 fps=132 q=29.0 size=     254kB time=00:00:04.93 bitrate=
 421.7kbits/s dup=4 drop=0
 frame=  259 fps=128 q=29.0 size=     343kB time=00:00:06.90 bitrate=
 407.4kbits/s dup=4 drop=0
 frame=  323 fps=127 q=26.0 size=     438kB time=00:00:09.04 bitrate=
 396.4kbits/s dup=4 drop=0
 frame=  390 fps=128 q=29.0 size=     558kB time=00:00:11.27 bitrate=
 405.0kbits/s dup=4 drop=0
 frame=  448 fps=125 q=29.0 size=     648kB time=00:00:13.21 bitrate=
 401.9kbits/s dup=4 drop=0
 frame=  513 fps=126 q=29.0 size=     750kB time=00:00:15.38 bitrate=
 399.4kbits/s dup=4 drop=0
 frame=  569 fps=124 q=29.0 size=     849kB time=00:00:17.25 bitrate=
 403.1kbits/s dup=4 drop=0
 frame=  631 fps=124 q=29.0 size=     972kB time=00:00:19.31 bitrate=
 412.2kbits/s dup=4 drop=0
 frame=  693 fps=124 q=29.0 size=    1078kB time=00:00:21.38 bitrate=
 412.8kbits/s dup=4 drop=0
 frame=  750 fps=122 q=29.0 size=    1183kB time=00:00:23.28 bitrate=
 416.0kbits/s dup=4 drop=0
 frame=  807 fps=122 q=29.0 size=    1282kB time=00:00:25.19 bitrate=
 416.8kbits/s dup=4 drop=0
 frame=  868 fps=121 q=29.0 size=    1421kB time=00:00:27.22 bitrate=
 427.5kbits/s dup=4 drop=0
 frame=  926 fps=120 q=29.0 size=    1546kB time=00:00:29.16 bitrate=
 434.3kbits/s dup=4 drop=0
 frame=  989 fps=120 q=29.0 size=    1664kB time=00:00:31.26 bitrate=
 435.9kbits/s dup=4 drop=0
 frame= 1048 fps=120 q=29.0 size=    1770kB time=00:00:33.23 bitrate=
 436.3kbits/s dup=4 drop=0
 frame= 1113 fps=120 q=29.0 size=    1903kB time=00:00:35.40 bitrate=
 440.2kbits/s dup=4 drop=0
 frame= 1167 fps=119 q=29.0 size=    1990kB time=00:00:37.20 bitrate=
 438.1kbits/s dup=4 drop=0
 frame= 1225 fps=119 q=29.0 size=    2089kB time=00:00:39.13 bitrate=
 437.3kbits/s dup=4 drop=0
 error while decoding MB 6 11, bytestream (-37)
 [h264 @ 0x1e0b2520] concealing 461 DC, 461 AC, 461 MV errors in I frame
 frame= 1260 fps=115 q=-1.0 Lsize=    2216kB time=00:00:41.97 bitrate=
 432.4kbits/s dup=6 drop=0
 video:2216kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 0.000000%
 [libx264 @ 0x1d5d9260] frame I:7     Avg QP:19.40  size: 14803
 [libx264 @ 0x1d5d9260] frame P:340   Avg QP:23.58  size:  4828
 [libx264 @ 0x1d5d9260] frame B:913   Avg QP:28.36  size:   574
 [libx264 @ 0x1d5d9260] consecutive B-frames:  0.9%  2.2% 16.0% 81.0%
 [libx264 @ 0x1d5d9260] mb I  I16..4: 10.4% 60.5% 29.2%
 [libx264 @ 0x1d5d9260] mb P  I16..4:  0.1%  0.9%  0.2%  P16..4: 51.1%
 26.9% 13.8%  0.0%  0.0%    skip: 6.9%
 [libx264 @ 0x1d5d9260] mb B  I16..4:  0.0%  0.0%  0.0%  B16..8: 45.3%
 0.9%  0.1%  direct: 1.9%  skip:51.7%  L0:38.4% L1:59.8% BI: 1.9%
 [libx264 @ 0x1d5d9260] 8x8 transform intra:65.1% inter:62.8%
 [libx264 @ 0x1d5d9260] coded y,uvDC,uvAC intra: 75.8% 74.0% 31.9% inter:
 15.7% 30.5% 0.6%
 [libx264 @ 0x1d5d9260] i16 v,h,dc,p: 37% 27% 27%  8%
 [libx264 @ 0x1d5d9260] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 22% 20% 21%  4%  5%
 5%  8%  4% 11%
 [libx264 @ 0x1d5d9260] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 19% 29% 12%  5%  7%
 8%  8%  4%  9%
 [libx264 @ 0x1d5d9260] i8c dc,h,v,p: 42% 24% 25%  9%
 [libx264 @ 0x1d5d9260] Weighted P-Frames: Y:7.6% UV:1.8%
 [libx264 @ 0x1d5d9260] ref P L0: 58.9% 17.0% 19.5%  4.4%  0.2%
 [libx264 @ 0x1d5d9260] ref B L0: 89.4%  9.8%  0.8%
 [libx264 @ 0x1d5d9260] ref B L1: 90.5%  9.5%
 [libx264 @ 0x1d5d9260] kb/s:431.70
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 17:08:30 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 15:08:30 -0000
Subject: [FFmpeg-trac] #1964(avformat:open): Request support for
 decoding / demuxing Adobe HDS dynamic http streaming
In-Reply-To: <038.95c9cd9f7acf0a211f5f98aad3471a09@avcodec.org>
References: <038.95c9cd9f7acf0a211f5f98aad3471a09@avcodec.org>
Message-ID: <053.8e5b44c27be37e76dd2e21d829223e8a@avcodec.org>

#1964: Request support for decoding / demuxing Adobe HDS dynamic http streaming
-------------------------------------+------------------------------------
             Reporter:  ottomatic    |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  HDS          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by ottomatic):

 Replying to [comment:17 sunildeshpande]:
 > Hi Ottomatic,
 >
 > Just wanted to check, can I use your code from the link
 https://github.com/ottomatic/ffmpeg/tree/hds to test HDS with ffmpeg?
 >
 > Is it working completely or partially?

 It's working partially, to parse the manifest. There is no demuxing of the
 stream done yet.
 It's been a while since I worked on it; other stuff got in the way.

 feel free to grab the code and do what you like with it.

 > Do you have seperate C library for parsing f4m file or HDS?

 No, sorry.

 > With Regards,
 > Sunil

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1964#comment:18>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 17:09:22 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 15:09:22 -0000
Subject: [FFmpeg-trac] #2967(avcodec:new): mjpeg enc: ljpeg output is
 incompatible with other programs
In-Reply-To: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
References: <038.bf4166c7d3c5228ec52a2524d9ef913d@avcodec.org>
Message-ID: <053.3f904c60af59551847128c336f82a651@avcodec.org>

#2967: mjpeg enc: ljpeg output is incompatible with other programs
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  ljpeg       |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by cehoyos):

 You were fast;-)
 Patch attached anyway.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2967#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 17:10:11 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 15:10:11 -0000
Subject: [FFmpeg-trac] #2968(avcodec:new): Possible regression for h264
 decoding
In-Reply-To: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
References: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
Message-ID: <050.3074e0a8ea8d5a3c8f32e3b01b9ea20d@avcodec.org>

#2968: Possible regression for h264 decoding
-------------------------------------+-------------------------------------
             Reporter:  werner       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264         |               Blocked By:
  regression                         |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Please RTFM to find out what {{{-f}}} means...

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968#comment:9>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 17:11:24 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 15:11:24 -0000
Subject: [FFmpeg-trac] #2968(avcodec:new): Possible regression for h264
 decoding
In-Reply-To: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
References: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
Message-ID: <050.b5e0d86fb89238d46c0212b4a9ea86a0@avcodec.org>

#2968: Possible regression for h264 decoding
-------------------------------------+-------------------------------------
             Reporter:  werner       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264         |               Blocked By:
  regression                         |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 And please elaborate on "Doesn't work", it appears to 1260 frames are
 successfully encoded.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968#comment:10>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 17:26:04 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 15:26:04 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.8529e565e5c01b05d1c603d8fc223beb@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 I don't think of any good use of eac3, other than for BD. BD can have
 32Mbps, and eac3 can have up to 6144kbps. If audio quality matters, simply
 use the maximum bitrate. And having more opponents in parallel slow down
 the test. However, we need a low anchor and possibly a high anchor. I
 think libopus will act as a high anchor and aac without patch act as a low
 anchor.

 There are some good uses of wma, such as encoding for an old car stereo
 that plays MP3/WMA, but WMAEncode 0.2.9b is far more usable. The quality
 is in between LAME and Apple AAC.

 https://trac.ffmpeg.org/wiki/GuidelinesHighQualityAudio

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:154>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 18:31:00 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 16:31:00 -0000
Subject: [FFmpeg-trac] #2877(undetermined:new): Unable to rewind/seek a
 mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.6b98268d1b3c304dacbefe981f4dd901@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by jpo38):

 I just never used ffplay and did not have it compiled. Now I downloaded it
 and had no problem using it. I tested and I can move within the file
 without any problem. Looks like file can be seek without problem from this
 tool.

 But ffplay.c does not use {{{av_seek_frame}}} (my sample does), it uses
 {{{avformat_seek_file}}}.

 Jean

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 18:32:06 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 16:32:06 -0000
Subject: [FFmpeg-trac] #2968(avcodec:new): Possible regression for h264
 decoding
In-Reply-To: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
References: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
Message-ID: <050.2ed9a880feca4c8c075931367bdb6389@avcodec.org>

#2968: Possible regression for h264 decoding
-------------------------------------+-------------------------------------
             Reporter:  werner       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264         |               Blocked By:
  regression                         |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by werner):

 Ok so -f should be -c:v... Switching it up does produce the desired
 results. Sorry for my limited understanding of the command line, I don't
 use it (normally utilizing the libraries underneath instead). I am playing
 around with the command line as I am just trying to understand what, if
 any, the limitations are to upgrading.

 So it seems that transcoding it works fine, but copy does not:
 {{{
 ffmpeg -flags2 showall -i astriah264_short.ts -an -c:v copy out.ts -y
 }}}
 Output:
 {{{
 ffmpeg version 2.0.1 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 17 2013 07:50:13 with gcc 4.1.2 (GCC) 20080704 (Red Hat
 4.1.2-54)
   configuration: --prefix=/usr --libdir=/usr/lib64 --shlibdir=/usr/lib64
 --mandir=/usr/share/man --enable-shared --enable-runtime-cpudetect
 --enable-gpl --enable-version3 --enable-nonfree --enable-postproc
 --enable-avfilter --enable-pthreads --enable-x11grab --enable-vdpau
 --disable-avisynth --enable-libdc1394 --enable-libfaac --enable-libgsm
 --enable-libmp3lame --enable-libnut --enable-libopencore-amrnb --enable-
 libopencore-amrwb --enable-libopenjpeg --enable-librtmp --enable-libx264
 --enable-libxavs --enable-libxvid --extra-cflags='-O2 -g -pipe -Wall
 -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-
 size=4 -m64 -mtune=generic -fPIC' --disable-stripping
   libavutil      52. 38.100 / 52. 38.100
   libavcodec     55. 18.102 / 55. 18.102
   libavformat    55. 12.100 / 55. 12.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 79.101 /  3. 79.101
   libswscale      2.  3.100 /  2.  3.100
   libswresample   0. 17.102 /  0. 17.102
   libpostproc    52.  3.100 / 52.  3.100
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS referenced
 [h264 @ 0x17614f40] sps_id out of range
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] non-existing PPS 0 referenced
 [h264 @ 0x17614f40] decode_slice_header error
 [h264 @ 0x17614f40] no frame!
 [h264 @ 0x17614f40] Missing reference picture, default is 65530
     Last message repeated 5 times
 [mpegts @ 0x17610ec0] PES packet size mismatch
 Input #0, mpegts, from 'astriah264_short.ts':
   Duration: 00:00:42.31, start: 15024.363800, bitrate: 991 kb/s
   Program 1
     Stream #0:0[0x20]: Video: h264 (Main) ([27][0][0][0] / 0x001B),
 yuv420p, 352x480 [SAR 20:11 DAR 4:3], 29.97 tbr, 90k tbn, 180k tbc
     Stream #0:1[0x21]: Audio: aac ([15][0][0][0] / 0x000F), 48000 Hz,
 stereo, fltp, 63 kb/s
 Output #0, mpegts, to 'out.ts':
   Metadata:
     encoder         : Lavf55.12.100
     Stream #0:0: Video: h264 ([27][0][0][0] / 0x001B), yuv420p, 352x480
 [SAR 20:11 DAR 4:3], q=2-31, 90k tbn, 90k tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (copy)
 Press [q] to stop, [?] for help
 frame=    0 fps=0.0 q=-1.0 Lsize=       0kB time=00:00:00.00 bitrate=N/A
 video:0kB audio:0kB subtitle:0 global headers:0kB muxing overhead nan%
 Output file is empty, nothing was encoded (check -ss / -t / -frames
 parameters if used)
 }}}
 Given your last response, I took the time to try and verify if there were
 any other issues with the command I was running or if there was any
 obvious flags I could apply, but nothing stuck out at me.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968#comment:11>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 19:44:20 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 17:44:20 -0000
Subject: [FFmpeg-trac] #681(avfilter:closed): -vf mp=pullup leads to
 massive A/V-desync
In-Reply-To: <036.7d32630b7b33eafbd6aee0efae91a91d@avcodec.org>
References: <036.7d32630b7b33eafbd6aee0efae91a91d@avcodec.org>
Message-ID: <051.3e16af9fb887e46026d3b3b0956bc013@avcodec.org>

#681: -vf mp=pullup leads to massive A/V-desync
-------------------------------------+-------------------------------------
             Reporter:  dericed      |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avfilter
              Version:  git-master   |               Resolution:  fixed
             Keywords:  mpfilter     |               Blocked By:
  pullup                             |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by richardpl):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 There is native pullup filter now.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/681#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 21:21:10 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 19:21:10 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.37dc4265ebd5f31cee1e692a632e9538@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 This document recommends to use -cutoff 15000 option. Too outdated, the
 cutoff is automatically applied since July 2012.
 http://ffmpeg.org/ffmpeg-codecs.html#aac

 This is the data I sent in 2012.
 [[Image(http://i41.tinypic.com/24dri41.png)]]


 By the way, the progress of the listening test is 95%(19/20) now.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:155>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 22:26:03 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 20:26:03 -0000
Subject: [FFmpeg-trac] #2370(avdevice:open): v4l2 should not need ENUMSTD
In-Reply-To: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
References: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
Message-ID: <050.f9f88d23bda3e6324b4763712c5dca8b@avcodec.org>

#2370: v4l2 should not need ENUMSTD
-------------------------------------+-------------------------------------
             Reporter:  ubitux       |                    Owner:  holden
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avdevice
              Version:  git-master   |               Resolution:
             Keywords:  v4l2         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by mrlika):

 Thank you

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2370#comment:13>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 23:42:44 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 21:42:44 -0000
Subject: [FFmpeg-trac] #2370(avdevice:closed): v4l2 should not need
 ENUMSTD
In-Reply-To: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
References: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
Message-ID: <050.5da94ce1b5693cf0965a7051b2acc143@avcodec.org>

#2370: v4l2 should not need ENUMSTD
-------------------------------------+-------------------------------------
             Reporter:  ubitux       |                    Owner:  holden
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avdevice
              Version:  git-master   |               Resolution:  fixed
             Keywords:  v4l2         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed by mrlika in ed72542

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2370#comment:14>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 17 23:43:38 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 21:43:38 -0000
Subject: [FFmpeg-trac] #2370(avdevice:closed): v4l2 should not need
 ENUMSTD
In-Reply-To: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
References: <035.3901b60a5d30630c278fcb6dca895616@avcodec.org>
Message-ID: <050.146ded54e8c2376126ba4b8794c9b03f@avcodec.org>

#2370: v4l2 should not need ENUMSTD
-------------------------------------+-------------------------------------
             Reporter:  ubitux       |                    Owner:  holden
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avdevice
              Version:  git-master   |               Resolution:  fixed
             Keywords:  v4l2         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Should the patch be backported to release/2.0 ?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2370#comment:15>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 18 00:22:42 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 17 Sep 2013 22:22:42 -0000
Subject: [FFmpeg-trac] #2968(avcodec:new): Possible regression for h264
 decoding
In-Reply-To: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
References: <035.cc8a2539e6b3bd26d312f31133345617@avcodec.org>
Message-ID: <050.9ccc23ed06b0ad1250e2702fb6c97ebc@avcodec.org>

#2968: Possible regression for h264 decoding
-------------------------------------+-------------------------------------
             Reporter:  werner       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264         |               Blocked By:
  regression                         |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Replying to [comment:11 werner]:
 > So it seems that transcoding it works fine, but copy does not:

 But this is not a regression or do you disagree?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2968#comment:12>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 18 09:04:02 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 07:04:02 -0000
Subject: [FFmpeg-trac] #1964(avformat:open): Request support for
 decoding / demuxing Adobe HDS dynamic http streaming
In-Reply-To: <038.95c9cd9f7acf0a211f5f98aad3471a09@avcodec.org>
References: <038.95c9cd9f7acf0a211f5f98aad3471a09@avcodec.org>
Message-ID: <053.6db73db95382abb326a66b1a263f016c@avcodec.org>

#1964: Request support for decoding / demuxing Adobe HDS dynamic http streaming
-------------------------------------+------------------------------------
             Reporter:  ottomatic    |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  HDS          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by sunildeshpande):

 Hi Ottomatic,

 Thanks for your quick reply. I just wanted to know how can I test this
 partially working stuff. I wanted to test this parsing stuff and then I
 will try to add the code for demuxing code for the stream. Please let me
 know how can I test this or how you have tested the parsing code. Can you
 provide your mail id or chat id for quick discussion?
 deshpande.sunil at gamil.com gmail.com is my mail id. Sicne the things are
 similar to DASH, we can easyily add the demuxer for the HDS streams also.
 So please let me know your feedback.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1964#comment:19>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 18 09:59:14 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 07:59:14 -0000
Subject: [FFmpeg-trac] #2970(avcodec:new): White line in top macroblock of
 dvvideo
Message-ID: <036.b589087f9670691337a7f2ab736140a3@avcodec.org>

#2970: White line in top macroblock of dvvideo
--------------------------------------+---------------------------------
               Reporter:  cehoyos     |                  Owner:
                   Type:  defect      |                 Status:  new
               Priority:  normal      |              Component:  avcodec
                Version:  git-master  |               Keywords:  dvvideo
             Blocked By:              |               Blocking:
Reproduced by developer:  0           |  Analyzed by developer:  0
--------------------------------------+---------------------------------
 http://thread.gmane.org/gmane.comp.video.ffmpeg.user/47955
 A user uploaded a dvvideo sample (made with Quantel server) that shows a
 white line in the top macroblock (near to the sun) that is apparently not
 supposed to be there.
 {{{
 $ ffmpeg -i dv5p-from-quantel-server_white-line-on-decode.dv -vframes 1
 out.jpg
 ffmpeg version N-56404-g4d09d2e Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 18 2013 09:55:31 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 17.100 / 55. 17.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.100 /  3. 86.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [dv @ 0x2520880] Estimating duration from bitrate, this may be inaccurate
 Input #0, dv, from 'dv5p-from-quantel-server_white-line-on-decode.dv':
   Metadata:
     timecode        : 09:59:50:00
   Duration: 00:00:00.32, start: 0.000000, bitrate: 57600 kb/s
     Stream #0:0: Video: dvvideo, yuv422p, 720x576 [SAR 64:45 DAR 16:9],
 57600 kb/s, 25 tbr, 25 tbn, 25 tbc
     Stream #0:1: Audio: pcm_s16le, 48000 Hz, stereo, s16, 1536 kb/s
 [swscaler @ 0x250a680] deprecated pixel format used, make sure you did set
 range correctly
 Output #0, image2, to 'out.jpg':
   Metadata:
     timecode        : 09:59:50:00
     encoder         : Lavf55.17.100
     Stream #0:0: Video: mjpeg, yuvj422p, 720x576 [SAR 64:45 DAR 16:9],
 q=2-31, 200 kb/s, 90k tbn, 25 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (dvvideo -> mjpeg)
 Press [q] to stop, [?] for help
 frame=    1 fps=0.0 q=0.0 Lsize=N/A time=00:00:00.04 bitrate=N/A
 video:31kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 -100.068504%
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2970>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 18 10:55:02 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 08:55:02 -0000
Subject: [FFmpeg-trac] #2969(undetermined:open): Matroska video track
 with overlay marked as non-default
In-Reply-To: <035.f2556009d2f1538fdad5349e7bb96d95@avcodec.org>
References: <035.f2556009d2f1538fdad5349e7bb96d95@avcodec.org>
Message-ID: <050.6cd02656c13628274d444da5cd52af17@avcodec.org>

#2969: Matroska video track with overlay marked as non-default
-------------------------------------+-------------------------------------
             Reporter:  MarkZV       |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  regression   |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * priority:  normal => important
 * status:  new => open
 * reproduced:  0 => 1


Comment:

 From a users' perspective, this is a regression since c6f4a3a but it was
 actually reproducible before (with the sample from ticket #1815):
 {{{
 $ ffmpeg -i test_orig.mkv -i ffmpeg-logo.png -filter_complex overlay -sn
 out.mkv
 ffmpeg version 2.0 Copyright (c) 2000-2013 the FFmpeg developers
   built on Aug 14 2013 14:02:28 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 38.100 / 52. 38.100
   libavcodec     55. 18.102 / 55. 18.102
   libavformat    55. 12.100 / 55. 12.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 79.101 /  3. 79.101
   libswscale      2.  3.100 /  2.  3.100
   libswresample   0. 17.102 /  0. 17.102
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, matroska,webm, from 'test_orig.mkv':
   Metadata:
     creation_time   : 2012-10-15 18:28:54
   Duration: 00:00:30.02, start: 0.000000, bitrate: 102 kb/s
     Stream #0:0: Video: h264 (High), yuv420p, 320x240, SAR 1:1 DAR 4:3, 25
 fps, 25 tbr, 1k tbn, 50 tbc (default)
     Stream #0:1: Audio: ac3, 48000 Hz, stereo, fltp, 32 kb/s (default)
 (forced)
     Stream #0:2: Audio: ac3, 48000 Hz, stereo, fltp, 32 kb/s (forced)
     Stream #0:3: Audio: ac3, 48000 Hz, stereo, fltp, 32 kb/s
     Stream #0:4: Subtitle: dvd_subtitle (default)
     Stream #0:5: Subtitle: dvd_subtitle (forced)
     Stream #0:6: Subtitle: dvd_subtitle
 Input #1, image2, from 'ffmpeg-logo.png':
   Duration: 00:00:00.04, start: 0.000000, bitrate: N/A
     Stream #1:0: Video: png, rgba, 396x100, 25 tbr, 25 tbn, 25 tbc
 Output #0, matroska, to 'out.mkv':
   Metadata:
     encoder         : Lavf55.12.100
     Stream #0:0: Video: mpeg4 (FMP4 / 0x34504D46), yuv420p, 320x240 [SAR
 1:1 DAR 4:3], q=2-31, 200 kb/s, 1k tbn, 25 tbc
     Stream #0:1: Audio: ac3 ([0] [0][0] / 0x2000), 48000 Hz, stereo, fltp,
 192 kb/s (default) (forced)
 Stream mapping:
   Stream #0:0 (h264) -> overlay:main (graph 0)
   Stream #1:0 (png) -> overlay:overlay (graph 0)
   overlay (graph 0) -> Stream #0:0 (mpeg4)
   Stream #0:1 -> #0:1 (ac3 -> ac3)
 Press [q] to stop, [?] for help
 frame=  750 fps=0.0 q=2.0 Lsize=    1077kB time=00:00:30.01 bitrate=
 294.1kbits/s
 video:360kB audio:704kB subtitle:0 global headers:0kB muxing overhead
 1.262209%
 }}}
 {{{
 $ ffmpeg -i out.mkv
 ffmpeg version 2.0 Copyright (c) 2000-2013 the FFmpeg developers
   built on Aug 14 2013 14:02:28 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 38.100 / 52. 38.100
   libavcodec     55. 18.102 / 55. 18.102
   libavformat    55. 12.100 / 55. 12.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 79.101 /  3. 79.101
   libswscale      2.  3.100 /  2.  3.100
   libswresample   0. 17.102 /  0. 17.102
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, matroska,webm, from 'out.mkv':
   Metadata:
     ENCODER         : Lavf55.12.100
   Duration: 00:00:30.02, start: 0.000000, bitrate: 294 kb/s
     Stream #0:0: Video: mpeg4 (Simple Profile), yuv420p, 320x240 [SAR 1:1
 DAR 4:3], 25 fps, 25 tbr, 1k tbn, 25 tbc
     Stream #0:1: Audio: ac3, 48000 Hz, stereo, fltp, 192 kb/s (default)
 (forced)
 At least one output file must be specified
 }}}
 From a quick look, the matroska muxer behaves correctly: If the input file
 contains a non-default video track and a default audio-track, the video
 tracks default flag is set to 0, the audio tracks to 1.

 I suspect the filter system or the overlay filter do not copy the
 disposition.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2969#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 18 12:17:05 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 10:17:05 -0000
Subject: [FFmpeg-trac] #2402(FFmpeg:open): FFmpeg marks no subtitles in
 mkv files as default
In-Reply-To: <037.45b894819f854c28a0fcc64d3be5f4f0@avcodec.org>
References: <037.45b894819f854c28a0fcc64d3be5f4f0@avcodec.org>
Message-ID: <052.1966c03f7d3224247c4bddffa2527bc9@avcodec.org>

#2402: FFmpeg marks no subtitles in mkv files as default
-------------------------------------+----------------------------------
             Reporter:  someuser     |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  FFmpeg
              Version:  git-master   |               Resolution:
             Keywords:  mkv          |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  1            |
-------------------------------------+----------------------------------
Changes (by zagser168):

 * cc: zagser168@? (added)


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2402#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 18 19:40:26 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 17:40:26 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.c38cc97899069986f2bd6db762f78d19@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 I finished the test and I uploaded the results.
 http://www.hydrogenaudio.org/forums/index.php?showtopic=102699
 [[Image(http://i42.tinypic.com/1043igy.png)]]
 [[Image(http://i44.tinypic.com/2ld9bhl.png)]]

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:156>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 18 19:45:07 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 17:45:07 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.490f5677c682303e00c248476cd902dd@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Cool. I'll try to work on this tonight.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:157>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 18 23:51:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 21:51:25 -0000
Subject: [FFmpeg-trac]  #2971(undetermined:new): g2m4: invalid write 3
Message-ID: <038.7207d1722682d4e1409f401e19c6265a@avcodec.org>

#2971: g2m4: invalid write 3
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://www1.datafilehost.com/d/00e98d72

 {{{
 (gdb) r -i ./g2m4_fuzz4.wmv -an -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -i
 ./g2m4_fuzz4.wmv -an -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [asf @ 0x9114d60] Estimating duration from bitrate, this may be inaccurate
 Guessed Channel Layout for  Input Stream #0.0 : mono
 Input #0, asf, from './g2m4_fuzz4.wmv':
   Metadata:
     DeviceConformanceTemplate: L2
     WMFSDKNeeded    : 0.0.0.0000
     WMFSDKVersion   : 12.0.7601.17514
     IsVBR           : 1
     WM/ToolVersion  : 5.1 Build 880
     WM/ToolName     : GoToMeeting
     BitRateFrom the writer: 492407
     Audio samples   : 29959
     Video samples   : 25936
     recording time  : Thu, 05 Apr 2012 14:03:20 Eastern Daylight Time
   Duration: 00:05:58.11, start: 0.000000, bitrate: 494 kb/s
     Stream #0:0: Audio: wmav2 (a[1][0][0] / 0x0161), 44100 Hz, mono, fltp,
 48 kb/s
     Stream #0:1: Data: none, 2 kb/s
     Stream #0:2: Video: g2m (G2M4 / 0x344D3247), rgb24, 1024x768, 444
 kb/s, 9.92 tbr, 1k tbn, 1k tbc
 [New Thread 0xb7dd1b70 (LWP 11402)]
 [New Thread 0xb75d1b70 (LWP 11403)]
 [New Thread 0xb6dd1b70 (LWP 11404)]
 [New Thread 0xb65d1b70 (LWP 11405)]
 [New Thread 0xb5dd1b70 (LWP 11406)]
 [New Thread 0xb55d1b70 (LWP 11407)]
 [New Thread 0xb4dd1b70 (LWP 11408)]
 [New Thread 0xb45d1b70 (LWP 11409)]
 [New Thread 0xb3dd1b70 (LWP 11410)]
 Output #0, null, to 'pipe:':
   Metadata:
     DeviceConformanceTemplate: L2
     WMFSDKNeeded    : 0.0.0.0000
     WMFSDKVersion   : 12.0.7601.17514
     IsVBR           : 1
     WM/ToolVersion  : 5.1 Build 880
     WM/ToolName     : GoToMeeting
     BitRateFrom the writer: 492407
     Audio samples   : 29959
     Video samples   : 25936
     recording time  : Thu, 05 Apr 2012 14:03:20 Eastern Daylight Time
     encoder         : Lavf55.18.100
     Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 1024x768,
 q=2-31, 200 kb/s, 90k tbn, 9.92 tbc
 Stream mapping:
   Stream #0:2 -> #0:0 (g2m -> rawvideo)
 Press [q] to stop, [?] for help
 [g2m @ 0x9116d20] Error decoding tile 0,0
 [g2m @ 0x9116d20] Error decoding tile 1,0
 [g2m @ 0x9116d20] Error decoding tile 2,0
 [g2m @ 0x9116d20] Error decoding tile 3,0
 [g2m @ 0x9116d20] Error decoding tile 4,0
 [g2m @ 0x9116d20] Error decoding tile 5,0
 [g2m @ 0x9116d20] Error decoding tile 0,1
 [g2m @ 0x9116d20] Error decoding tile 1,1
 [g2m @ 0x9116d20] Error decoding tile 4,1
 [g2m @ 0x9116d20] Error decoding tile 5,1
 [g2m @ 0x9116d20] Error decoding tile 0,2
 [g2m @ 0x9116d20] Error decoding tile 1,2
 [g2m @ 0x9116d20] Error decoding tile 2,2
 [g2m @ 0x9116d20] Error decoding tile 4,2
 [g2m @ 0x9116d20] Error decoding tile 5,2
 [g2m @ 0x9116d20] Error decoding tile 0,3
 [g2m @ 0x9116d20] Error decoding tile 1,3
 [g2m @ 0x9116d20] Error decoding tile 2,3
 [g2m @ 0x9116d20] Error decoding tile 0,4
 [g2m @ 0x9116d20] Error decoding tile 1,4
 [g2m @ 0x9116d20] Error decoding tile 5,4

 Program received signal SIGSEGV, Segmentation fault.
 yuv2rgb (V=-1, U=1, Y=247, out=<optimized out>) at libavcodec/g2meet.c:227
 227         out[0] = av_clip_uint8(Y + (             91881 * V + 32768 >>
 16));
 (gdb) bt
 #0  yuv2rgb (V=-1, U=1, Y=247, out=<optimized out>) at
 libavcodec/g2meet.c:227
 #1  jpg_decode_data (c=c at entry=0x9147f80, width=0, width at entry=176,
 height=2,
     height at entry=88,
     src=src at entry=0x915fab8
 "\366b=(\306E(S\232S\305Q#v??i\330\315\033s@\b\006M\001q\316iq\203\307\064\273Nh\001:??w\245\306\071\315",
 <incomplete sequence \343\232>, src_size=src_size at entry=785,
     dst=dst at entry=0xb358f230
 "\341\345\350\341\345\350\342\346\351\342\346\351\342\346\351\342\346\351\342\346\351\342\346\351\343\347\352\343\347\352\343\347\352\343\347\352\342\346\351\341\345\350\340\344\347\340\344\347\341\345\350\341\345\350\341\345\350\341\345\350\341\345\350\341\345\350\341\345\350\341\345\350\343\347\352\342\346\351\342\346\351\341\345\350\341\345\350\342\346\351\342\346\351\343\347\352\344\350\353\344\350\353\343\347\352\342\346\351\342\346\351\342\346\351\343\347\352\343\347\352\342\346\351\341\345\350\341\345\350\341\345\350\342\346\351\344\350\353\346\352\355\347\353\356\346\352\355\346\352\355\346\352\355\345\351\354\345\351\354\344\350\353\344\350\353\344\350\353\344\350\353\344\350\353\344\350\353\345\351\354\345\351\354\346\352\355\346\352\355\346\352\355\344\350\353\344\350\353\344",
 <incomplete sequence \350>..., dst_stride=3072,
     mask=mask at entry=0x0, mask_stride=mask_stride at entry=0, num_mbs=11,
     num_mbs at entry=0, swapuv=0) at libavcodec/g2meet.c:291
 #2  0x0834f161 in kempf_decode_tile (c=c at entry=0x9147f80,
     tile_x=<optimized out>, tile_y=<optimized out>, src=<optimized out>,
     src at entry=0x915fab7 "
 \366b=(\306E(S\232S\305Q#v??i\330\315\033s@\b\006M\001q\316iq\203\307\064\273Nh\001:??w\245\306\071\315",
 <incomplete sequence \343\23---Type <return> to continue, or q <return> to
 quit---
 2>, src_size=src_size at entry=786) at libavcodec/g2meet.c:369
 #3  0x0835003c in g2m_decode_frame (avctx=0x9116d20, data=0x9148900,
     got_picture_ptr=0xbffff504, avpkt=0xbffff2a8) at
 libavcodec/g2meet.c:760
 #4  0x0867a58e in avcodec_decode_video2 (avctx=0x9116d20,
     picture=picture at entry=0x9148900,
     got_picture_ptr=got_picture_ptr at entry=0xbffff504,
     avpkt=avpkt at entry=0xbffff750) at libavcodec/utils.c:1995
 #5  0x080b394d in decode_video (ist=ist at entry=0x9117220,
     pkt=pkt at entry=0xbffff750, got_output=got_output at entry=0xbffff504)
     at ffmpeg.c:1668
 #6  0x080b786a in output_packet (pkt=0xbffff6e8, ist=0x9117220)
     at ffmpeg.c:1866
 #7  process_input (file_index=3) at ffmpeg.c:3089
 #8  0x080a3043 in transcode_step () at ffmpeg.c:3185
 #9  transcode () at ffmpeg.c:3237
 #10 main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2971>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 00:08:43 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 22:08:43 -0000
Subject: [FFmpeg-trac] #2971(avcodec:open): g2m4: invalid write 3
In-Reply-To: <038.7207d1722682d4e1409f401e19c6265a@avcodec.org>
References: <038.7207d1722682d4e1409f401e19c6265a@avcodec.org>
Message-ID: <053.93daea276eea651864079c264f66d0c3@avcodec.org>

#2971: g2m4: invalid write 3
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  g2m4 crash   |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => g2m4 crash SIGSEGV


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2971#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 00:11:54 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 22:11:54 -0000
Subject: [FFmpeg-trac] #2972(undetermined:new): g2m4: trashed mouse pointer
Message-ID: <038.bacab006ef408f765297917ae1c3845b@avcodec.org>

#2972: g2m4: trashed mouse pointer
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 when you decode attached file with git head then mouse pointer from the
 video will look trashed

 it decoded ok at least with gb4e1630

 http://www1.datafilehost.com/d/f25241dc

 {{{
 C:\>ffmpeg -i g2m4_pointer.wmv -an out.avi
 ffmpeg version N-56297-g7ac6c63 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 15 2013 18:02:28 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-version3 --disable-w32threads
 --enable-av
 isynth --enable-bzlib --enable-fontconfig --enable-frei0r --enable-gnutls
 --enab
 le-iconv --enable-libass --enable-libbluray --enable-libcaca --enable-
 libfreetyp
 e --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmp3lame
 --ena
 ble-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
 --enable-l
 ibopus --enable-librtmp --enable-libschroedinger --enable-libsoxr
 --enable-libsp
 eex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-
 libvo-aa
 cenc --enable-libvo-amrwbenc --enable-libvorbis --enable-libvpx --enable-
 libx264
  --enable-libxavs --enable-libxvid --enable-zlib
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.102 / 55. 16.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, asf, from 'g2m4_pointer.wmv':
   Metadata:
     DeviceConformanceTemplate: L2
     WMFSDKNeeded    : 0.0.0.0000
     WMFSDKVersion   : 12.0.7601.17514
     IsVBR           : 1
     WM/ToolVersion  : 5.1 Build 880
     WM/ToolName     : GoToMeeting
     BitRateFrom the writer: 492407
     Audio samples   : 29959
     Video samples   : 25936
     recording time  : Thu, 05 Apr 2012 14:03:20 Eastern Daylight Time
     encoder         : Lavf55.16.102
   Duration: 00:00:09.87, start: 0.000000, bitrate: 506 kb/s
     Stream #0:0: Video: g2m (G2M4 / 0x344D3247), rgb24, 1024x768, 9.92
 tbr, 1k t
 bn, 1k tbc
 Output #0, avi, to 'out.avi':
   Metadata:
     DeviceConformanceTemplate: L2
     WMFSDKNeeded    : 0.0.0.0000
     WMFSDKVersion   : 12.0.7601.17514
     IsVBR           : 1
     WM/ToolVersion  : 5.1 Build 880
     WM/ToolName     : GoToMeeting
     BitRateFrom the writer: 492407
     Audio samples   : 29959
     Video samples   : 25936
     recording time  : Thu, 05 Apr 2012 14:03:20 Eastern Daylight Time
     ISFT            : Lavf55.16.102
     Stream #0:0: Video: mpeg4 (FMP4 / 0x34504D46), yuv420p, 1024x768,
 q=2-31, 20
 0 kb/s, 9.92 tbn, 9.92 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (g2m -> mpeg4)
 Press [q] to stop, [?] for help
 frame=   56 fps=0.0 q=22.2 size=     623kB time=00:00:06.05 bitrate=
 843.1kbits/
 frame=   88 fps=0.0 q=31.0 Lsize=     721kB time=00:00:09.88 bitrate=
 597.8kbits
 /s dup=0 drop=67
 video:713kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 1.104291%
 }}}

 decodes ok with (have no ffmpeg bin at hand):

 {{{
 C:\>ffplay g2m4_pointer.wmv
 ffplay version N-56125-gb4e1630 Copyright (c) 2003-2013 the FFmpeg
 developers
   built on Sep  9 2013 01:40:33 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-version3 --disable-w32threads
 --enable-av
 isynth --enable-bzlib --enable-fontconfig --enable-frei0r --enable-gnutls
 --enab
 le-iconv --enable-libass --enable-libbluray --enable-libcaca --enable-
 libfreetyp
 e --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmp3lame
 --ena
 ble-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
 --enable-l
 ibopus --enable-librtmp --enable-libschroedinger --enable-libsoxr
 --enable-libsp
 eex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-
 libvo-aa
 cenc --enable-libvo-amrwbenc --enable-libvorbis --enable-libvpx --enable-
 libx264
  --enable-libxavs --enable-libxvid --enable-zlib
   libavutil      52. 43.100 / 52. 43.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 16.101 / 55. 16.101
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 84.100 /  3. 84.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, asf, from 'g2m4_pointer.wmv':    0KB sq=    0B f=0/0
   Metadata:
     DeviceConformanceTemplate: L2
     WMFSDKNeeded    : 0.0.0.0000
     WMFSDKVersion   : 12.0.7601.17514
     IsVBR           : 1
     WM/ToolVersion  : 5.1 Build 880
     WM/ToolName     : GoToMeeting
     BitRateFrom the writer: 492407
     Audio samples   : 29959
     Video samples   : 25936
     recording time  : Thu, 05 Apr 2012 14:03:20 Eastern Daylight Time
     encoder         : Lavf55.16.102
   Duration: 00:00:09.87, start: 0.000000, bitrate: 506 kb/s f=0/0
     Stream #0:0: Video: g2m (G2M4 / 0x344D3247), rgb24, 1024x768, 9.92
 tbr, 1k t
 bn, 1k tbc
    8.45 M-V: -0.016 fd=  56 aq=    0KB vq=    0KB sq=    0B f=0/0
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2972>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 00:25:30 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 22:25:30 -0000
Subject: [FFmpeg-trac] #2926(avcodec:closed): g2m4: invalid write 2
In-Reply-To: <038.a07e2b8b90ee8e674b944215084b3765@avcodec.org>
References: <038.a07e2b8b90ee8e674b944215084b3765@avcodec.org>
Message-ID: <053.913490cbd26fe7e933c191dadf7ff44c@avcodec.org>

#2926: g2m4: invalid write 2
------------------------------------+-------------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  important   |                Component:  avcodec
              Version:  git-master  |               Resolution:  duplicate
             Keywords:  g2m4 crash  |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => g2m4 crash
 * priority:  normal => important
 * version:  unspecified => git-master
 * component:  undetermined => avcodec


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2926#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 00:25:48 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 22:25:48 -0000
Subject: [FFmpeg-trac] #2922(avcodec:closed): g2m4: crash
In-Reply-To: <038.6a2a6e39667d0eab11ac1e8dbea3c7c7@avcodec.org>
References: <038.6a2a6e39667d0eab11ac1e8dbea3c7c7@avcodec.org>
Message-ID: <053.80755c2d643dfe594d3e5404417e209d@avcodec.org>

#2922: g2m4: crash
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  important   |                Component:  avcodec
              Version:  git-master  |               Resolution:  fixed
             Keywords:  g2m4 crash  |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by cehoyos):

 * keywords:   => g2m4 crash
 * priority:  normal => important
 * version:  unspecified => git-master


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2922#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 00:26:18 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 22:26:18 -0000
Subject: [FFmpeg-trac] #2842(avcodec:closed): g2m4: invalid write with
 fuzzed file
In-Reply-To: <038.9bf0edd0a2c8a1dc3ffb36c99f972957@avcodec.org>
References: <038.9bf0edd0a2c8a1dc3ffb36c99f972957@avcodec.org>
Message-ID: <053.dd762a9a74453319254f6fd7f614738e@avcodec.org>

#2842: g2m4: invalid write with fuzzed file
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  important   |                Component:  avcodec
              Version:  git-master  |               Resolution:  fixed
             Keywords:  g2m4        |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by cehoyos):

 * keywords:   => g2m4
 * priority:  normal => important
 * version:  unspecified => git-master
 * component:  undetermined => avcodec


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2842#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 00:36:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 18 Sep 2013 22:36:40 -0000
Subject: [FFmpeg-trac] #2972(avcodec:open): g2m4: trashed mouse pointer
In-Reply-To: <038.bacab006ef408f765297917ae1c3845b@avcodec.org>
References: <038.bacab006ef408f765297917ae1c3845b@avcodec.org>
Message-ID: <053.c15b3f96641b838a69be493055d1ea86@avcodec.org>

#2972: g2m4: trashed mouse pointer
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  g2m4         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => g2m4 regression


Comment:

 Regression since fa9e8ba

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2972#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 08:24:36 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 19 Sep 2013 06:24:36 -0000
Subject: [FFmpeg-trac] #2877(undetermined:new): Unable to rewind/seek a
 mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.e39add3841b47fd0beb709962dfdd26d@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Is a specific sample required or is the problem reproducible with every
 mp3 file?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 08:47:01 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 19 Sep 2013 06:47:01 -0000
Subject: [FFmpeg-trac] #2877(undetermined:new): Unable to rewind/seek a
 mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.e1f5270cc4b80232ae5a2aa039387959@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by jpo38):

 I could reproduce it with all mp3 file I tried (3 or 4, part of my test
 suite). I even see it when reading audio from avi files.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 10:27:52 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 19 Sep 2013 08:27:52 -0000
Subject: [FFmpeg-trac] #1437(FFprobe:closed): probe less than the whole
 file with -show_frames
In-Reply-To: <033.3849e52d622b8a90aa3dfb9fe7bd323c@avcodec.org>
References: <033.3849e52d622b8a90aa3dfb9fe7bd323c@avcodec.org>
Message-ID: <048.4b0d93d011798d64cbba87a094def510@avcodec.org>

#1437: probe less than the whole file with -show_frames
--------------------------------------+-----------------------------------
             Reporter:  mdsh          |                    Owner:  stefano
                 Type:  enhancement   |                   Status:  closed
             Priority:  wish          |                Component:  FFprobe
              Version:  git-master    |               Resolution:  fixed
             Keywords:  ffprobe seek  |               Blocked By:
             Blocking:                |  Reproduced by developer:  1
Analyzed by developer:  1             |
--------------------------------------+-----------------------------------
Changes (by saste):

 * analyzed:  0 => 1
 * keywords:   => ffprobe seek
 * status:  open => closed
 * resolution:   => fixed
 * reproduced:  0 => 1


Comment:

 Should be fixed in:
 {{{
 commit f0606a28deca304462349f623118a79069938339
 Author: Stefano Sabatini <stefasab at gmail.com>
 Date:   Mon Oct 22 16:01:29 2012 +0200

     ffprobe: add -read_intervals option

     This is also useful to test seeking on an input file.

     This also addresses trac ticket #1437.
 }}}

 To read only the first packet from the start (and corresponding frames):
 {{{
 ffprobe -show_frames -print_format xml -read_intervals "%+#1" INPUT
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1437#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 10:39:43 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 19 Sep 2013 08:39:43 -0000
Subject: [FFmpeg-trac] #2877(undetermined:new): Unable to rewind/seek a
 mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.cfecab5b55f9390a01e837f1eddba0d7@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by saste):

 Replying to [comment:8 jpo38]:
 > I could reproduce it with all mp3 file I tried (3 or 4, part of my test
 suite). I even see it when reading audio from avi files.

 What happens if you use avformat_seek_file() instead? Also are you sure
 that your files start with timestamp 0?

 Today I added an option to ffprobe which may help to test this, try this
 command and inspect the output:
 {{{
 ffprobe IN.mp3 -read_intervals "%2,0%2" -of compact -show_packets
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:9>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 14:17:04 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 19 Sep 2013 12:17:04 -0000
Subject: [FFmpeg-trac] #113(avcodec:closed): AAC - Audio object type 23
 is not supported
In-Reply-To: <040.2b51c00bb6991c8d538fd4b03d97967f@avcodec.org>
References: <040.2b51c00bb6991c8d538fd4b03d97967f@avcodec.org>
Message-ID: <055.5589b03dd609faf3b4c2dfd252d77b94@avcodec.org>

#113: AAC - Audio object type 23 is not supported
-------------------------------------+-----------------------------------
             Reporter:  k_s_johnson  |                    Owner:
                 Type:  enhancement  |                   Status:  closed
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  AAC-LD       |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by richardpl):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in 32ea39f56d9 / 1914e6f010b332.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/113#comment:11>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 16:55:13 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 19 Sep 2013 14:55:13 -0000
Subject: [FFmpeg-trac] #2973(FFprobe:new): 'ffmpeg -i' print SAR instead of
 PAR
Message-ID: <035.5475d9b16ff0cddffdf45f07d4cbcd3a@avcodec.org>

#2973: 'ffmpeg -i' print SAR instead of PAR
-------------------------------------+-------------------------------------
             Reporter:  jofsey       |                     Type:  defect
               Status:  new          |                 Priority:  normal
            Component:  FFprobe      |                  Version:  2.0.1
             Keywords:  aspect-      |               Blocked By:
  ratio, sar, par                    |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 Summary of the bug:
 If my knowledge is correct, SAR (Storage Aspect Ratio) is the ratio of
 pixel dimensions. For example, a 640 ? 480 video has a SAR of 640/480 =
 4:3.

 Whereas PAR (Pixel Aspect Ratio) is ratio of pixel height and width, and
 most of modern videos have square PAR (1:1).

 But when I tried to check it with `ffmpeg -i` or ffprobe, I got square SAR
 instead of square PAR for all test videos.

 How to reproduce:
 {{{
 % ffprobe 3867805782.mp4
 ffprobe version 2.0.1 Copyright (c) 2007-2013 the FFmpeg developers
   built on Aug 11 2013 14:52:28 with gcc 4.8.1 (GCC) 20130725 (prerelease)
   configuration: --prefix=/usr --disable-debug --disable-static --enable-
 avresample --enable-dxva2 --enable-fontconfig --enable-gpl --enable-libass
 --enable-libbluray --enable-libfreetype --enable-libgsm --enable-
 libmodplug --enable-libmp3lame --enable-libopencore_amrnb --enable-
 libopencore_amrwb --enable-libopenjpeg --enable-libopus --enable-libpulse
 --enable-librtmp --enable-libschroedinger --enable-libspeex --enable-
 libtheora --enable-libv4l2 --enable-libvorbis --enable-libvpx --enable-
 libx264 --enable-libxvid --enable-pic --enable-postproc --enable-runtime-
 cpudetect --enable-shared --enable-swresample --enable-vdpau --enable-
 version3 --enable-x11grab
   libavutil      52. 38.100 / 52. 38.100
   libavcodec     55. 18.102 / 55. 18.102
   libavformat    55. 12.100 / 55. 12.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 79.101 /  3. 79.101
   libavresample   1.  1.  0 /  1.  1.  0
   libswscale      2.  3.100 /  2.  3.100
   libswresample   0. 17.102 /  0. 17.102
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from '3867805782.mp4':
   Metadata:
     major_brand     : isom
     minor_version   : 512
     compatible_brands: isomiso2avc1mp41
     encoder         : Lavf54.6.100
   Duration: 00:00:07.97, start: 0.000000, bitrate: 428 kb/s
     Stream #0:0(und): Video: h264 (Constrained Baseline) (avc1 /
 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 309 kb/s, 29.97 fps,
 29.97 tbr, 2997 tbn, 59.94 tbc
     Metadata:
       handler_name    : VideoHandler
     Stream #0:1(und): Audio: aac (mp4a / 0x6134706D), 44100 Hz, stereo,
 fltp, 115 kb/s
     Metadata:
       handler_name    : SoundHandler

 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2973>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 17:23:59 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 19 Sep 2013 15:23:59 -0000
Subject: [FFmpeg-trac] #2973(avformat:closed): 'ffmpeg -i' print SAR
 instead of PAR
In-Reply-To: <035.5475d9b16ff0cddffdf45f07d4cbcd3a@avcodec.org>
References: <035.5475d9b16ff0cddffdf45f07d4cbcd3a@avcodec.org>
Message-ID: <050.d692faa6fccf3315faeeb8c3e45c6187@avcodec.org>

#2973: 'ffmpeg -i' print SAR instead of PAR
------------------------------------+------------------------------------
             Reporter:  jofsey      |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:  invalid
             Keywords:  aspect      |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------
Changes (by cehoyos):

 * keywords:  aspect-ratio, sar, par => aspect
 * resolution:   => invalid
 * status:  new => closed
 * component:  FFprobe => avformat
 * version:  2.0.1 => git-master


Comment:

 SAR .. Sample Aspect Ratio (what you call Pixel Aspect Ratio)
 DAR .. Display Aspect Ratio (maybe what you call Storage Aspect Ratio or
 is that just width/height?)

 Imo, it does not make much sense to discuss how FFmpeg calls them, if you
 have problems with actual display or display on third party software after
 conversion, please report them!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2973#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 19 17:31:39 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 19 Sep 2013 15:31:39 -0000
Subject: [FFmpeg-trac] #2973(avformat:closed): 'ffmpeg -i' print SAR
 instead of PAR
In-Reply-To: <035.5475d9b16ff0cddffdf45f07d4cbcd3a@avcodec.org>
References: <035.5475d9b16ff0cddffdf45f07d4cbcd3a@avcodec.org>
Message-ID: <050.39e2b0e71120eb23c0d6bf73715d6002@avcodec.org>

#2973: 'ffmpeg -i' print SAR instead of PAR
------------------------------------+------------------------------------
             Reporter:  jofsey      |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:  invalid
             Keywords:  aspect      |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by cehoyos):

 See also ticket #1776 for a more complete discussion.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2973#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 20 07:10:44 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 05:10:44 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.d1bb0a83b92ec21851bac8b1e4922ec1@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 So, I attached a patch that moves in the right direction (I think).

 Most of the worse-performing samples, I noticed, had to do with hole
 avoidance being quickly violated when using low bit rates. So I re-did
 twoloop's RD improvement step to better respect hole avoidance, to be
 asymmetric in its scale manipulation (ie: to avoid adding all 1 or all 2,
 which would be quickly undone by the bitrate adjustment step), and
 everything seemed to work a lot better.

 However, on the "asymmetric" little word, there's a huge hack involved. I
 wouldn't want to waste your time without a warning: this hack can most
 assuredly be improved. But I don't think I'll waste time improving a hack,
 since the real solution is to implement a dynamic programming coder, which
 I intend to do in the future. So while hackish and probably suboptimal,
 I'll probably leave it as-is since it works well enough.

 I haven't tested VBR much. From what I tested, it seems mostly unharmed,
 but it still needs a better calibrated cutoff. That will take time (lets
 say it'll be v6).

 So, this patch should be good enough for ABR. VBR will need a v6, and some
 day (time permitting) I'll post '''the''' patch with the dynamic coder.

 I couldn't quite match FDK performance, but I suspect there's two reasons
 for this. First, M/S coding isn't as good as it should be. And 2, FDK
 probably uses a dynamic coder. So I think we'll catch FDK with the dynamic
 coder (which can also do the M/S part, so it'll fix both with one shot).

 However, I tested most of the samples in your session, and '''they've all
 improved'''. Some more than others, of course. So, if not all the samples,
 you might want to retest the worst offenders.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:158>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 20 08:47:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 06:47:49 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.7331f054bc11e79e5f98ce3704d7ea38@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 Wow, this is fast! It's constantly doing more than 90x realtime on all the
 bitrate range on all kinds of music!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:159>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 20 09:28:37 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 07:28:37 -0000
Subject: [FFmpeg-trac] #2877(undetermined:new): Unable to rewind/seek a
 mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.4a4e15cbdefea7e8e3702cd2647a2e93@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by jpo38):

 Thank you for investigating this problem.

 When I read my mp3 files, AVFormatContext::start_time is 0, so I suspect
 my file starts with timestamp 0, right?

 I replaced
 av_seek_frame( container, audio_stream, 0, AVSEEK_FLAG_FRAME );
 by
 avformat_seek_file( container, audio_stream, INT64_MIN,
 container->start_time, INT64_MAX, 0 )

 No change. I can still see the bug.

 I ran {{{ffprobe IN.mp3 -read_intervals "%2,0%2" -of compact
 -show_packets}}}

 Here is the output (truncated):

 {{{
 packet|codec_type=audio|stream_index=0|pts=0|pts_time=0.000000|dts=0|dts_time=0.000000|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=417|pos=461|flags=K
 packet|codec_type=audio|stream_index=0|pts=368640|pts_time=0.026122|dts=368640|dts_time=0.026122|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=878|flags=K
 packet|codec_type=audio|stream_index=0|pts=737280|pts_time=0.052245|dts=737280|dts_time=0.052245|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=1296|flags=K
 packet|codec_type=audio|stream_index=0|pts=1105920|pts_time=0.078367|dts=1105920|dts_time=0.078367|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=1714|flags=K
 packet|codec_type=audio|stream_index=0|pts=1474560|pts_time=0.104490|dts=1474560|dts_time=0.104490|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=2132|flags=K
 packet|codec_type=audio|stream_index=0|pts=1843200|pts_time=0.130612|dts=1843200|dts_time=0.130612|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=2550|flags=K
 packet|codec_type=audio|stream_index=0|pts=2211840|pts_time=0.156735|dts=2211840|dts_time=0.156735|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=2968|flags=K
 packet|codec_type=audio|stream_index=0|pts=2580480|pts_time=0.182857|dts=2580480|dts_time=0.182857|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=3386|flags=K
 packet|codec_type=audio|stream_index=0|pts=2949120|pts_time=0.208980|dts=2949120|dts_time=0.208980|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=3804|flags=K
 packet|codec_type=audio|stream_index=0|pts=3317760|pts_time=0.235102|dts=3317760|dts_time=0.235102|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=4222|flags=K
 packet|codec_type=audio|stream_index=0|pts=3686400|pts_time=0.261224|dts=3686400|dts_time=0.261224|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=4640|flags=K
 packet|codec_type=audio|stream_index=0|pts=4055040|pts_time=0.287347|dts=4055040|dts_time=0.287347|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=5058|flags=K
 packet|codec_type=audio|stream_index=0|pts=4423680|pts_time=0.313469|dts=4423680|dts_time=0.313469|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=5476|flags=K
 packet|codec_type=audio|stream_index=0|pts=4792320|pts_time=0.339592|dts=4792320|dts_time=0.339592|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=5894|flags=K
 packet|codec_type=audio|stream_index=0|pts=5160960|pts_time=0.365714|dts=5160960|dts_time=0.365714|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=6312|flags=K
 packet|codec_type=audio|stream_index=0|pts=5529600|pts_time=0.391837|dts=5529600|dts_time=0.391837|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=6730|flags=K
 packet|codec_type=audio|stream_index=0|pts=5898240|pts_time=0.417959|dts=5898240|dts_time=0.417959|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=7148|flags=K

 ...

 packet|codec_type=audio|stream_index=0|pts=26542080|pts_time=1.880816|dts=26542080|dts_time=1.880816|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=30554|flags=K
 packet|codec_type=audio|stream_index=0|pts=26910720|pts_time=1.906939|dts=26910720|dts_time=1.906939|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=30972|flags=K
 packet|codec_type=audio|stream_index=0|pts=27279360|pts_time=1.933061|dts=27279360|dts_time=1.933061|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=417|pos=31390|flags=K
 packet|codec_type=audio|stream_index=0|pts=27648000|pts_time=1.959184|dts=27648000|dts_time=1.959184|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=31807|flags=K
 packet|codec_type=audio|stream_index=0|pts=28016640|pts_time=1.985306|dts=28016640|dts_time=1.985306|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=32225|flags=K
 packet|codec_type=audio|stream_index=0|pts=0|pts_time=0.000000|dts=0|dts_time=0.000000|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=417|pos=461|flags=K
 packet|codec_type=audio|stream_index=0|pts=368640|pts_time=0.026122|dts=368640|dts_time=0.026122|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=878|flags=K
 packet|codec_type=audio|stream_index=0|pts=737280|pts_time=0.052245|dts=737280|dts_time=0.052245|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=1296|flags=K
 packet|codec_type=audio|stream_index=0|pts=1105920|pts_time=0.078367|dts=1105920|dts_time=0.078367|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=1714|flags=K
 packet|codec_type=audio|stream_index=0|pts=1474560|pts_time=0.104490|dts=1474560|dts_time=0.104490|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=2132|flags=K
 packet|codec_type=audio|stream_index=0|pts=1843200|pts_time=0.130612|dts=1843200|dts_time=0.130612|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=2550|flags=K
 packet|codec_type=audio|stream_index=0|pts=2211840|pts_time=0.156735|dts=2211840|dts_time=0.156735|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=2968|flags=K
 packet|codec_type=audio|stream_index=0|pts=2580480|pts_time=0.182857|dts=2580480|dts_time=0.182857|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=3386|flags=K
 packet|codec_type=audio|stream_index=0|pts=2949120|pts_time=0.208980|dts=2949120|dts_time=0.208980|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=3804|flags=K
 packet|codec_type=audio|stream_index=0|pts=3317760|pts_time=0.235102|dts=3317760|dts_time=0.235102|duration=368640|duration_time=0.026122|convergence_duration=N/A|convergence_duration_time=N/A|size=418|pos=4222|flags=K

 ...

 }}}

 Looks like you read the file twice and you're getting the same number of
 data. It works the same for me, only the data I read (when converted to
 float/double) are not the same....
 Did you try to compile my sample? It's very straightforward. It reads the
 file once, rewinds and reads again. It then compares data. We read the
 same number of samples but not the same values...

 Jean

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:10>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 20 10:55:31 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 08:55:31 -0000
Subject: [FFmpeg-trac] #2877(undetermined:new): Unable to rewind/seek a
 mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.d2127293f8ff52a8e4539cd3fc51f4af@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by saste):

 Replying to [comment:10 jpo38]:
 > Thank you for investigating this problem.
 >
 > When I read my mp3 files, AVFormatContext::start_time is 0, so I suspect
 my file starts with timestamp 0, right?
 >
 > I replaced
 > av_seek_frame( container, audio_stream, 0, AVSEEK_FLAG_FRAME );
 > by
 > avformat_seek_file( container, audio_stream, INT64_MIN,
 container->start_time, INT64_MAX, 0 )
 >
 > No change. I can still see the bug.
 >
 > I ran {{{ffprobe IN.mp3 -read_intervals "%2,0%2" -of compact
 -show_packets}}}
 >
 > Here is the output (truncated):
 [...]
 > Looks like you read the file twice and you're getting the same number of
 data. It works the same for me, only the data I read (when converted to
 float/double) are not the same....
 > Did you try to compile my sample? It's very straightforward. It reads
 the file once, rewinds and reads again. It then compares data. We read the
 same number of samples but not the same values...

 It doesn't explain the issue, but you could try to flush the data in the
 decoder before re-using it in the second loop, since it is the only object
 which is reused between the two sessions. Also, with which formats does it
 happen, how much is the data different, how many samples differ?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:11>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 20 12:13:24 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 10:13:24 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.8aa1f49a43fd06591fbc4c1d23d09408@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 I changed aaccoder.c line 806 from
 {{{
                 ? (refbits * 1.6f * avctx->sample_rate / 1024)
 }}}
 to
 {{{
                 ? (refbits * 2.4f * avctx->sample_rate / 1024)
 }}}
 This is certainly better, although exact optimal value is debatable.


 I encoded 2 days of diverse sounds with many settings, and listened to 2
 hours of the sounds. This encoder do a relatively good job even in abr
 96kbps. It's not a blind test, but I feel the improvement. Also, I
 compared abr 128kbps vs vbr -q 0.3, but still, abr is better. The vbr
 exposes its weak point in relatively quiet, tonal sections. Low S/N and
 stronger LPF effect.

 [[Image(http://i40.tinypic.com/r1l7j4.png)]]

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:160>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 20 12:19:21 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 10:19:21 -0000
Subject: [FFmpeg-trac] #2877(undetermined:closed): Unable to rewind/seek
 a mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.60fe25df53da0c31a47d296c1fcc8a7e@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:  invalid
             Blocking:               |               Blocked By:
Analyzed by developer:  1            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by saste):

 * analyzed:  0 => 1
 * status:  new => closed
 * resolution:   => invalid
 * reproduced:  0 => 1


Comment:

 Replying to [comment:11 saste]:
 > Replying to [comment:10 jpo38]:
 [...]
 > > Looks like you read the file twice and you're getting the same number
 of data. It works the same for me, only the data I read (when converted to
 float/double) are not the same....
 > > Did you try to compile my sample? It's very straightforward. It reads
 the file once, rewinds and reads again. It then compares data. We read the
 same number of samples but not the same values...
 >
 > It doesn't explain the issue, but you could try to flush the data in the
 decoder before re-using it in the second loop, since it is the only object
 which is reused between the two sessions. Also, with which formats does it
 happen, how much is the data different, how many samples differ?

 And since I was curious I did a few experiments, and noticed that there is
 a very small imperceptible difference, so the two buffers are different
 but will sound the same to human ears.

 This is apparently how the MP3 decoder (and many other lossy decoders)
 work, they keep an internal state which affects decoding, when you seek
 back and decode again the decoder has a different state, which causes it
 to produce a slightly different output, although no human listener should
 be able to notice the difference.

 In conclusion, it's not a bug in libavcodec but rather the way the MP3
 decoder works. Feel free to reopen the ticket if you don't agree.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:12>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 20 14:00:26 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 12:00:26 -0000
Subject: [FFmpeg-trac] #2877(undetermined:closed): Unable to rewind/seek
 a mp3
In-Reply-To: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
References: <034.522d8932e04abdddac49b107717590e1@avcodec.org>
Message-ID: <049.ba577d1b8d29f6f173b6375648824ff0@avcodec.org>

#2877: Unable to rewind/seek a mp3
-------------------------------------+-------------------------------------
             Reporter:  jpo38        |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:  seek         |               Resolution:  invalid
             Blocking:               |               Blocked By:
Analyzed by developer:  1            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------

Comment (by jpo38):

 Hello,

 Thanks you for the time you spent investigating the problem.

 I'm not an expert in audio codec, so I cannot "disagree". I understand
 your point and it probably makes sense...

 In my application, I need to read the file twice and check I got the same
 data. So, to workaround this problem, I'll have to close and reopen the
 file to make the decoder start from the same state.

 Thanks again

 Jean

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2877#comment:13>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 20 21:51:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 19:51:25 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.2fa65677024010ca199817acdb30a9fc@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 I listened to about 8 hours of songs, movies, sine and white noise, and
 5.1ch surround source. I'd say that abr is mature.

 klaussfreire, could you add a "redirect" feature that when set bitrate is
 too high, redirect to the maximum bitrate possible, rather than to print
 the error message and stop. This simplify many batch encodes, including
 when encoding from hundreds of videos that have various audio frequencies
 and number of channels. Currently it gets:
 {{{
 [aac @ 013efa60] Too many bits per frame requested
 }}}

 Also, I notice that this commandline
 {{{
 ffmpeg -i ffmpeg_aacvbr_pulse1.wav -c:a aac -strict experimental -q:a 0.1
 -ar 8000 -ac 1 ffmpeg_aacvbr_pulse1.mp4
 }}}
 gets the same Too many bits warning, and lowering the quality -q:a don't
 work. It only works when using -b:a, or setting higher frequency such as
 -ar 22050. It could be a problem when encoding from a video taken by some
 old digital cameras with 8kHz pcm audio attached.

 The error message:
 {{{
 ffmpeg56470.exe -y -i ffmpeg_aacvbr_pulse1.wav -c:a aac -strict
 experimental -q:a
  0.3 -ar 8000 ffmpeg_aacvbr_pulse1.mp4
 ffmpeg version N-56469-gf6622f9 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 20 2013 15:29:55 with gcc 4.8.1 (GCC)
   configuration: --enable-gpl --enable-version3 --enable-nonfree --enable-
 libfdk
 -aac --extra-ldflags=-static --extra-cflags='-march=native -mfpmath=sse'
 --optfl
 ags=-O2
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Guessed Channel Layout for  Input Stream #0.0 : stereo
 Input #0, wav, from 'ffmpeg_aacvbr_pulse1.wav':
   Metadata:
     encoder         : Coderium SoundEngine 4.59
   Duration: 00:00:12.12, bitrate: 1411 kb/s
     Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz,
 stereo, s16
 , 1411 kb/s
 [aac @ 030cbf00] Too many bits per frame requested
 Output #0, mp4, to 'ffmpeg_aacvbr_pulse1.mp4':
   Metadata:
     encoder         : Coderium SoundEngine 4.59
     Stream #0:0: Audio: aac, 8000 Hz, stereo, fltp, 128 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (pcm_s16le -> aac)
 Error while opening encoder for output stream #0:0 - maybe incorrect
 parameters
 such as bit_rate, rate, width or height
 }}}

 I think this is about time we remove the -strict experimental flag.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:161>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 20 22:54:42 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 20:54:42 -0000
Subject: [FFmpeg-trac] #2974(FFmpeg:new): Plex Media Server: LGPL/GPL
 violation
Message-ID: <037.5b51fbc3110cea2591b03e834266d430@avcodec.org>

#2974: Plex Media Server: LGPL/GPL violation
-------------------------------------+-------------------------------------
             Reporter:  11rcombs     |                     Type:  license
               Status:  new          |  violation
            Component:  FFmpeg       |                 Priority:  important
             Keywords:  Plex         |                  Version:  git-
             Blocking:               |  master
Analyzed by developer:  0            |               Blocked By:
                                     |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
 http://www.plexapp.com/
 Plex Media Server includes 2 transcoder binaries: Plex Transcoder and Plex
 New Transcoder. Both are versions of FFmpeg, modified to different
 degrees. Both have libx264 compiled in. No source code for either is
 available anywhere, nor is FFmpeg's license shown anywhere on the site or
 in the program as far as I can see. The lead developer seems to believe
 that he doesn't have to distribute the source for some reason, and won't
 listen to me regarding it.
 Could somebody tell them (via email or the forums or something) that they
 do, in fact, have to make the source of their modified transcoders
 available?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2974>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 20 22:58:38 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 20:58:38 -0000
Subject: [FFmpeg-trac] #2975(undetermined:new): h264 streams don't start
 with timestamp/timecode 0 when muxed with Matroska
Message-ID: <034.8931f0ee32ae58a06192ba07d3fb0484@avcodec.org>

#2975: h264 streams don't start with timestamp/timecode 0 when muxed with Matroska
-------------------------------------+-------------------------------------
               Reporter:  jamal      |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:  git-       |  undetermined
  master                             |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 Encoding with ffmpeg/libx264, then checking the output with mkvinfo:

 {{{
 $ ./ffmpeg -f lavfi -i testsrc -t 10 -c:v libx264 -preset veryfast
 test.mkv
 ffmpeg version N-56469-gf6622f9 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 20 2013 05:04:04 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-nonfree --enable-libquvi --enable-
 openssl --enable-nonfree --enable-libvorbis --enable-libopus --enable-
 libfdk-aac --enable-libtheora --enable-libvpx --enable-libx264 --enable-
 libmp3lame --enable-libfreetype --cross-prefix=x86_64-w64-mingw32-
 --target-os=mingw32 --cpu=amdfam10 --arch=x86_64 --prefix=/mingw64
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, lavfi, from 'testsrc':
   Duration: N/A, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 320x240
 [SAR 1:1 DAR 4:3], 25 tbr, 25 tbn, 25 tbc
 No pixel format specified, yuv444p for H.264 encoding chosen.
 Use -pix_fmt yuv420p for compatibility with outdated media players.
 [libx264 @ 0000000001C53860] using SAR=1/1
 [libx264 @ 0000000001C53860] using cpu capabilities: MMX2 SSE2Fast
 SSEMisalign LZCNT
 [libx264 @ 0000000001C53860] profile High 4:4:4 Predictive, level 1.3,
 4:4:4 8-bit
 [libx264 @ 0000000001C53860] 264 - core 133 r2339 585324f - H.264/MPEG-4
 AVC codec - Copyleft 2003-2013 - http://www.videolan.org/x264.html -
 options: cabac=1 r
 ef=1 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=2 psy=1 psy_rd=1.00:0.00
 mixed_ref=0 me_range=16 chroma_me=1 trellis=0 8x8dct=1 cqm=0
 deadzone=21,11 fast_pski
 p=1 chroma_qp_offset=6 threads=3 lookahead_threads=1 sliced_threads=0 nr=0
 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3
 b_pyramid=2 b_a
 dapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=1 keyint=250
 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=10 rc=crf mbtree=1
 crf=23.0 qcomp=0.60
  qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
 Output #0, matroska, to 'test.mkv':
   Metadata:
     encoder         : Lavf55.18.100
     Stream #0:0: Video: h264 (libx264) (H264 / 0x34363248), yuv444p,
 320x240 [SAR 1:1 DAR 4:3], q=-1--1, 1k tbn, 25 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (rawvideo -> libx264)
 Press [q] to stop, [?] for help
 frame=  250 fps=0.0 q=-1.0 Lsize=      51kB time=00:00:09.92 bitrate=
 42.3kbits/s
 video:49kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 4.321356%
 [libx264 @ 0000000001C53860] frame I:1     Avg QP:24.54  size:  2863
 [libx264 @ 0000000001C53860] frame P:77    Avg QP:15.07  size:   488
 [libx264 @ 0000000001C53860] frame B:172   Avg QP:15.11  size:    53
 [libx264 @ 0000000001C53860] consecutive B-frames:  8.0%  0.8%  0.0% 91.2%
 [libx264 @ 0000000001C53860] mb I  I16..4: 65.0%  9.7% 25.3%
 [libx264 @ 0000000001C53860] mb P  I16..4:  3.7%  1.6%  0.4%  P16..4:
 7.0%  3.9%  1.2%  0.0%  0.0%    skip:82.2%
 [libx264 @ 0000000001C53860] mb B  I16..4:  0.5%  0.1%  0.0%  B16..8:
 1.0%  0.1%  0.0%  direct: 0.4%  skip:97.9%  L0:46.8% L1:52.7% BI: 0.5%
 [libx264 @ 0000000001C53860] 8x8 transform intra:22.2% inter:24.4%
 [libx264 @ 0000000001C53860] coded y,u,v intra: 10.4% 16.1% 12.1% inter:
 0.8% 0.9% 0.7%
 [libx264 @ 0000000001C53860] i16 v,h,dc,p: 48% 42%  1%  9%
 [libx264 @ 0000000001C53860] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 90%  2%  7%
 0%  0% 0%  0%  0%  0%
 [libx264 @ 0000000001C53860] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 28% 47% 22%
 1%  1% 1%  0%  1%  1%
 [libx264 @ 0000000001C53860] Weighted P-Frames: Y:0.0% UV:0.0%
 [libx264 @ 0000000001C53860] kb/s:39.63

 $ ./ffmpeg -i test.mkv
 ffmpeg version N-56469-gf6622f9 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 20 2013 05:04:04 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-nonfree --enable-libquvi --enable-
 openssl --enable-nonfree --enable-libvorbis --enable-libopus --enable-
 libfdk-aac --enable-libtheora --enable-libvpx --enable-libx264 --enable-
 libmp3lame --enable-libfreetype --cross-prefix=x86_64-w64-mingw32-
 --target-os=mingw32 --cpu=amdfam10 --arch=x86_64 --prefix=/mingw64
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, matroska,webm, from 'test.mkv':
   Metadata:
     ENCODER         : Lavf55.18.100
   Duration: 00:00:10.08, start: 0.000000, bitrate: 41 kb/s
     Stream #0:0: Video: h264 (High 4:4:4 Predictive), yuv444p, 320x240
 [SAR 1:1 DAR 4:3], 25 fps, 25 tbr, 1k tbn, 50 tbc (default)
 At least one output file must be specified

 $ mkvinfo -v test.mkv
 + EBML head
 |+ EBML version: 1
 |+ EBML read version: 1
 |+ EBML maximum ID length: 4
 |+ EBML maximum size length: 8
 |+ Doc type: matroska
 |+ Doc type version: 4
 |+ Doc type read version: 2
 + Segment, size 52375
 |+ Seek head (subentries will be skipped)
 |+ EbmlVoid (size: 149)
 |+ Segment information
 | + Timecode scale: 1000000
 | + Muxing application: Lavf55.18.100
 | + Writing application: Lavf55.18.100
 | + Segment UID: 0xe8 0x3c 0x24 0x06 0x4a 0xdf 0x9d 0xd3 0xd9 0x3c 0x3c
 0xaa 0x5c 0xd4 0x46 0x42
 | + Duration: 10.080s (00:00:10.080)
 |+ Segment tracks
 | + A track
 |  + Track number: 1 (track ID for mkvmerge & mkvextract: 0)
 |  + Track UID: 1
 |  + Lacing flag: 0
 |  + Language: und
 |  + Codec ID: V_MPEG4/ISO/AVC
 |  + Track type: video
 |  + Default duration: 40.000ms (25.000 frames/fields per second for a
 video track)
 |  + Video track
 |   + Pixel width: 320
 |   + Pixel height: 240
 |   + Display width: 320
 |   + Display height: 240
 |  + CodecPrivate, length 42 (h.264 profile: High 4:4:4 Predictive @L1.3)
 |+ Tags
 | + Tag
 |  + Targets
 |  + Simple
 |   + Name: ENCODER
 |   + String: Lavf55.18.100
 |+ Cluster
 | + Cluster timecode: 0.080s
 | + SimpleBlock (key, track number 1, 1 frame(s), timecode 0.080s =
 00:00:00.080)
 |  + Frame with size 3552
 | + SimpleBlock (track number 1, 1 frame(s), timecode 0.240s =
 00:00:00.240)
 |  + Frame with size 556

 [...]
 }}}

 Notice the duration of the file and timecode of the first block.

 Rerunning the above command but muxing instead to mp4 (So ffmpeg's
 matroska muxer is not part of the equation), then remuxing with
 mkvtoolnix, then looking at the result with mkvinfo:

 {{{
 $ ./ffmpeg -f lavfi -i testsrc -t 10 -c:v libx264 -preset veryfast
 test_toolnix.mp4

 ffmpeg version N-56469-gf6622f9 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 20 2013 05:04:04 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-nonfree --enable-libquvi --enable-
 openssl --enable-nonfree --enable-libvorbis --enable-libopus --enable-
 libfdk-aac --enable-libtheora --enable-libvpx --enable-libx264 --enable-
 libmp3lame --enable-libfreetype --cross-prefix=x86_64-w64-mingw32-
 --target-os=mingw32 --cpu=amdfam10 --arch=x86_64 --prefix=/mingw64
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, lavfi, from 'testsrc':
   Duration: N/A, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 320x240
 [SAR 1:1 DAR 4:3], 25 tbr, 25 tbn, 25 tbc
 No pixel format specified, yuv444p for H.264 encoding chosen.
 Use -pix_fmt yuv420p for compatibility with outdated media players.
 [libx264 @ 0000000000693640] using SAR=1/1
 [libx264 @ 0000000000693640] using cpu capabilities: MMX2 SSE2Fast
 SSEMisalign LZCNT
 [libx264 @ 0000000000693640] profile High 4:4:4 Predictive, level 1.3,
 4:4:4 8-bit
 [libx264 @ 0000000000693640] 264 - core 133 r2339 585324f - H.264/MPEG-4
 AVC codec - Copyleft 2003-2013 - http://www.videolan.org/x264.html -
 options: cabac=1 r
 ef=1 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=2 psy=1 psy_rd=1.00:0.00
 mixed_ref=0 me_range=16 chroma_me=1 trellis=0 8x8dct=1 cqm=0
 deadzone=21,11 fast_pski
 p=1 chroma_qp_offset=6 threads=3 lookahead_threads=1 sliced_threads=0 nr=0
 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3
 b_pyramid=2 b_a
 dapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=1 keyint=250
 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=10 rc=crf mbtree=1
 crf=23.0 qcomp=0.60
  qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
 Output #0, mp4, to 'test_toolnix.mp4':
   Metadata:
     encoder         : Lavf55.18.100
     Stream #0:0: Video: h264 (libx264) ([33][0][0][0] / 0x0021), yuv444p,
 320x240 [SAR 1:1 DAR 4:3], q=-1--1, 12800 tbn, 25 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (rawvideo -> libx264)
 Press [q] to stop, [?] for help
 frame=  223 fps=0.0 q=28.0 size=      42kB time=00:00:08.16 bitrate=
 42.0kbits/s
 frame=  250 fps=0.0 q=-1.0 Lsize=      53kB time=00:00:09.92 bitrate=
 43.5kbits/s
 video:49kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 7.315520%
 [libx264 @ 0000000000693640] frame I:1     Avg QP:24.54  size:  2863
 [libx264 @ 0000000000693640] frame P:77    Avg QP:15.07  size:   488
 [libx264 @ 0000000000693640] frame B:172   Avg QP:15.11  size:    53
 [libx264 @ 0000000000693640] consecutive B-frames:  8.0%  0.8%  0.0% 91.2%
 [libx264 @ 0000000000693640] mb I  I16..4: 65.0%  9.7% 25.3%
 [libx264 @ 0000000000693640] mb P  I16..4:  3.7%  1.6%  0.4%  P16..4:
 7.0%  3.9%  1.2%  0.0%  0.0%    skip:82.2%
 [libx264 @ 0000000000693640] mb B  I16..4:  0.5%  0.1%  0.0%  B16..8:
 1.0%  0.1%  0.0%  direct: 0.4%  skip:97.9%  L0:46.8% L1:52.7% BI: 0.5%
 [libx264 @ 0000000000693640] 8x8 transform intra:22.2% inter:24.4%
 [libx264 @ 0000000000693640] coded y,u,v intra: 10.4% 16.1% 12.1% inter:
 0.8% 0.9% 0.7%
 [libx264 @ 0000000000693640] i16 v,h,dc,p: 48% 42%  1%  9%
 [libx264 @ 0000000000693640] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 90%  2%  7%
 0%  0% 0%  0%  0%  0%
 [libx264 @ 0000000000693640] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 28% 47% 22%
 1%  1% 1%  0%  1%  1%
 [libx264 @ 0000000000693640] Weighted P-Frames: Y:0.0% UV:0.0%
 [libx264 @ 0000000000693640] kb/s:39.63

 $ ./ffmpeg -i test_toolnix.mp4
 ffmpeg version N-56469-gf6622f9 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 20 2013 05:04:04 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-nonfree --enable-libquvi --enable-
 openssl
  --enable-nonfree --enable-libvorbis --enable-libopus --enable-libfdk-aac
 --enab
 le-libtheora --enable-libvpx --enable-libx264 --enable-libmp3lame
 --enable-libfr
 eetype --cross-prefix=x86_64-w64-mingw32- --target-os=mingw32
 --cpu=amdfam10 --a
 rch=x86_64 --prefix=/mingw64
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'test_toolnix.mp4':
   Metadata:
     major_brand     : isom
     minor_version   : 512
     compatible_brands: isomiso2avc1mp41
     encoder         : Lavf55.18.100
   Duration: 00:00:10.00, start: 0.000000, bitrate: 43 kb/s
     Stream #0:0(und): Video: h264 (High 4:4:4 Predictive) (avc1 /
 0x31637661), y
 uv444p, 320x240 [SAR 1:1 DAR 4:3], 40 kb/s, 25 fps, 25 tbr, 12800 tbn, 50
 tbc (d
 efault)
     Metadata:
       handler_name    : VideoHandler
 At least one output file must be specified

 /* MKVToolnix GUI muxing at this point, can't paste anything */

 $ mkvinfo -v test_toolnix.mkv
 + EBML head
 |+ EBML version: 1
 |+ EBML read version: 1
 |+ EBML maximum ID length: 4
 |+ EBML maximum size length: 8
 |+ Doc type: matroska
 |+ Doc type version: 4
 |+ Doc type read version: 2
 + Segment, size 57293
 |+ Seek head (subentries will be skipped)
 |+ EbmlVoid (size: 4046)
 |+ Segment information
 | + Timecode scale: 1000000
 | + Muxing application: libebml v1.3.0 + libmatroska v1.4.1
 | + Writing application: mkvmerge v6.4.1 ('Omega Point') built on Sep 16
 2013 22:05:10
 | + Duration: 10.000s (00:00:10.000)
 | + Date: Fri Sep 20 20:12:48 2013 UTC
 | + Segment UID: 0xae 0x90 0x6b 0x02 0xaa 0xc7 0x3a 0xda 0x98 0x03 0x12
 0x17 0xb5 0x2b 0x8b 0xee
 |+ Segment tracks
 | + A track
 |  + Track number: 1 (track ID for mkvmerge & mkvextract: 0)
 |  + Track UID: 1711331502
 |  + Track type: video
 |  + Lacing flag: 0
 |  + MinCache: 1
 |  + Codec ID: V_MPEG4/ISO/AVC
 |  + CodecPrivate, length 42 (h.264 profile: High 4:4:4 Predictive @L1.3)
 |  + Default duration: 40.000ms (25.000 frames/fields per second for a
 video track)
 |  + Language: und
 |  + Video track
 |   + Pixel width: 320
 |   + Pixel height: 240
 |   + Display width: 320
 |   + Display height: 240
 |+ EbmlVoid (size: 1058)
 |+ Cluster
 | + Cluster timecode: 0.000s
 | + SimpleBlock (key, track number 1, 1 frame(s), timecode 0.000s =
 00:00:00.000)
 |  + Frame with size 3552
 | + SimpleBlock (track number 1, 1 frame(s), timecode 0.160s =
 00:00:00.160)
 |  + Frame with size 556
 [...]
 }}}

 Notice again the duration and timecode of first block.

 Remuxing test_toolnix.mkv with ffmpeg (Can also use the mp4 for this, the
 result is the same), then looking at it with mkvinfo:

 {{{
 $ ./ffmpeg -i test_toolnix.mkv -c:v copy remux.mkv
 ffmpeg version N-56469-gf6622f9 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 20 2013 05:04:04 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-nonfree --enable-libquvi --enable-
 openssl --enable-nonfree --enable-libvorbis --enable-libopus --enable-
 libfdk-aac --enable-libtheora --enable-libvpx --enable-libx264 --enable-
 libmp3lame --enable-libfreetype --cross-prefix=x86_64-w64-mingw32-
 --target-os=mingw32 --cpu=amdfam10 --arch=x86_64 --prefix=/mingw64
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, matroska,webm, from 'test_toolnix.mkv':
   Metadata:
     creation_time   : 2013-09-20 20:12:48
   Duration: 00:00:10.00, start: 0.000000, bitrate: 45 kb/s
     Stream #0:0: Video: h264 (High 4:4:4 Predictive), yuv444p, 320x240
 [SAR 1:1DAR 4:3], 25 fps, 25 tbr, 1k tbn, 50 tbc (default)
 Output #0, matroska, to 'remux.mkv':
   Metadata:
     encoder         : Lavf55.18.100
     Stream #0:0: Video: h264 (H264 / 0x34363248), yuv444p, 320x240 [SAR
 1:1 DAR4:3], q=2-31, 25 fps, 1k tbn, 1k tbc (default)
 Stream mapping:
   Stream #0:0 -> #0:0 (copy)
 Press [q] to stop, [?] for help
 frame=  250 fps=0.0 q=-1.0 Lsize=      51kB time=00:00:09.88 bitrate=
 42.5kbits/s
 video:49kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 4.400287%

 $ ./ffmpeg -i remux.mkv
 ffmpeg version N-56469-gf6622f9 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 20 2013 05:04:04 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-nonfree --enable-libquvi --enable-
 openssl --enable-nonfree --enable-libvorbis --enable-libopus --enable-
 libfdk-aac --enable-libtheora --enable-libvpx --enable-libx264 --enable-
 libmp3lame --enable-libfreetype --cross-prefix=x86_64-w64-mingw32-
 --target-os=mingw32 --cpu=amdfam10 --arch=x86_64 --prefix=/mingw64
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, matroska,webm, from 'remux.mkv':
   Metadata:
     MAJOR_BRAND     : isom
     MINOR_VERSION   : 512
     COMPATIBLE_BRANDS: isomiso2avc1mp41
     ENCODER         : Lavf55.18.100
   Duration: 00:00:10.08, start: 0.000000, bitrate: 41 kb/s
     Stream #0:0(und): Video: h264 (High 4:4:4 Predictive), yuv444p,
 320x240 [SAR 1:1 DAR 4:3], 25 fps, 25 tbr, 1k tbn, 50 tbc (default)
     Metadata:
       LANGUAGE        : und
       HANDLER_NAME    : VideoHandler
 At least one output file must be specified

 $ mkvinfo -v remux.mkv
 + EBML head
 |+ EBML version: 1
 |+ EBML read version: 1
 |+ EBML maximum ID length: 4
 |+ EBML maximum size length: 8
 |+ Doc type: matroska
 |+ Doc type version: 4
 |+ Doc type read version: 2
 + Segment, size 52375
 |+ Seek head (subentries will be skipped)
 |+ EbmlVoid (size: 149)
 |+ Segment information
 | + Timecode scale: 1000000
 | + Muxing application: Lavf55.18.100
 | + Writing application: Lavf55.18.100
 | + Segment UID: 0xb5 0x1b 0x58 0x0b 0xe3 0x7b 0x7c 0x52 0x7f 0x49 0x72
 0x1c 0x88 0xaa 0x3e 0x2a
 | + Duration: 10.080s (00:00:10.080)
 |+ Segment tracks
 | + A track
 |  + Track number: 1 (track ID for mkvmerge & mkvextract: 0)
 |  + Track UID: 1
 |  + Lacing flag: 0
 |  + Language: und
 |  + Codec ID: V_MPEG4/ISO/AVC
 |  + Track type: video
 |  + Default duration: 40.000ms (25.000 frames/fields per second for a
 video track)
 |  + Video track
 |   + Pixel width: 320
 |   + Pixel height: 240
 |   + Display width: 320
 |   + Display height: 240
 |  + CodecPrivate, length 42 (h.264 profile: High 4:4:4 Predictive @L1.3)
 |+ Tags
 | + Tag
 |  + Targets
 |  + Simple
 |   + Name: ENCODER
 |   + String: Lavf55.18.100
 |+ Cluster
 | + Cluster timecode: 0.080s
 | + SimpleBlock (key, track number 1, 1 frame(s), timecode 0.080s =
 00:00:00.080)
 |  + Frame with size 3552
 | + SimpleBlock (track number 1, 1 frame(s), timecode 0.240s =
 00:00:00.240)
 |  + Frame with size 556

 [...]
 }}}

 Duration and timecode of first block are wrong again.

 This can be reproduced with any h264 stream, created by ffmpeg/libx264 or
 not.
 The pts of first packet/block will always be a few ms ahead after
 re/muxing, which adds to the total duration (10.080s vs 10.000s in this
 case)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2975>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 20 23:05:01 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 21:05:01 -0000
Subject: [FFmpeg-trac] #2974(FFmpeg:new): Plex Media Server: LGPL/GPL
 violation
In-Reply-To: <037.5b51fbc3110cea2591b03e834266d430@avcodec.org>
References: <037.5b51fbc3110cea2591b03e834266d430@avcodec.org>
Message-ID: <052.a3a5dc565c9a6c843de414c87663e867@avcodec.org>

#2974: Plex Media Server: LGPL/GPL violation
-------------------------------------+-------------------------------------
             Reporter:  11rcombs     |                    Owner:
                 Type:  license      |                   Status:  new
  violation                          |                Component:  FFmpeg
             Priority:  important    |               Resolution:
              Version:  git-master   |               Blocked By:
             Keywords:  Plex         |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by 11rcombs):

 It looks like there were some miscommunications along the line. The source
 is evidently available upon request (as required by GPL), but that fact is
 not mentioned anywhere in the program or on the website, and the GPL isn't
 reproduced there. So all they really need are some website changes, which
 I'll be poking them about.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2974#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 00:26:44 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 22:26:44 -0000
Subject: [FFmpeg-trac] #2974(undetermined:new): Plex Media Server:
 LGPL/GPL violation
In-Reply-To: <037.5b51fbc3110cea2591b03e834266d430@avcodec.org>
References: <037.5b51fbc3110cea2591b03e834266d430@avcodec.org>
Message-ID: <052.bc2151d28fa6e8dd8126d6a0a31ab9ff@avcodec.org>

#2974: Plex Media Server: LGPL/GPL violation
-------------------------------------+-------------------------------------
             Reporter:  11rcombs     |                    Owner:
                 Type:  license      |                   Status:  new
  violation                          |                Component:
             Priority:  normal       |  undetermined
              Version:  git-master   |               Resolution:
             Keywords:  Plex         |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * priority:  important => normal
 * component:  FFmpeg => undetermined


Comment:

 Replying to [ticket:2974 11rcombs]:
 > The lead developer seems to believe that he doesn't have to distribute
 the source for some reason, and won't listen to me regarding it.

 This is what all license violators believe (or actually: claim to
 believe), I don't see how he would trust any FFmpeg developer more than
 you (or in other words: I suspect he knows very well what he is doing and
 believes he has thought this through).

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2974#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 00:29:17 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 22:29:17 -0000
Subject: [FFmpeg-trac] #2975(undetermined:new): h264 streams don't start
 with timestamp/timecode 0 when muxed with Matroska
In-Reply-To: <034.8931f0ee32ae58a06192ba07d3fb0484@avcodec.org>
References: <034.8931f0ee32ae58a06192ba07d3fb0484@avcodec.org>
Message-ID: <049.d705be6127a6a771215325e7e44fcdd1@avcodec.org>

#2975: h264 streams don't start with timestamp/timecode 0 when muxed with Matroska
-------------------------------------+-------------------------------------
             Reporter:  jamal        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Why is it a problem that the timestamp of the first block != 0?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2975#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 00:38:06 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 22:38:06 -0000
Subject: [FFmpeg-trac] #2975(undetermined:new): h264 streams don't start
 with timestamp/timecode 0 when muxed with Matroska
In-Reply-To: <034.8931f0ee32ae58a06192ba07d3fb0484@avcodec.org>
References: <034.8931f0ee32ae58a06192ba07d3fb0484@avcodec.org>
Message-ID: <049.8d86884f61afccb693142fac21fc0547@avcodec.org>

#2975: h264 streams don't start with timestamp/timecode 0 when muxed with Matroska
-------------------------------------+-------------------------------------
             Reporter:  jamal        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by jamal):

 Well, for starters it's making the final duration value wrong (Should be
 10 seconds, ends up being 10.08 seconds in the examples above).

 Aside from that, now that we're writing cues for subtitle packets, those
 extra milliseconds added during muxing are in many cases making a video
 keyframe cue have a higher timestamp than the timestamp from a subtitle
 cue that comes right after it, which should not happen and promptly
 triggers warnings in mkvalidator (Something that doesn't happen with other
 codecs, like vp8 or theora, that start at pts 0).

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2975#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 01:58:05 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 20 Sep 2013 23:58:05 -0000
Subject: [FFmpeg-trac] #2975(undetermined:new): h264 streams don't start
 with timestamp/timecode 0 when muxed with Matroska
In-Reply-To: <034.8931f0ee32ae58a06192ba07d3fb0484@avcodec.org>
References: <034.8931f0ee32ae58a06192ba07d3fb0484@avcodec.org>
Message-ID: <049.800bac57defac20a748cc7d2b9a7a771@avcodec.org>

#2975: h264 streams don't start with timestamp/timecode 0 when muxed with Matroska
-------------------------------------+-------------------------------------
             Reporter:  jamal        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  h264 mkv     |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => h264 mkv


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2975#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 03:15:15 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 01:15:15 -0000
Subject: [FFmpeg-trac] #2891(undetermined:open): 2013 Autumn Website Art
 Contest
In-Reply-To: <035.68e5a1b803c933a51e127b6c9cc4b1e1@avcodec.org>
References: <035.68e5a1b803c933a51e127b6c9cc4b1e1@avcodec.org>
Message-ID: <050.dc03e4f613e2312a921d32f03d2f9b13@avcodec.org>

#2891: 2013 Autumn Website Art Contest
-------------------------------------+-------------------------------------
             Reporter:  beastd       |                    Owner:
                 Type:  art          |                   Status:  open
             Priority:  minor        |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by beastd):

 My try at a minimal design: beastd-banner-autumn2013.png

 Have fun :)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2891#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 10:02:52 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 08:02:52 -0000
Subject: [FFmpeg-trac] #2969(undetermined:open): filter_complex does not
 copy disposition (was: Matroska video track with overlay marked as
 non-default)
In-Reply-To: <035.f2556009d2f1538fdad5349e7bb96d95@avcodec.org>
References: <035.f2556009d2f1538fdad5349e7bb96d95@avcodec.org>
Message-ID: <050.a819ab1032745312957ede0c855f5106@avcodec.org>

#2969: filter_complex does not copy disposition
-------------------------------------+-------------------------------------
             Reporter:  MarkZV       |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  regression   |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 filter_complex does not copy the disposition:
 {{{
 $ ffmpeg -i test_orig.mkv -filter_complex scale -sn out.mkv
 ffmpeg version N-56530-g29f244e Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 21 2013 10:00:23 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, matroska,webm, from 'test_orig.mkv':
   Metadata:
     creation_time   : 2012-10-15 18:28:54
   Duration: 00:00:30.02, start: 0.000000, bitrate: 102 kb/s
     Stream #0:0: Video: h264 (High), yuv420p, 320x240, SAR 1:1 DAR 4:3, 25
 fps, 25 tbr, 1k tbn, 50 tbc (default)
     Stream #0:1: Audio: ac3, 48000 Hz, stereo, fltp, 32 kb/s (default)
 (forced)
     Stream #0:2: Audio: ac3, 48000 Hz, stereo, fltp, 32 kb/s (forced)
     Stream #0:3: Audio: ac3, 48000 Hz, stereo, fltp, 32 kb/s
     Stream #0:4: Subtitle: dvd_subtitle, 320x240 (default)
     Stream #0:5: Subtitle: dvd_subtitle, 320x240 (forced)
     Stream #0:6: Subtitle: dvd_subtitle, 320x240
 Output #0, matroska, to 'out.mkv':
   Metadata:
     encoder         : Lavf55.18.102
     Stream #0:0: Video: mpeg4 (FMP4 / 0x34504D46), yuv420p, 320x240 [SAR
 1:1 DAR 4:3], q=2-31, 200 kb/s, 1k tbn, 25 tbc
     Stream #0:1: Audio: ac3 ([0] [0][0] / 0x2000), 48000 Hz, stereo, fltp,
 192 kb/s (default) (forced)
 Stream mapping:
   Stream #0:0 (h264) -> scale (graph 0)
   scale (graph 0) -> Stream #0:0 (mpeg4)
   Stream #0:1 -> #0:1 (ac3 -> ac3)
 Press [q] to stop, [?] for help
 frame=  750 fps=0.0 q=2.0 Lsize=     828kB time=00:00:30.01 bitrate=
 225.9kbits/s
 video:110kB audio:704kB subtitle:0 global headers:0kB muxing overhead
 1.679339%
 }}}
 {{{
 $ ffmpeg -i out.mkv
 ffmpeg version N-56530-g29f244e Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 21 2013 10:00:23 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, matroska,webm, from 'out.mkv':
   Metadata:
     ENCODER         : Lavf55.18.102
   Duration: 00:00:30.02, start: 0.000000, bitrate: 225 kb/s
     Stream #0:0: Video: mpeg4 (Simple Profile), yuv420p, 320x240 [SAR 1:1
 DAR 4:3], 25 fps, 25 tbr, 1k tbn, 25 tbc
     Stream #0:1: Audio: ac3, 48000 Hz, stereo, fltp, 192 kb/s (default)
 (forced)
 At least one output file must be specified
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2969#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 13:29:15 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 11:29:15 -0000
Subject: [FFmpeg-trac] #2962(avformat:open): MPEG TS stream: Failed
 assertion
In-Reply-To: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
References: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
Message-ID: <057.82c0a8c3a77f19cd1dd01e1ce6e38d60@avcodec.org>

#2962: MPEG TS stream: Failed assertion
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  Underground78                      |                   Status:  open
                 Type:  defect       |                Component:  avformat
             Priority:  important    |               Resolution:
              Version:  git-master   |               Blocked By:
             Keywords:  mpegts       |  Reproduced by developer:  1
  crash abort regression             |
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Underground78):

 Any news about this?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2962#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 14:23:21 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 12:23:21 -0000
Subject: [FFmpeg-trac] #2962(avformat:open): MPEG TS stream: Failed
 assertion
In-Reply-To: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
References: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
Message-ID: <057.535bcc9a6a3ee26d76af66d6e8c059ab@avcodec.org>

#2962: MPEG TS stream: Failed assertion
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  Underground78                      |                   Status:  open
                 Type:  defect       |                Component:  avformat
             Priority:  important    |               Resolution:
              Version:  git-master   |               Blocked By:
             Keywords:  mpegts       |  Reproduced by developer:  1
  crash abort regression             |
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Underground78):

 Note that if I comment out the assert, the IPTV stream I used to reproduce
 this issue can be decoded just fine.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2962#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 15:11:47 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 13:11:47 -0000
Subject: [FFmpeg-trac] #2976(undetermined:new): m3u8 playlist download fails
 if the lines in the manifests are longer than 1024 characters
Message-ID: <036.ca7932c1ebf29840a12a4863b348e10e@avcodec.org>

#2976: m3u8 playlist download fails if the lines in the manifests are longer than
1024 characters
-------------------------------------+-------------------------------------
             Reporter:  jaimeMF      |                     Type:  defect
               Status:  new          |                 Priority:  normal
            Component:               |                  Version:  git-
  undetermined                       |  master
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 I'm using ffmpeg for watching Youtube's m3u8 streams and I've found that
 it fails if the lines in the manifest contains more than 1024 characters

 How to reproduce:
 using the version from git and commit
 8ad2465987d31bb818235303c0b02b897cd02133, I use this script (requires
 youtube-dl):
 {{{#!sh
 URL=$(youtube-dl 'http://www.youtube.com/watch?v=rdcvn4W-6xM' -g)
 echo $URL
 ./ffmpeg -y -i $URL -f mp4 hls.mp4
 }}}
 (You can manually find the manifest url in the video page)

 The output I get is:
 {{{
 http://www.youtube.com/api/manifest/hls_playlist/id/add72f9f85beeb13/itag/96/source/youtube/ratebypass/yes/pfa/1/pbr/yes/hls_chunk_host/www.youtube.com/gir/yes/clen/5547517760/lmt/1347749241948586/dur/8870.400/pmbypass/yes/playlist_type/DVR/cp/U0hWTldTVl9NU0NONl9PTVpGOl9QaC1zZ1NuSnEx/maudio/1/sver/3/fexp/903802,927703,932204,928023,924606,929117,929121,929906,929907,929922,929923,929127,929129,929131,929930,936403,925724,925726,936310,925720,925722,925718,925714,929917,906945,929933,929935,939604,906842,927704,913428,919811,932309,913563,919373,930803,908536,938701,931924,934005,940501,936308,909549,901608,900816,912711,934507,912714,907231,936312,906001/upn/5htNr8XQdyc/ip/{my_ip}/ipbits/8/expire/1379788589/sparams/ip,ipbits,expire,id,itag,source,ratebypass,pfa,pbr,hls_chunk_host,gir,clen,lmt,dur,pmbypass,playlist_type,cp,maudio/signature/6EC01EDEEB7D161229D81AD728A68C9C1154ECAD.4D9721C03E7CC061A5093D83355957C08AACA696/key/dg_yt0/file/index.m3u8
 ffmpeg version N-56538-g8ad2465 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 21 2013 14:54:00 with llvm-gcc 4.2.1 (LLVM build
 2336.11.00)
   configuration: --disable-ffplay --disable-ffprobe --disable-ffserver
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
 [http @ 0x7ff25a040600] HTTP error 403 Forbidden
 Unable to open key file
 http://www.youtube.com/api/drm/hlskey?id=add72f9f85beeb13&itag=96&source=youtube&ratebypass=yes&pfa=1&pbr=yes&hls_chunk_host=www.youtube.com&gir=yes&clen=5547517760&lmt=1347749241948586&dur=8870.400&pmbypass=yes&playlist_type=DVR&cp=U0hWTldTVl9NU0NONl9PTVpGOl9QaC1zZ1NuSnEx&maudio=1&sver=3&fexp=903802,927703,932204,928023,924606,929117,929121,929906,929907,929922,929923,929127,929129,929131,929930,936403,925724,925726,936310,925720,925722,925718,925714,929917,906945,929933,929935,939604,906842,927704,913428,919811,932309,913563,919373,930803,908536,938701,931924,934005,940501,936308,909549,901608,900816,912711,934507,912714,907231,936312,906001&upn=5htNr8XQdyc&ip={my_ip}&ipbits=8&expire=1379788589&sparams=ip,ipbits,expire,id,itag,source,ratebypass,pfa,pbr,hls_chunk_host,gir,clen,lmt,dur,pmbypass,playlist_type,cp,maudio&signature=6EC01EDEEB7D161229D81AD728A68C9C1154ECAD.4D9721C03E7CC061A5093D83355957C08AACA696&key=dg_yt0&ek=00d1d2078d07e911274516317c3229cce139c648113fc4167a
 [hls,applehttp @ 0x7ff25a03d800] Error when loading first segment
 'http://www.youtube.com/videoplayback/id/add72f9f85beeb13/itag/96/source/youtube/range/0-1606463/file/seg.ts?ratebypass=yes&pfa=1&pbr=yes&hls_chunk_host=www.youtube.com&gir=yes&clen=5547517760&lmt=1347749241948586&dur=8870.400&pmbypass=yes&playlist_type=DVR&cp=U0hWTldTVl9NU0NONl9PTVpGOl9QaC1zZ1NuSnEx&maudio=1&sver=3&fexp=903802,927703,932204,928023,924606,929117,929121,929906,929907,929922,929923,929127,929129,929131,929930,936403,925724,925726,936310,925720,925722,925718,925714,929917,906945,929933,929935,939604,906842,927704,913428,919811,932309,913563,919373,930803,908536,938701,931924,934005,940501,936308,909549,901608,900816,912711,934507,912714,907231,936312,906001&upn=5htNr8XQdyc&ip={my_ip}&ipbits=8&expire=1379788589&sparams=ip,ipbits,expire,id,itag,source,ratebypass,pfa,pbr,hls_chunk_host,gir,clen,lmt,dur,pmbypass,playlist_type,cp,maudio&signature=6EC01EDEEB7D161229D81AD728A68C9C1154ECAD.4D9721C03E7CC061A5093D83355957C08AACA696&key=dg_yt0'
 http://www.youtube.com/api/manifest/hls_playlist/id/add72f9f85beeb13/itag/96/source/youtube/ratebypass/yes/pfa/1/pbr/yes/hls_chunk_host/www.youtube.com/gir/yes/clen/5547517760/lmt/1347749241948586/dur/8870.400/pmbypass/yes/playlist_type/DVR/cp/U0hWTldTVl9NU0NONl9PTVpGOl9QaC1zZ1NuSnEx/maudio/1/sver/3/fexp/903802,927703,932204,928023,924606,929117,929121,929906,929907,929922,929923,929127,929129,929131,929930,936403,925724,925726,936310,925720,925722,925718,925714,929917,906945,929933,929935,939604,906842,927704,913428,919811,932309,913563,919373,930803,908536,938701,931924,934005,940501,936308,909549,901608,900816,912711,934507,912714,907231,936312,906001/upn/5htNr8XQdyc/ip/{my_ip}/ipbits/8/expire/1379788589/sparams/ip,ipbits,expire,id,itag,source,ratebypass,pfa,pbr,hls_chunk_host,gir,clen,lmt,dur,pmbypass,playlist_type,cp,maudio/signature/6EC01EDEEB7D161229D81AD728A68C9C1154ECAD.4D9721C03E7CC061A5093D83355957C08AACA696/key/dg_yt0/file/index.m3u8:
 Invalid data found when processing input
 }}}

 If I manually download the manifest and search for the key, it's longer:
 {{{
 http://www.youtube.com/api/drm/hlskey?id=add72f9f85beeb13&itag=96&source=youtube&ratebypass=yes&pfa=1&pbr=yes&hls_chunk_host=www.youtube.com&gir=yes&clen=5547517760&lmt=1347749241948586&dur=8870.400&pmbypass=yes&playlist_type=DVR&cp=U0hWTldTVl9NU0NONl9PTVpGOl9QaC1zZ1NuSnEx&maudio=1&sver=3&fexp=903802,927703,932204,928023,924606,929117,929121,929906,929907,929922,929923,929127,929129,929131,929930,936403,925724,925726,936310,925720,925722,925718,925714,929917,906945,929933,929935,939604,906842,927704,913428,919811,932309,913563,919373,930803,908536,938701,931924,934005,940501,936308,909549,901608,900816,912711,934507,912714,907231,936312,906001&upn=5htNr8XQdyc&ip={my_ip}&ipbits=8&expire=1379788589&sparams=ip,ipbits,expire,id,itag,source,ratebypass,pfa,pbr,hls_chunk_host,gir,clen,lmt,dur,pmbypass,playlist_type,cp,maudio&signature=6EC01EDEEB7D161229D81AD728A68C9C1154ECAD.4D9721C03E7CC061A5093D83355957C08AACA696&key=dg_yt0&ek=00d1d2078d07e911274516317c3229cce139c648113fc4167a59e8a64d87b0a8f11877de7e0197d2f1a49d1639eed28a5d1785639ac94664b328641b824f55413a88c43da5b88525b0
 }}}

 After looking into libavformat/hls.c I think I've found the problem, in
 the line 215
 {{{#!c
     char line[1024];
 }}}

 This causes lines to be trunctated, and therefore the key url is wrong. If
 I change the value to something higher, like 1500, the key url is
 correctly extracted and everythin works.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2976>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 15:27:48 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 13:27:48 -0000
Subject: [FFmpeg-trac] #2976(avformat:open): m3u8 playlist download
 fails if the lines in the manifests are longer than 1024 characters
In-Reply-To: <036.ca7932c1ebf29840a12a4863b348e10e@avcodec.org>
References: <036.ca7932c1ebf29840a12a4863b348e10e@avcodec.org>
Message-ID: <051.47926f7b6d323f61316fd0d0ecec29cd@avcodec.org>

#2976: m3u8 playlist download fails if the lines in the manifests are longer than
1024 characters
------------------------------------+------------------------------------
             Reporter:  jaimeMF     |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:
             Keywords:  hls         |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------
Changes (by cehoyos):

 * keywords:   => hls
 * status:  new => open
 * component:  undetermined => avformat


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2976#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 15:28:26 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 13:28:26 -0000
Subject: [FFmpeg-trac] #2273(avformat:open): no option to set file name
 format inside the generated m3u8 file
In-Reply-To: <034.cdd67cf0eade60a3590dda820033dbba@avcodec.org>
References: <034.cdd67cf0eade60a3590dda820033dbba@avcodec.org>
Message-ID: <049.c62db95f961843c1bfac091e7c33df0a@avcodec.org>

#2273: no option to set file name format inside the generated m3u8 file
-------------------------------------+-------------------------------------
             Reporter:  mpapp        |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  hls segment  |               Blocked By:
  m3u8                               |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  segment m3u8 => hls segment m3u8


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2273#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 15:31:17 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 13:31:17 -0000
Subject: [FFmpeg-trac] #1636(undetermined:reopened): FRAPS Video Color
 Space
In-Reply-To: <032.946dd04c2bf2f1a53703123793a08eed@avcodec.org>
References: <032.946dd04c2bf2f1a53703123793a08eed@avcodec.org>
Message-ID: <047.86fd1618f1a8519890f445db58f1912f@avcodec.org>

#1636: FRAPS Video Color Space
-------------------------------------+-------------------------------------
             Reporter:  DJX          |                    Owner:
                 Type:  defect       |                   Status:  reopened
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  FRAPS        |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Is this still reproducible after today's change?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1636#comment:21>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 16:17:00 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 14:17:00 -0000
Subject: [FFmpeg-trac] #2977(undetermined:new): smv: deadlock with fuzzed
 file
Message-ID: <038.10352138b7af7fe0b1bf0e51c5017da7@avcodec.org>

#2977: smv: deadlock with fuzzed file
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://www1.datafilehost.com/d/7e21f32b

 {{{
 (gdb) r -threads 1 -i deadlock.smv -vn -f null -
 The program being debugged has been started already.
 Start it from the beginning? (y or n) y

 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -threads 1 -i
 deadlock.smv -vn -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [NULL @ 0x9115d20] [IMGUTILS @ 0xbfffee44] Picture size 162x8405112 is
 invalid
 [NULL @ 0x9115d20] Ignoring invalid width/height values
 [mjpeg @ 0x9117cc0] huffman table decode error
 [wav @ 0x9114e40] decoding for stream 1 failed
 [wav @ 0x9114e40] Could not find codec parameters for stream 1 (Video:
 smv, yuvj420p): unspecified size
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 Guessed Channel Layout for  Input Stream #0.0 : mono
 Input #0, wav, from 'deadlock.smv':
   Duration: 291:32:23.00, start: 0.000000, bitrate: 0 kb/s
     Stream #0:0: Audio: adpcm_ima_wav ([17][0][0][0] / 0x0011), 22050 Hz,
 mono, s16p, 88 kb/s
     Stream #0:1: Video: smv, yuvj420p, 2 fps, 2 tbr, 2 tbn, 2 tbc
 [New Thread 0xb7df8b70 (LWP 23716)]
 [New Thread 0xb75f8b70 (LWP 23717)]
 [New Thread 0xb6df8b70 (LWP 23718)]
 [New Thread 0xb65f8b70 (LWP 23719)]
 [New Thread 0xb5df8b70 (LWP 23720)]
 [New Thread 0xb55f8b70 (LWP 23721)]
 [New Thread 0xb4df8b70 (LWP 23722)]
 [New Thread 0xb45f8b70 (LWP 23723)]
 [New Thread 0xb3df8b70 (LWP 23724)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.18.100
     Stream #0:0: Audio: pcm_s16le, 22050 Hz, mono, s16, 352 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (adpcm_ima_wav -> pcm_s16le)
 Press [q] to stop, [?] for help
 size=N/A time=00:00:00.00 bitrate=N/A
 Program received signal SIGINT, Interrupt.
 0xb7f8ed41 in read () at ../sysdeps/unix/syscall-template.S:82
 82      ../sysdeps/unix/syscall-template.S: No such file or directory.
 (gdb) bt
 #0  0xb7f8ed41 in read () at ../sysdeps/unix/syscall-template.S:82
 #1  0x08167cfe in file_read (h=0x9115380,
     buf=0x911d4c8 "\tJ\001\377\330\377", <incomplete sequence \340>,
     size=<optimized out>) at libavformat/file.c:86
 #2  0x0815169d in retry_transfer_wrapper (transfer_func=0x8167cd0
 <file_read>,
     size_min=1, size=32768,
     buf=0x911d4c8 "\tJ\001\377\330\377", <incomplete sequence \340>,
     h=0x9115380) at libavformat/avio.c:278
 #3  ffurl_read (h=0x9115380,
     buf=0x911d4c8 "\tJ\001\377\330\377", <incomplete sequence \340>,
     size=32768) at libavformat/avio.c:309
 #4  0x0815226a in fill_buffer (s=s at entry=0x911d440)
     at libavformat/aviobuf.c:428
 #5  0x081553df in avio_r8 (s=0x911d440) at libavformat/aviobuf.c:474
 #6  avio_rl16 (s=0x911d440) at libavformat/aviobuf.c:580
 #7  avio_rl24 (s=0x911d440) at libavformat/aviobuf.c:588
 #8  0x08246a4e in wav_read_packet (s=0x9114e40, pkt=0xbffff338)
     at libavformat/wavdec.c:485
 #9  0x082377e7 in ff_read_packet (s=s at entry=0x9114e40,
     pkt=pkt at entry=0xbffff338) at libavformat/utils.c:658
 #10 0x0823a129 in read_frame_internal (s=s at entry=0x9114e40,
     pkt=pkt at entry=0xbffff6e8) at libavformat/utils.c:1316
 #11 0x0823ad6a in av_read_frame (s=0x9114e40, pkt=pkt at entry=0xbffff6e8)
 ---Type <return> to continue, or q <return> to quit---
     at libavformat/utils.c:1420
 #12 0x080b6eb6 in get_input_packet (pkt=0xbffff6c8, f=0x911b380)
     at ffmpeg.c:2878
 #13 process_input (file_index=0) at ffmpeg.c:2915
 #14 0x080a3043 in transcode_step () at ffmpeg.c:3185
 #15 transcode () at ffmpeg.c:3237
 #16 main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2977>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 16:21:23 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 14:21:23 -0000
Subject: [FFmpeg-trac] #2978(undetermined:new): png: deadlock with fuzzed
 file
Message-ID: <038.bc5b436642a76976ceb7db7612bbf5d8@avcodec.org>

#2978: png: deadlock with fuzzed file
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://www1.datafilehost.com/d/26922af6

 {{{
 knoppix at Microknoppix:/media/sdb1$ gdb ffmpeg-HEAD-93439e8/ffmpeg_g
 GNU gdb (GDB) 7.4.1-debian
 Copyright (C) 2012 Free Software Foundation, Inc.
 License GPLv3+: GNU GPL version 3 or later
 <http://gnu.org/licenses/gpl.html>
 This is free software: you are free to change and redistribute it.
 There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
 and "show warranty" for details.
 This GDB was configured as "i486-linux-gnu".
 For bug reporting instructions, please see:
 <http://www.gnu.org/software/gdb/bugs/>...
 Reading symbols from /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g...done.
 (gdb) r -threads 1 -i ./png_deadlock.avi -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -threads 1 -i
 ./png_deadlock.avi -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, avi, from './png_deadlock.avi':
   Duration: 00:00:04.00, start: 0.000000, bitrate: 8987 kb/s
     Stream #0:0: Video: png (MPNG / 0x474E504D), rgba, 160x120 [SAR
 2834:2834 DAR 4:3], 40 tbr, 40 tbn, 40 tbc
 [New Thread 0xb7df8b70 (LWP 1842)]
 [New Thread 0xb75f8b70 (LWP 1843)]
 [New Thread 0xb6df8b70 (LWP 1844)]
 [New Thread 0xb65f8b70 (LWP 1845)]
 [New Thread 0xb5df8b70 (LWP 1846)]
 [New Thread 0xb55f8b70 (LWP 1847)]
 [New Thread 0xb4df8b70 (LWP 1849)]
 [New Thread 0xb45f8b70 (LWP 1850)]
 [New Thread 0xb3df8b70 (LWP 1851)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.18.100
     Stream #0:0: Video: rawvideo (RGBA / 0x41424752), rgba, 160x120 [SAR
 1:1 DAR 4:3], q=2-31, 200 kb/s, 90k tbn, 40 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (png -> rawvideo)
 Press [q] to stop, [?] for help
 [null @ 0x9117680] Encoder did not produce proper pts, making some up.
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] Missing png signature
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 Input stream #0:0 frame changed from size:160x120 fmt:rgba to size:160x120
 fmt:pal8
 [Thread 0xb75f8b70 (LWP 1843) exited]
 [Thread 0xb7df8b70 (LWP 1842) exited]
 [Thread 0xb6df8b70 (LWP 1844) exited]
 [Thread 0xb5df8b70 (LWP 1846) exited]
 [Thread 0xb3df8b70 (LWP 1851) exited]
 [Thread 0xb4df8b70 (LWP 1849) exited]
 [Thread 0xb55f8b70 (LWP 1847) exited]
 [Thread 0xb45f8b70 (LWP 1850) exited]
 [Thread 0xb65f8b70 (LWP 1845) exited]
 [New Thread 0xb3df8b70 (LWP 1892)]
 [New Thread 0xb45f8b70 (LWP 1893)]
 [New Thread 0xb4df8b70 (LWP 1894)]
 [New Thread 0xb55f8b70 (LWP 1895)]
 [New Thread 0xb5df8b70 (LWP 1897)]
 [New Thread 0xb7df8b70 (LWP 1898)]
 [New Thread 0xb75f8b70 (LWP 1899)]
 [New Thread 0xb6df8b70 (LWP 1900)]
 [New Thread 0xb65f8b70 (LWP 1901)]
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 Input stream #0:0 frame changed from size:160x120 fmt:pal8 to size:160x120
 fmt:gray
 [Thread 0xb4df8b70 (LWP 1894) exited]
 [Thread 0xb55f8b70 (LWP 1895) exited]
 [Thread 0xb5df8b70 (LWP 1897) exited]
 [Thread 0xb7df8b70 (LWP 1898) exited]
 [Thread 0xb45f8b70 (LWP 1893) exited]
 [Thread 0xb65f8b70 (LWP 1901) exited]
 [Thread 0xb3df8b70 (LWP 1892) exited]
 [Thread 0xb6df8b70 (LWP 1900) exited]
 [Thread 0xb75f8b70 (LWP 1899) exited]
 [New Thread 0xb65f8b70 (LWP 1933)]
 [New Thread 0xb6df8b70 (LWP 1934)]
 [New Thread 0xb75f8b70 (LWP 1935)]
 [New Thread 0xb7df8b70 (LWP 1936)]
 [New Thread 0xb5df8b70 (LWP 1937)]
 [New Thread 0xb55f8b70 (LWP 1938)]
 [New Thread 0xb4df8b70 (LWP 1939)]
 [New Thread 0xb45f8b70 (LWP 1940)]
 [New Thread 0xb3df8b70 (LWP 1941)]
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input
 [png @ 0x9115700] inflate returned error -3
 Error while decoding stream #0:0: Invalid data found when processing input

 Program received signal SIGINT, Interrupt.
 0x4160a84c in inflate () from /lib/i386-linux-gnu/libz.so.1
 (gdb) bt
 #0  0x4160a84c in inflate () from /lib/i386-linux-gnu/libz.so.1
 #1  0x085c18e2 in png_decode_idat (length=<optimized out>, s=<optimized
 out>)
     at libavcodec/pngdec.c:372
 #2  decode_frame (avctx=0x9115700, data=0x911a680, got_frame=0xbffff4e4,
     avpkt=0xbffff288) at libavcodec/pngdec.c:690
 #3  0x0867a58e in avcodec_decode_video2 (avctx=0x9115700,
     picture=picture at entry=0x911a680,
     got_picture_ptr=got_picture_ptr at entry=0xbffff4e4,
     avpkt=avpkt at entry=0xbffff730) at libavcodec/utils.c:1995
 #4  0x080b394d in decode_video (ist=ist at entry=0x9117200,
     pkt=pkt at entry=0xbffff730, got_output=got_output at entry=0xbffff4e4)
     at ffmpeg.c:1668
 #5  0x080b786a in output_packet (pkt=0xbffff6c8, ist=0x9117200)
     at ffmpeg.c:1866
 #6  process_input (file_index=1) at ffmpeg.c:3089
 #7  0x080a3043 in transcode_step () at ffmpeg.c:3185
 #8  transcode () at ffmpeg.c:3237
 #9  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2978>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 16:23:15 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 14:23:15 -0000
Subject: [FFmpeg-trac] #2979(undetermined:new): wmalossless: deadlock with
 fuzzed file
Message-ID: <038.8f328ee3c9b8c77cbaf571ff8dbd191e@avcodec.org>

#2979: wmalossless: deadlock with fuzzed file
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 {{{
 (gdb) r -i ./deadlock.wmv -vn -f null -
 The program being debugged has been started already.
 Start it from the beginning? (y or n) y

 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -i
 ./deadlock.wmv -vn -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, asf, from './deadlock.wmv':
   Metadata:
     title           : EMR Datacenter:  Transaction Recap
     artist          : James Carlburg
     copyright       : ?? 2004 by James Carlburg
     WMFSDKNeeded    : 0.0.0.0000
     DeviceConformanceTemplate: @
     WM/WMADRCPeakReference: 22602
     WM/WMADRCPeakTarget: 22602
     WM/WMADRCAverageReference: 426
     WM/WMADRCAverageTarget: 131498
     WMFSDKVersion   : 9.00.00.2980
     IsVBR           : 1
     VBR Peak        : 38000
     Buffer Average  : 3088
   Duration: 00:00:39.43, start: 0.000000, bitrate: 101 kb/s
     Stream #0:0(eng): Audio: wmalossless (c[1][0][0] / 0x0163), 44100 Hz,
 stereo, s16p, 57 kb/s
     Stream #0:1(eng): Video: mss2 (MSS2 / 0x3253534D), rgb24, 800x600, 41
 kb/s, 15 tbr, 1k tbn, 1k tbc
 [New Thread 0xb7dd1b70 (LWP 6134)]
 [New Thread 0xb75d1b70 (LWP 6135)]
 [New Thread 0xb6dd1b70 (LWP 6136)]
 [New Thread 0xb65d1b70 (LWP 6137)]
 [New Thread 0xb5dd1b70 (LWP 6138)]
 [New Thread 0xb55d1b70 (LWP 6139)]
 [New Thread 0xb4dd1b70 (LWP 6140)]
 [New Thread 0xb45d1b70 (LWP 6141)]
 [New Thread 0xb3dd1b70 (LWP 6142)]
 Output #0, null, to 'pipe:':
   Metadata:
     title           : EMR Datacenter:  Transaction Recap
     artist          : James Carlburg
     copyright       : ?? 2004 by James Carlburg
     WMFSDKNeeded    : 0.0.0.0000
     DeviceConformanceTemplate: @
     WM/WMADRCPeakReference: 22602
     WM/WMADRCPeakTarget: 22602
     WM/WMADRCAverageReference: 426
     WM/WMADRCAverageTarget: 131498
     WMFSDKVersion   : 9.00.00.2980
     IsVBR           : 1
     VBR Peak        : 38000
     Buffer Average  : 3088
     encoder         : Lavf55.18.100
     Stream #0:0(eng): Audio: pcm_s16le, 44100 Hz, stereo, s16, 1411 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (wmalossless -> pcm_s16le)
 Press [q] to stop, [?] for help

 Program received signal SIGINT, Interrupt.
 0x0867ab34 in avcodec_decode_audio4 (avctx=avctx at entry=0x9116440,
     frame=frame at entry=0x915f360,
 got_frame_ptr=got_frame_ptr at entry=0xbffff504,
     avpkt=avpkt at entry=0xbffff750) at libavcodec/utils.c:2219
 2219            if (ret >= 0 && *got_frame_ptr) {
 (gdb) bt
 #0  0x0867ab34 in avcodec_decode_audio4 (avctx=avctx at entry=0x9116440,
     frame=frame at entry=0x915f360,
 got_frame_ptr=got_frame_ptr at entry=0xbffff504,
     avpkt=avpkt at entry=0xbffff750) at libavcodec/utils.c:2219
 #1  0x080b562a in decode_audio (ist=ist at entry=0x9117480,
     pkt=pkt at entry=0xbffff750, got_output=got_output at entry=0xbffff504)
     at ffmpeg.c:1526
 #2  0x080b8a40 in output_packet (pkt=0xbffff6e8, ist=0x9117480)
     at ffmpeg.c:1863
 #3  process_input (file_index=2) at ffmpeg.c:3089
 #4  0x080a3043 in transcode_step () at ffmpeg.c:3185
 #5  transcode () at ffmpeg.c:3237
 #6  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2979>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 16:46:12 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 14:46:12 -0000
Subject: [FFmpeg-trac] #2980(undetermined:new): twivvq: frame too small (1
 bytes) error/warning
Message-ID: <038.3e8d7fd8a6816e49a1ff98dd9636f315@avcodec.org>

#2980: twivvq: frame too small (1 bytes) error/warning
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 since some time ffmpeg floods the console with
 "[twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?"
 warning while decoding vqf files. Maybe this check is invalid?

 http://samples.mplayerhq.hu/vqf/fastfe.vqf

 {{{
 C:\>ffmpeg -i fastfe.vqf -f null -
 ffmpeg version N-56467-g13eff47 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 19 2013 18:02:34 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-version3 --disable-w32threads
 --enable-av
 isynth --enable-bzlib --enable-fontconfig --enable-frei0r --enable-gnutls
 --enab
 le-iconv --enable-libass --enable-libbluray --enable-libcaca --enable-
 libfreetyp
 e --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmp3lame
 --ena
 ble-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
 --enable-l
 ibopus --enable-librtmp --enable-libschroedinger --enable-libsoxr
 --enable-libsp
 eex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-
 libvo-aa
 cenc --enable-libvo-amrwbenc --enable-libvorbis --enable-libvpx --enable-
 libx264
  --enable-libxavs --enable-libxvid --enable-zlib
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [vqf @ 02a079c0] Estimating duration from bitrate, this may be inaccurate
 Input #0, vqf, from 'fastfe.vqf':
   Metadata:
     title           : Fastlove (Forthright edit)
     comment         :
     copyright       : George Michael
     author          : George Michael
     size            : 1594293
   Duration: 00:04:25.73, start: 0.000000, bitrate: 48 kb/s
     Stream #0:0: Audio: twinvq, 22050 Hz, stereo, fltp, 48 kb/s
 Output #0, null, to 'pipe:':
   Metadata:
     title           : Fastlove (Forthright edit)
     comment         :
     copyright       : George Michael
     author          : George Michael
     size            : 1594293
     encoder         : Lavf55.18.100
     Stream #0:0: Audio: pcm_s16le, 22050 Hz, stereo, s16, 705 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (twinvq -> pcm_s16le)
 Press [q] to stop, [?] for help
 Multiple frames in a packet from stream 0
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 [twinvq @ 02a08000] Frame too small (1 bytes). Truncated file?
 Error while decoding stream #0:0: Error number -22 occurred
 size=N/A time=00:00:06.36 bitrate=N/A
 video:0kB audio:540kB subtitle:0 global headers:0kB muxing overhead
 -100.003979%

 Received signal 2: terminating.
 }}}

 {{{
 C:\>ffmpeg -i fastfe.vqf -f null -
 ffmpeg version N-55159-gf118b41 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Aug  1 2013 18:01:57 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-version3 --disable-w32threads
 --enable-av
 isynth --enable-bzlib --enable-fontconfig --enable-frei0r --enable-gnutls
 --enab
 le-iconv --enable-libass --enable-libbluray --enable-libcaca --enable-
 libfreetyp
 e --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmp3lame
 --ena
 ble-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
 --enable-l
 ibopus --enable-librtmp --enable-libschroedinger --enable-libsoxr
 --enable-libsp
 eex --enable-libtheora --enable-libtwolame --enable-libvo-aacenc --enable-
 libvo-
 amrwbenc --enable-libvorbis --enable-libvpx --enable-libx264 --enable-
 libxavs --
 enable-libxvid --enable-zlib
   libavutil      52. 40.100 / 52. 40.100
   libavcodec     55. 19.100 / 55. 19.100
   libavformat    55. 12.102 / 55. 12.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 82.100 /  3. 82.100
   libswscale      2.  4.100 /  2.  4.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [vqf @ 029b79c0] Estimating duration from bitrate, this may be inaccurate
 Input #0, vqf, from 'fastfe.vqf':
   Metadata:
     title           : Fastlove (Forthright edit)
     comment         :
     copyright       : George Michael
     author          : George Michael
     size            : 1594293
   Duration: 00:04:25.73, start: 0.000000, bitrate: 48 kb/s
     Stream #0:0: Audio: twinvq, 22050 Hz, stereo, fltp, 48 kb/s
 Output #0, null, to 'pipe:':
   Metadata:
     title           : Fastlove (Forthright edit)
     comment         :
     copyright       : George Michael
     author          : George Michael
     size            : 1594293
     encoder         : Lavf55.12.102
     Stream #0:0: Audio: pcm_s16le, 22050 Hz, stereo, s16, 705 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (twinvq -> pcm_s16le)
 Press [q] to stop, [?] for help
 fastfe.vqf: Input/output error
 size=N/A time=00:04:25.72 bitrate=N/A
 video:0kB audio:22880kB subtitle:0 global headers:0kB muxing overhead
 -100.00009
 4%
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2980>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 16:46:31 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 14:46:31 -0000
Subject: [FFmpeg-trac] #2980(undetermined:new): twinvq: frame too small
 (1 bytes) error/warning (was: twivvq: frame too small (1 bytes)
 error/warning)
In-Reply-To: <038.3e8d7fd8a6816e49a1ff98dd9636f315@avcodec.org>
References: <038.3e8d7fd8a6816e49a1ff98dd9636f315@avcodec.org>
Message-ID: <053.7b39f9d4a9a89c39291172e6e7b94b1c@avcodec.org>

#2980: twinvq: frame too small (1 bytes) error/warning
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2980#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 19:12:44 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 17:12:44 -0000
Subject: [FFmpeg-trac] #2977(undetermined:open): smv: deadlock with
 fuzzed file
In-Reply-To: <038.10352138b7af7fe0b1bf0e51c5017da7@avcodec.org>
References: <038.10352138b7af7fe0b1bf0e51c5017da7@avcodec.org>
Message-ID: <053.8560ff5a763251b997e977fd7022496f@avcodec.org>

#2977: smv: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  wav          |               Resolution:
  deadlock                           |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => wav deadlock
 * priority:  normal => important
 * version:  unspecified => git-master
 * status:  new => open
 * reproduced:  0 => 1


Comment:

 Originally a regression since 14ec9d2, behaviour changed in 2a91038.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2977#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 19:42:31 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 17:42:31 -0000
Subject: [FFmpeg-trac] #2978(avcodec:open): png: deadlock with fuzzed
 file
In-Reply-To: <038.bc5b436642a76976ceb7db7612bbf5d8@avcodec.org>
References: <038.bc5b436642a76976ceb7db7612bbf5d8@avcodec.org>
Message-ID: <053.b2f3ac9ea696da63f612d061fdbf85e0@avcodec.org>

#2978: png: deadlock with fuzzed file
--------------------------------------+-----------------------------------
             Reporter:  ami_stuff     |                    Owner:
                 Type:  defect        |                   Status:  open
             Priority:  important     |                Component:  avcodec
              Version:  git-master    |               Resolution:
             Keywords:  png deadlock  |               Blocked By:
             Blocking:                |  Reproduced by developer:  1
Analyzed by developer:  0             |
--------------------------------------+-----------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => png deadlock


Comment:

 Regression since 2ee6dca.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2978#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 19:46:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 17:46:50 -0000
Subject: [FFmpeg-trac] #1847(avcodec:open): wmalossless: support 24bit
 depth
In-Reply-To: <038.9facd511a214c67273caa40d9c34ec17@avcodec.org>
References: <038.9facd511a214c67273caa40d9c34ec17@avcodec.org>
Message-ID: <053.293c95af26473574b377fdf2ba384926@avcodec.org>

#1847: wmalossless: support 24bit depth
-------------------------------------+-----------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  wmalossless  |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by cehoyos):

 * keywords:  wmapro => wmalossless


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1847#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 19:47:27 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 17:47:27 -0000
Subject: [FFmpeg-trac] #2979(avcodec:open): wmalossless: deadlock with
 fuzzed file
In-Reply-To: <038.8f328ee3c9b8c77cbaf571ff8dbd191e@avcodec.org>
References: <038.8f328ee3c9b8c77cbaf571ff8dbd191e@avcodec.org>
Message-ID: <053.5eef9d5326be6bdd60080fcab0fcec5d@avcodec.org>

#2979: wmalossless: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  wmalossless  |               Blocked By:
  deadlock                           |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => wmalossless deadlock


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2979#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 19:47:52 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 17:47:52 -0000
Subject: [FFmpeg-trac] #2978(avcodec:open): png: deadlock with fuzzed
 file
In-Reply-To: <038.bc5b436642a76976ceb7db7612bbf5d8@avcodec.org>
References: <038.bc5b436642a76976ceb7db7612bbf5d8@avcodec.org>
Message-ID: <053.95e6e095572c90da81f23f942d2af509@avcodec.org>

#2978: png: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  png          |               Blocked By:
  deadlock regression                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  png deadlock => png deadlock regression


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2978#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 19:48:01 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 17:48:01 -0000
Subject: [FFmpeg-trac] #2977(undetermined:open): smv: deadlock with
 fuzzed file
In-Reply-To: <038.10352138b7af7fe0b1bf0e51c5017da7@avcodec.org>
References: <038.10352138b7af7fe0b1bf0e51c5017da7@avcodec.org>
Message-ID: <053.b0fda90684bcb93558d87f766898bd0b@avcodec.org>

#2977: smv: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  wav          |               Resolution:
  deadlock regression                |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  wav deadlock => wav deadlock regression


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2977#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 20:02:21 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 18:02:21 -0000
Subject: [FFmpeg-trac] #2980(undetermined:open): twinvq: frame too small
 (1 bytes) error/warning
In-Reply-To: <038.3e8d7fd8a6816e49a1ff98dd9636f315@avcodec.org>
References: <038.3e8d7fd8a6816e49a1ff98dd9636f315@avcodec.org>
Message-ID: <053.8a37c99b54136417df3a8f862f203f52@avcodec.org>

#2980: twinvq: frame too small (1 bytes) error/warning
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  minor        |                Component:
              Version:  git-master   |  undetermined
             Keywords:  vqf twinvq   |               Resolution:
  regression                         |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => vqf twinvq regression
 * priority:  normal => minor
 * version:  unspecified => git-master
 * status:  new => open
 * reproduced:  0 => 1


Comment:

 Regression since 6063f01 / 9e7b62f.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2980#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 21:08:33 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 19:08:33 -0000
Subject: [FFmpeg-trac] #2976(avformat:closed): m3u8 playlist download
 fails if the lines in the manifests are longer than 1024 characters
In-Reply-To: <036.ca7932c1ebf29840a12a4863b348e10e@avcodec.org>
References: <036.ca7932c1ebf29840a12a4863b348e10e@avcodec.org>
Message-ID: <051.17249e56f367467a30aba69678ed9085@avcodec.org>

#2976: m3u8 playlist download fails if the lines in the manifests are longer than
1024 characters
------------------------------------+------------------------------------
             Reporter:  jaimeMF     |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:  fixed
             Keywords:  hls         |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed
 * reproduced:  0 => 1


Comment:

 Fixed in 21a2b97365b566cf9c6e526b5165dde4673b526e

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2976#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 21:31:02 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 19:31:02 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.ea3c435a3a216a384b361d31240ee2d1@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Replying to [comment:159 Kamedo2]:
 > The v5 patch is encoding at 15-50x realtime, depending on bitrate and
 type of music encoded.

 I believe I may have to disappoint you there. One of the optimizations
 that does that, is acting up on ABR, I noticed improved quality by
 restricting it, so the v6 with optimized VBR will have that disabled as
 well (and thus be a tad slower).

 I thought that optimization was result-neutral, but it seems it isn't.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:162>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 21:50:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 19:50:40 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.283d6102ac1c1eb092e1276c14423514@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 15x speed is 'tolerable' :)

 I've encoded more than 50GB of mp4s, including surround 5.1ch with more
 than 1Mbps etc... and listened to 12 hours of mainly Pop music. v5 seems
 to be stable. Is fixing "Too many bits per frame requested" error easy?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:163>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 21:58:05 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 19:58:05 -0000
Subject: [FFmpeg-trac] #2976(avformat:closed): m3u8 playlist download
 fails if the lines in the manifests are longer than 1024 characters
In-Reply-To: <036.ca7932c1ebf29840a12a4863b348e10e@avcodec.org>
References: <036.ca7932c1ebf29840a12a4863b348e10e@avcodec.org>
Message-ID: <051.1ec1a3b3b55b60547bb9d54ef1b5fefd@avcodec.org>

#2976: m3u8 playlist download fails if the lines in the manifests are longer than
1024 characters
------------------------------------+------------------------------------
             Reporter:  jaimeMF     |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avformat
              Version:  git-master  |               Resolution:  fixed
             Keywords:  hls         |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by jaimeMF):

 Thanks! it works now.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2976#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 22:43:43 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 20:43:43 -0000
Subject: [FFmpeg-trac] #2981(swscale:new): No support for jpeg with 1pixel
 width
Message-ID: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>

#2981: No support for jpeg with 1pixel width
---------------------------------+--------------------------------------
             Reporter:  cyril    |                     Type:  defect
               Status:  new      |                 Priority:  normal
            Component:  swscale  |                  Version:  git-master
             Keywords:           |               Blocked By:
             Blocking:           |  Reproduced by developer:  0
Analyzed by developer:  0        |
---------------------------------+--------------------------------------
 Summary of the bug: It doesn't seem like FFmpeg handle safely jpeg with 1
 pixel width. After a call to sws_scale(), the buffer passed as the "dst"
 parameter isn't safe anymore and cannot be freed thereafter.
 FFplay seems to reproduce the same issue because it cannot even display
 the jpeg file.

 How to reproduce:
 {{{
 % ffplay.exe root_banner.jpg
 ffplay version N-56525-g5b153f8 Copyright (c) 2003-2013 the FFmpeg
 developers
   built on Sep 21 2013 00:42:32 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-version3 --disable-w32threads
 --enable-av
 isynth --enable-bzlib --enable-fontconfig --enable-frei0r --enable-gnutls
 --enab
 le-iconv --enable-libass --enable-libbluray --enable-libcaca --enable-
 libfreetyp
 e --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmp3lame
 --ena
 ble-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
 --enable-l
 ibopus --enable-librtmp --enable-libschroedinger --enable-libsoxr
 --enable-libsp
 eex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-
 libvo-aa
 cenc --enable-libvo-amrwbenc --enable-libvorbis --enable-libvpx --enable-
 libwavp
 ack --enable-libx264 --enable-libxavs --enable-libxvid --enable-zlib
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, image2, from '..\root_banner.jpg':  0KB sq=    0B f=0/0
   Duration: 00:00:00.04, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: mjpeg, yuvj420p(pc), 1x60 [SAR 96:96 DAR 1:60], 25
 tbr,
 25 tbn, 25 tbc
 [swscaler @ 0000000002864fe0] deprecated pixel format used, make sure you
 did se
 t range correctly
 [ffplay_crop @ 0000000002850e40] Invalid too big or non positive size for
 width
 '0' or height '60'
 [auto-inserted scaler 0 @ 00000000028452c0] Failed to configure input pad
 on ffp
 lay_crop
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2981>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 22:47:39 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 20:47:39 -0000
Subject: [FFmpeg-trac] #2981(swscale:new): Bad support for jpeg with
 1pixel width with sws_scale() (was: No support for jpeg with 1pixel width)
In-Reply-To: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
References: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
Message-ID: <049.202963322aab82d3054cf55452450ed4@avcodec.org>

#2981: Bad support for jpeg with 1pixel width with sws_scale()
------------------------------------+-----------------------------------
             Reporter:  cyril       |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  swscale
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2981#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 21 22:48:02 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 20:48:02 -0000
Subject: [FFmpeg-trac] #2981(swscale:new): Bad support for jpeg with
 1pixel width using sws_scale() (was: Bad support for jpeg with 1pixel width
 with sws_scale())
In-Reply-To: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
References: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
Message-ID: <049.416c297c9c79a1d315bf1af30be3f3da@avcodec.org>

#2981: Bad support for jpeg with 1pixel width using sws_scale()
------------------------------------+-----------------------------------
             Reporter:  cyril       |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  swscale
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2981#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 00:05:08 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 22:05:08 -0000
Subject: [FFmpeg-trac] #2981(FFplay:open): ffplay cannot show 1pixel
 wide images (was: Bad support for jpeg with 1pixel width using sws_scale())
In-Reply-To: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
References: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
Message-ID: <049.1799c6dd4fadfab389d0261a48115f61@avcodec.org>

#2981: ffplay cannot show 1pixel wide images
------------------------------------+----------------------------------
             Reporter:  cyril       |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  minor       |                Component:  FFplay
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+----------------------------------
Changes (by cehoyos):

 * priority:  normal => minor
 * status:  new => open
 * component:  swscale => FFplay
 * reproduced:  0 => 1


Comment:

 Why do you think there is a problem with swscale? It works fine here but
 ffplay does not support 1 pixel resolution.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2981#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 00:20:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 22:20:25 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.128bda565ea8d96dd61909f6621ea032@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 I can make it only applicable when using ABR, but I think it's a useful
 message.

 I could also turn it into a warning, I think.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:164>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 00:24:24 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 22:24:24 -0000
Subject: [FFmpeg-trac] #2971(avcodec:closed): g2m4: invalid write 3
In-Reply-To: <038.7207d1722682d4e1409f401e19c6265a@avcodec.org>
References: <038.7207d1722682d4e1409f401e19c6265a@avcodec.org>
Message-ID: <053.918a7c2d512f1018fc45f15b6b10fcd3@avcodec.org>

#2971: g2m4: invalid write 3
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  g2m4 crash   |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in e07ac727c1cc9eed39e7f9117c97006f719864bd

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2971#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 00:48:21 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 22:48:21 -0000
Subject: [FFmpeg-trac] #2981(FFplay:open): ffplay cannot show 1pixel
 wide images
In-Reply-To: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
References: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
Message-ID: <049.b3330f612230100b060a622c1c72b1b2@avcodec.org>

#2981: ffplay cannot show 1pixel wide images
------------------------------------+----------------------------------
             Reporter:  cyril       |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  minor       |                Component:  FFplay
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+----------------------------------

Comment (by cyril):

 I have an application reading videos and pictures using FFmpeg. FFmpeg is
 compiled as dll using MSYS_MinGW and my app is compiled with VC++ 2010.

 After calling av_read_frame() and avcodec_decode_video2() on the source
 file, I call sws_getCachedContext() and sws_scale() with target format
 being PIX_FMT_BGRA.

 The destination buffer is only filled with data by sws_scale() and is then
 used as read only. It's allocated with avpicture_alloc() and at the end
 freed with avpicture_free().

 In debug mode, if I call avpicture_free() on the destination buffer at
 anytime after sws_scale() (even just after the call), I get these errors:

 {{{
 Heap block at 000000000046FE60 modified at 000000000046FF88 past requested
 size of 118
 }}}
 {{{
 Invalid address specified to RtlFreeHeap( 0000000000460000,
 000000000046FE70 )
 }}}

 This error only happens with this jpeg file, everything is fine with wider
 jpeg or other video files.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2981#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 00:54:48 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 21 Sep 2013 22:54:48 -0000
Subject: [FFmpeg-trac] #2981(FFplay:open): ffplay cannot show 1pixel
 wide images
In-Reply-To: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
References: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
Message-ID: <049.c8b066e981df3342805df8e4090efe6b@avcodec.org>

#2981: ffplay cannot show 1pixel wide images
------------------------------------+----------------------------------
             Reporter:  cyril       |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  minor       |                Component:  FFplay
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+----------------------------------

Comment (by cehoyos):

 Please test ffmpeg (the application), if the problem is not reproducible,
 please provide a test case.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2981#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 02:27:15 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 00:27:15 -0000
Subject: [FFmpeg-trac] #2982(undetermined:new): mlp: invalid write with
 max_alloc
Message-ID: <038.a8e5da78896e34bb8896464b954e436f@avcodec.org>

#2982: mlp: invalid write with max_alloc
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://www1.datafilehost.com/d/dcbb61c7

 {{{
 (gdb) r -max_alloc 4000000 -i ./crash.mlp -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -max_alloc
 4000000 -i ./crash.mlp -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mlp @ 0x9115560] mlpparse: Parity check failed.
 [mlp @ 0x9115560] ff_combine_frame failed
     Last message repeated 1746 times
 Program received signal SIGSEGV, Segmentation fault.
 0x085bba91 in ff_combine_frame (pc=pc at entry=0x9115ae0, next=-3944454,
     next at entry=-3946109, buf=buf at entry=0xbfffedf0,
     buf_size=buf_size at entry=0xbfffedf4) at libavcodec/parser.c:267
 267             pc->state = (pc->state<<8) | pc->buffer[pc->last_index +
 next];
 (gdb) bt
 #0  0x085bba91 in ff_combine_frame (pc=pc at entry=0x9115ae0, next=-3944454,
     next at entry=-3946109, buf=buf at entry=0xbfffedf0,
     buf_size=buf_size at entry=0xbfffedf4) at libavcodec/parser.c:267
 #1  0x08535266 in mlp_parse (s=0x9115980, avctx=0x9115560,
 poutbuf=0xbfffeec4,
     poutbuf_size=0xbfffeec8,
     buf=0xb79df008
 "L\301\027\200\017G;\031\063eYL\360\254Y\260\222\345o\234lYEm(?\374\276\\\210GN\037\301h\"==K'&\016\367\215'\313Rd\t\226\226\207\030\235\322
 rGZ??\vZ\341J\353:\203\b\237X04\333*M\204t\343\216\345r\246\v#\220\001\026\250\344\006`\b#\265T\026\017,\345\063>\255V)\332F\036\232\315\301\067\377xb???&v\202\225\341\315(\204d\234\064\335^\213b\376\227Q#\023\276\374N??\036`??\237\340\260\034\034\371??\017\060\061\244W3]/\251\063\346\313q\332%\207f\325\016\274\017{;\200\027\374}\304\362\247\223O\204\255????\255\223Zc\270,\221"...,
 buf_size=6530)
     at libavcodec/mlp_parser.c:286
 #2  0x085bb470 in av_parser_parse2 (s=0x9115980, avctx=0x9115560,
     poutbuf=poutbuf at entry=0xbfffeec4,
     poutbuf_size=poutbuf_size at entry=0xbfffeec8,
     buf=buf at entry=0x912d8b0 "&\222)\243\370ro\273.\b\b\\6S@ !",
     buf_size=buf_size at entry=416, pts=-9223372036854775808,
     dts=-9223372036854775808, pos=-1) at libavcodec/parser.c:155
 #3  0x08239551 in parse_packet (s=s at entry=0x9114d40,
 pkt=pkt at entry=0xbffff058,
     stream_index=<optimized out>) at libavformat/utils.c:1201
 #4  0x0823a48d in read_frame_internal (s=s at entry=0x9114d40,
     pkt=pkt at entry=0xbffff238) at libavformat/utils.c:1379
 ---Type <return> to continue, or q <return> to quit---
 #5  0x0823dd65 in avformat_find_stream_info (ic=0x9114d40,
 options=0x9115940)
     at libavformat/utils.c:2801
 #6  0x080a66b5 in open_input_file (o=o at entry=0xbffff51c,
     filename=<optimized out>) at ffmpeg_opt.c:809
 #7  0x080a4ed7 in open_files (inout=inout at entry=0x88e729b "input",
     open_file=open_file at entry=0x80a62d0 <open_input_file>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>)
     at ffmpeg_opt.c:2494
 #8  0x080ad0e9 in ffmpeg_parse_options (argc=argc at entry=8,
     argv=argv at entry=0xbffff9a4) at ffmpeg_opt.c:2531
 #9  0x080a25da in main (argc=8, argv=0xbffff9a4) at ffmpeg.c:3393
 (gdb)
 }}}

 {{{
 knoppix at Microknoppix:/media/sdb1$ valgrind --leak-check=full ffmpeg-HEAD-
 93439e8/ffmpeg_g -max_alloc 4000000 -i ./crash.mlp -f null -
 ==3316== Memcheck, a memory error detector
 ==3316== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
 ==3316== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
 ==3316== Command: ffmpeg-HEAD-93439e8/ffmpeg_g -max_alloc 4000000 -i
 ./crash.mlp -f null -
 ==3316==
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mlp @ 0x423a420] mlpparse: Parity check failed.
 [mlp @ 0x423a420] ff_combine_frame failed
 ==3316== Invalid read of size 1times
 ==3316==    at 0x85BBA91: ff_combine_frame (parser.c:267)
 ==3316==    by 0x8535265: mlp_parse (mlp_parser.c:286)
 ==3316==    by 0x85BB46F: av_parser_parse2 (parser.c:155)
 ==3316==    by 0x8239550: parse_packet (utils.c:1201)
 ==3316==    by 0x823A48C: read_frame_internal (utils.c:1379)
 ==3316==    by 0x823DD64: avformat_find_stream_info (utils.c:2801)
 ==3316==    by 0x80A66B4: open_input_file (ffmpeg_opt.c:809)
 ==3316==    by 0x80A4ED6: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==3316==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==3316==  Address 0x441625b is 0 bytes after a block of size 6,987 alloc'd
 ==3316==    at 0x40283EE: realloc (vg_replace_malloc.c:632)
 ==3316==    by 0x8676DA4: av_fast_realloc (utils.c:73)
 ==3316==    by 0x85BBB54: ff_combine_frame (parser.c:253)
 ==3316==    by 0x8535265: mlp_parse (mlp_parser.c:286)
 ==3316==    by 0x85BB46F: av_parser_parse2 (parser.c:155)
 ==3316==    by 0x8239550: parse_packet (utils.c:1201)
 ==3316==    by 0x823A48C: read_frame_internal (utils.c:1379)
 ==3316==    by 0x823DD64: avformat_find_stream_info (utils.c:2801)
 ==3316==    by 0x80A66B4: open_input_file (ffmpeg_opt.c:809)
 ==3316==    by 0x80A4ED6: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==3316==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==3316==
 ==3316== Invalid read of size 1
 ==3316==    at 0x85BBAAB: ff_combine_frame (parser.c:268)
 ==3316==    by 0x8535265: mlp_parse (mlp_parser.c:286)
 ==3316==    by 0x85BB46F: av_parser_parse2 (parser.c:155)
 ==3316==    by 0x8239550: parse_packet (utils.c:1201)
 ==3316==    by 0x823A48C: read_frame_internal (utils.c:1379)
 ==3316==    by 0x823DD64: avformat_find_stream_info (utils.c:2801)
 ==3316==    by 0x80A66B4: open_input_file (ffmpeg_opt.c:809)
 ==3316==    by 0x80A4ED6: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==3316==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==3316==  Address 0x441625b is 0 bytes after a block of size 6,987 alloc'd
 ==3316==    at 0x40283EE: realloc (vg_replace_malloc.c:632)
 ==3316==    by 0x8676DA4: av_fast_realloc (utils.c:73)
 ==3316==    by 0x85BBB54: ff_combine_frame (parser.c:253)
 ==3316==    by 0x8535265: mlp_parse (mlp_parser.c:286)
 ==3316==    by 0x85BB46F: av_parser_parse2 (parser.c:155)
 ==3316==    by 0x8239550: parse_packet (utils.c:1201)
 ==3316==    by 0x823A48C: read_frame_internal (utils.c:1379)
 ==3316==    by 0x823DD64: avformat_find_stream_info (utils.c:2801)
 ==3316==    by 0x80A66B4: open_input_file (ffmpeg_opt.c:809)
 ==3316==    by 0x80A4ED6: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==3316==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==3316==
 ==3316== Invalid read of size 1
 ==3316==    at 0x85BBAAB: ff_combine_frame (parser.c:268)
 ==3316==    by 0xE0088703: ???
 ==3316==  Address 0x460f8db is 707 bytes inside a block of size 1,040
 free'd
 ==3316==    at 0x402750C: free (vg_replace_malloc.c:427)
 ==3316==    by 0x8862CB2: av_buffer_unref (buffer.c:115)
 ==3316==    by 0x827B6BB: av_free_packet (avpacket.c:284)
 ==3316==    by 0x8239707: parse_packet (utils.c:1286)
 ==3316==    by 0x823A48C: read_frame_internal (utils.c:1379)
 ==3316==    by 0x823DD64: avformat_find_stream_info (utils.c:2801)
 ==3316==    by 0x80A66B4: open_input_file (ffmpeg_opt.c:809)
 ==3316==    by 0x80A4ED6: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==3316==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==3316==
 ==3316== Invalid read of size 1
 ==3316==    at 0x85BBA91: ff_combine_frame (parser.c:267)
 ==3316==    by 0xE0088703: ???
 ==3316==  Address 0x460f8dc is 708 bytes inside a block of size 1,040
 free'd
 ==3316==    at 0x402750C: free (vg_replace_malloc.c:427)
 ==3316==    by 0x8862CB2: av_buffer_unref (buffer.c:115)
 ==3316==    by 0x827B6BB: av_free_packet (avpacket.c:284)
 ==3316==    by 0x8239707: parse_packet (utils.c:1286)
 ==3316==    by 0x823A48C: read_frame_internal (utils.c:1379)
 ==3316==    by 0x823DD64: avformat_find_stream_info (utils.c:2801)
 ==3316==    by 0x80A66B4: open_input_file (ffmpeg_opt.c:809)
 ==3316==    by 0x80A4ED6: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==3316==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==3316==
     Last message repeated 1746 times
 [mlp @ 0x423a420] mlpparse: Parity check failed.
 ==3316== Invalid read of size 1
 ==3316==    at 0x85BBA02: ff_combine_frame (parser.c:226)
 ==3316==    by 0x85354D5: mlp_parse (mlp_parser.c:251)
 ==3316==    by 0x85BB46F: av_parser_parse2 (parser.c:155)
 ==3316==    by 0x8239550: parse_packet (utils.c:1201)
 ==3316==    by 0x823A48C: read_frame_internal (utils.c:1379)
 ==3316==    by 0x823DD64: avformat_find_stream_info (utils.c:2801)
 ==3316==    by 0x80A66B4: open_input_file (ffmpeg_opt.c:809)
 ==3316==    by 0x80A4ED6: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==3316==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==3316==  Address 0x441625b is 0 bytes after a block of size 6,987 alloc'd
 ==3316==    at 0x40283EE: realloc (vg_replace_malloc.c:632)
 ==3316==    by 0x8676DA4: av_fast_realloc (utils.c:73)
 ==3316==    by 0x85BBB54: ff_combine_frame (parser.c:253)
 ==3316==    by 0x8535265: mlp_parse (mlp_parser.c:286)
 ==3316==    by 0x85BB46F: av_parser_parse2 (parser.c:155)
 ==3316==    by 0x8239550: parse_packet (utils.c:1201)
 ==3316==    by 0x823A48C: read_frame_internal (utils.c:1379)
 ==3316==    by 0x823DD64: avformat_find_stream_info (utils.c:2801)
 ==3316==    by 0x80A66B4: open_input_file (ffmpeg_opt.c:809)
 ==3316==    by 0x80A4ED6: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==3316==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==3316==
 ==3316== Invalid write of size 1
 ==3316==    at 0x85BBA09: ff_combine_frame (parser.c:226)
 ==3316==    by 0x85354D5: mlp_parse (mlp_parser.c:251)
 ==3316==    by 0x85BB46F: av_parser_parse2 (parser.c:155)
 ==3316==    by 0x8239550: parse_packet (utils.c:1201)
 ==3316==    by 0x823A48C: read_frame_internal (utils.c:1379)
 ==3316==    by 0x823DD64: avformat_find_stream_info (utils.c:2801)
 ==3316==    by 0x80A66B4: open_input_file (ffmpeg_opt.c:809)
 ==3316==    by 0x80A4ED6: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==3316==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==3316==  Address 0x441625b is 0 bytes after a block of size 6,987 alloc'd
 ==3316==    at 0x40283EE: realloc (vg_replace_malloc.c:632)
 ==3316==    by 0x8676DA4: av_fast_realloc (utils.c:73)
 ==3316==    by 0x85BBB54: ff_combine_frame (parser.c:253)
 ==3316==    by 0x8535265: mlp_parse (mlp_parser.c:286)
 ==3316==    by 0x85BB46F: av_parser_parse2 (parser.c:155)
 ==3316==    by 0x8239550: parse_packet (utils.c:1201)
 ==3316==    by 0x823A48C: read_frame_internal (utils.c:1379)
 ==3316==    by 0x823DD64: avformat_find_stream_info (utils.c:2801)
 ==3316==    by 0x80A66B4: open_input_file (ffmpeg_opt.c:809)
 ==3316==    by 0x80A4ED6: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==3316==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==3316==
 ==3316==
 ==3316== More than 10000000 total errors detected.  I'm not reporting any
 more.
 ==3316== Final error counts will be inaccurate.  Go fix your program!
 ==3316== Rerun with --error-limit=no to disable this cutoff.  Note
 ==3316== that errors may occur in your program without prior warning from
 ==3316== Valgrind, because errors are no longer being displayed.
 ==3316==
 [mlp @ 0x423a420] ff_combine_frame failed
 --3316-- VALGRIND INTERNAL ERROR: Valgrind received a signal 11 (SIGSEGV)
 - exiting
 --3316-- si_code=1;  Faulting address: 0xF5F7F212;  sp: 0x62b64e40

 valgrind: the 'impossible' happened:
    Killed by fatal signal
 ==3316==    at 0x3804A1B2: vgPlain_arena_malloc (m_mallocfree.c:285)

 sched status:
   running_tid=1

 Thread 1: status = VgTs_Runnable
 ==3316==    at 0x4028308: malloc (vg_replace_malloc.c:263)
 ==3316==    by 0x402849F: realloc (vg_replace_malloc.c:632)
 ==3316==    by 0x8862FC7: av_buffer_realloc (buffer.c:164)
 ==3316==    by 0x827AF8F: av_new_packet (avpacket.c:74)
 ==3316==    by 0x81F29EC: ff_raw_read_partial_packet (rawdec.c:40)
 ==3316==    by 0x82377E6: ff_read_packet (utils.c:658)
 ==3316==    by 0x823A128: read_frame_internal (utils.c:1316)
 ==3316==    by 0x823DD64: avformat_find_stream_info (utils.c:2801)
 ==3316==    by 0x80A66B4: open_input_file (ffmpeg_opt.c:809)
 ==3316==    by 0x80A4ED6: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==3316==    by 0x40A5E15: (below main) (libc-start.c:228)


 Note: see also the FAQ in the source distribution.
 It contains workarounds to several common problems.
 In particular, if Valgrind aborted or crashed after
 identifying problems in your program, there's a good chance
 that fixing those problems will prevent Valgrind aborting or
 crashing, especially if it happened in m_mallocfree.c.

 If that doesn't help, please report this bug to: www.valgrind.org

 In the bug report, send all the above text, the valgrind
 version, and what OS and version you are using.  Thanks.
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2982>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 05:34:30 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 03:34:30 -0000
Subject: [FFmpeg-trac] #2975(undetermined:new): h264 streams don't start
 with timestamp/timecode 0 when muxed with Matroska
In-Reply-To: <034.8931f0ee32ae58a06192ba07d3fb0484@avcodec.org>
References: <034.8931f0ee32ae58a06192ba07d3fb0484@avcodec.org>
Message-ID: <049.2820e2a0cf6b6bf976506f263b8eafee@avcodec.org>

#2975: h264 streams don't start with timestamp/timecode 0 when muxed with Matroska
-------------------------------------+-------------------------------------
             Reporter:  jamal        |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  h264 mkv     |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by jamal):

 Maybe the subject of the ticket should be changed? What's happening here
 is that during muxing, a few ms are added to each packet's ts value.
 I don't know if starting at 0 or not is correct for mkv-h264, but afaics
 that's not the actual issue here.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2975#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 09:44:21 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 07:44:21 -0000
Subject: [FFmpeg-trac] #2982(avcodec:open): mlp: invalid write with
 max_alloc
In-Reply-To: <038.a8e5da78896e34bb8896464b954e436f@avcodec.org>
References: <038.a8e5da78896e34bb8896464b954e436f@avcodec.org>
Message-ID: <053.8a9a5d2055bd84eec5ef4e52a6dbcc5e@avcodec.org>

#2982: mlp: invalid write with max_alloc
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  important   |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  mlp         |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => mlp


Comment:

 next in ff_combine_frame() is a large negative number (because of
 {{{mp->bytes_left -= mp->pc.index;}}} in mlp_parser.c), making
 {{{pc->buffer[pc->last_index + next]}}} an invalid memory access.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2982#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 15:32:43 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 13:32:43 -0000
Subject: [FFmpeg-trac]  #2983(avcodec:new): support VP7 video
Message-ID: <035.9abffc6efcb53d2dddef093403dd95ee@avcodec.org>

#2983: support VP7 video
---------------------------------------+---------------------------------
               Reporter:  ubitux       |                  Owner:
                   Type:  enhancement  |                 Status:  new
               Priority:  normal       |              Component:  avcodec
                Version:  git-master   |               Keywords:  vp7
             Blocked By:               |               Blocking:
Reproduced by developer:  0            |  Analyzed by developer:  0
---------------------------------------+---------------------------------
 From: https://bugs.gentoo.org/show_bug.cgi?id=468406

 VP7 codec unsupported:
 {{{
 ? ./ffplay /tmp/vp7.mkv
 ffplay version N-56589-g9fedc8b Copyright (c) 2003-2013 the FFmpeg
 developers
   built on Sep 22 2013 13:59:40 with gcc 4.8.1 (GCC) 20130725 (prerelease)
   configuration: --enable-gpl --enable-version3 --enable-fontconfig
 --enable-libfreetype --enable-libmp3lame --enable-libvorbis --enable-
 libxvid --enable-libx264 --enable-libvpx --enable-libtheora --enable-
 x11grab --enable-libopenjpeg --enable-libass --enable-libmodplug --enable-
 libv4l2 --cc=colorgcc --samples=/home/ubitux/fate-samples
 --prefix=/tmp/ffinstall --disable-runtime-cpudetect --enable-libcelt
 --enable-libopencv --enable-frei0r --enable-libcaca --enable-libiec61883
 --enable-libopencore-amrwb --enable-libopencore-amrnb --enable-libopus
 --enable-libpulse --enable-libspeex --enable-libquvi --assert-level=2
 --enable-libzmq --enable-libschroedinger --cpu=native
   libavutil      52. 45.100 / 52. 45.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [matroska,webm @ 0x7f6990000940] Unknown/unsupported AVCodecID
 V_MS/VFW/FOURCC.
 [matroska,webm @ 0x7f6990000940] Could not find codec parameters for
 stream 0 (Video: none (VP70 / 0x30375056), 640x272): unknown codec
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 Input #0, matroska,webm, from '/tmp/vp7.mkv':
   Metadata:
     title           : Derailed
     creation_time   : 2006-05-30 22:37:13
   Duration: 01:42:04.12, start: 0.000000, bitrate: 1 kb/s
     Stream #0:0(eng): Video: none (VP70 / 0x30375056), 640x272, SAR 1:1
 DAR 40:17, 25 fps, 25 tbr, 1k tbn, 1k tbc (default)
     Stream #0:1(eng): Audio: vorbis, 48000 Hz, stereo, fltp (default)
 No codec could be found with id 0
 }}}

 Note: attached file is the same as {{{sample.avi}}} from the gentoo bug
 report, but with fixed extension.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2983>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 15:34:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 13:34:45 -0000
Subject: [FFmpeg-trac] #2983(avcodec:new): support VP7 video
In-Reply-To: <035.9abffc6efcb53d2dddef093403dd95ee@avcodec.org>
References: <035.9abffc6efcb53d2dddef093403dd95ee@avcodec.org>
Message-ID: <050.db25a47f66d6f63bd159650dcac9e144@avcodec.org>

#2983: support VP7 video
-------------------------------------+-----------------------------------
             Reporter:  ubitux       |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  vp7          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Old description:

> From: https://bugs.gentoo.org/show_bug.cgi?id=468406
>
> VP7 codec unsupported:
> {{{
> ? ./ffplay /tmp/vp7.mkv
> ffplay version N-56589-g9fedc8b Copyright (c) 2003-2013 the FFmpeg
> developers
>   built on Sep 22 2013 13:59:40 with gcc 4.8.1 (GCC) 20130725
> (prerelease)
>   configuration: --enable-gpl --enable-version3 --enable-fontconfig
> --enable-libfreetype --enable-libmp3lame --enable-libvorbis --enable-
> libxvid --enable-libx264 --enable-libvpx --enable-libtheora --enable-
> x11grab --enable-libopenjpeg --enable-libass --enable-libmodplug
> --enable-libv4l2 --cc=colorgcc --samples=/home/ubitux/fate-samples
> --prefix=/tmp/ffinstall --disable-runtime-cpudetect --enable-libcelt
> --enable-libopencv --enable-frei0r --enable-libcaca --enable-libiec61883
> --enable-libopencore-amrwb --enable-libopencore-amrnb --enable-libopus
> --enable-libpulse --enable-libspeex --enable-libquvi --assert-level=2
> --enable-libzmq --enable-libschroedinger --cpu=native
>   libavutil      52. 45.100 / 52. 45.100
>   libavcodec     55. 33.100 / 55. 33.100
>   libavformat    55. 18.100 / 55. 18.100
>   libavdevice    55.  3.100 / 55.  3.100
>   libavfilter     3. 86.102 /  3. 86.102
>   libswscale      2.  5.100 /  2.  5.100
>   libswresample   0. 17.103 /  0. 17.103
>   libpostproc    52.  3.100 / 52.  3.100
> [matroska,webm @ 0x7f6990000940] Unknown/unsupported AVCodecID
> V_MS/VFW/FOURCC.
> [matroska,webm @ 0x7f6990000940] Could not find codec parameters for
> stream 0 (Video: none (VP70 / 0x30375056), 640x272): unknown codec
> Consider increasing the value for the 'analyzeduration' and 'probesize'
> options
> Input #0, matroska,webm, from '/tmp/vp7.mkv':
>   Metadata:
>     title           : Derailed
>     creation_time   : 2006-05-30 22:37:13
>   Duration: 01:42:04.12, start: 0.000000, bitrate: 1 kb/s
>     Stream #0:0(eng): Video: none (VP70 / 0x30375056), 640x272, SAR 1:1
> DAR 40:17, 25 fps, 25 tbr, 1k tbn, 1k tbc (default)
>     Stream #0:1(eng): Audio: vorbis, 48000 Hz, stereo, fltp (default)
> No codec could be found with id 0
> }}}
>
> Note: attached file is the same as {{{sample.avi}}} from the gentoo bug
> report, but with fixed extension.

New description:

 From: https://bugs.gentoo.org/show_bug.cgi?id=468406

 VP7 codec unsupported:
 {{{
 ? ./ffplay /tmp/vp7.mkv
 ffplay version N-56560-g361bc70 Copyright (c) 2003-2013 the FFmpeg
 developers
   built on Sep 22 2013 15:31:52 with gcc 4.8.1 (GCC) 20130725 (prerelease)
   configuration: --enable-gpl --enable-version3 --enable-fontconfig
 --enable-libfreetype --enable-libmp3lame --enable-libvorbis --enable-
 libxvid --enable-libx264 --enable-libvpx --enable-libtheora --enable-
 x11grab --enable-libopenjpeg --enable-libass --enable-libmodplug --enable-
 libv4l2 --cc=colorgcc --samples=/home/ubitux/fate-samples
 --prefix=/tmp/ffinstall --disable-runtime-cpudetect --enable-libcelt
 --enable-libopencv --enable-frei0r --enable-libcaca --enable-libiec61883
 --enable-libopencore-amrwb --enable-libopencore-amrnb --enable-libopus
 --enable-libpulse --enable-libspeex --enable-libquvi --assert-level=2
 --enable-libzmq --enable-libschroedinger --cpu=native
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.102 /  3. 86.102
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [matroska,webm @ 0x7fd1dc000940] Unknown/unsupported AVCodecID
 V_MS/VFW/FOURCC.
 [matroska,webm @ 0x7fd1dc000940] Could not find codec parameters for
 stream 0 (Video: none (VP70 / 0x30375056), 640x272): unknown codec
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 Input #0, matroska,webm, from '/tmp/vp7.mkv':
   Metadata:
     title           : Derailed
     creation_time   : 2006-05-30 22:37:13
   Duration: 01:42:04.12, start: 0.000000, bitrate: 1 kb/s
     Stream #0:0(eng): Video: none (VP70 / 0x30375056), 640x272, SAR 1:1
 DAR 40:17, 25 fps, 25 tbr, 1k tbn, 1k tbc (default)
     Stream #0:1(eng): Audio: vorbis, 48000 Hz, stereo, fltp (default)
 No codec could be found with id 0
 }}}

 Note: attached file is the same as {{{sample.avi}}} from the gentoo bug
 report, but with fixed extension.

--

Comment (by ubitux):

 (Edit: more up-to-date ffplay output)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2983#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 15:40:20 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 13:40:20 -0000
Subject: [FFmpeg-trac] #2983(avcodec:open): support VP7 video
In-Reply-To: <035.9abffc6efcb53d2dddef093403dd95ee@avcodec.org>
References: <035.9abffc6efcb53d2dddef093403dd95ee@avcodec.org>
Message-ID: <050.3a621043da247ea94ae76597ef984042@avcodec.org>

#2983: support VP7 video
-------------------------------------+-----------------------------------
             Reporter:  ubitux       |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  vp7          |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by cehoyos):

 * priority:  normal => wish
 * status:  new => open
 * reproduced:  0 => 1


Comment:

 http://wiki.multimedia.cx/index.php?title=On2_VP7

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2983#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 18:37:52 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 16:37:52 -0000
Subject: [FFmpeg-trac] #2984(undetermined:new): escape124: deadlock with
 fuzzed file
Message-ID: <038.ab932da22102f905f34c672897c3c38a@avcodec.org>

#2984: escape124: deadlock with fuzzed file
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 (I coundn't find any more crashes in decoders, however I found some
 deadlocks)

 (((
 (gdb) r -threads 1 -i ./deadlock.rpl -an -f null -
 The program being debugged has been started already.
 Start it from the beginning? (y or n) y

 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -threads 1 -i
 ./deadlock.rpl -an -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [rpl @ 0x9114e40] Estimating duration from bitrate, this may be inaccurate
 Guessed Channel Layout for  Input Stream #0.1 : stereo
 Input #0, rpl, from './deadlock.rpl':
   Metadata:
     title           : c:\avtest\logo_hq_124.rpl
     copyright       : Copyright (c) 1996 Eidos plc.  All rights reserved.
     author          : ESCAPE 1.0
   Duration: 00:00:12.04, start: 0.000000, bitrate: 705 kb/s
     Stream #0:0: Video: escape124 ([124][0][0][0] / 0x007C), rgb555le,
 320x240, 25 fps, 25 tbr, 25 tbn, 25 tbc
     Stream #0:1: Audio: pcm_u8 (e[0][0][0] / 0x0065), 44100 Hz, stereo,
 u8, 705 kb/s
 [New Thread 0xb7df8b70 (LWP 2845)]
 [New Thread 0xb75f8b70 (LWP 2846)]
 [New Thread 0xb6df8b70 (LWP 2847)]
 [New Thread 0xb65f8b70 (LWP 2848)]
 [New Thread 0xb5df8b70 (LWP 2849)]
 [New Thread 0xb55f8b70 (LWP 2850)]
 [New Thread 0xb4df8b70 (LWP 2851)]
 [New Thread 0xb45f8b70 (LWP 2852)]
 [New Thread 0xb3df8b70 (LWP 2853)]
 Output #0, null, to 'pipe:':
   Metadata:
     title           : c:\avtest\logo_hq_124.rpl
     copyright       : Copyright (c) 1996 Eidos plc.  All rights reserved.
     author          : ESCAPE 1.0
     encoder         : Lavf55.18.100
     Stream #0:0: Video: rawvideo (RGB[15] / 0xF424752), rgb555le, 320x240,
 q=2-31, 200 kb/s, 90k tbn, 25 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (escape124 -> rawvideo)
 Press [q] to stop, [?] for help
 [null @ 0x91254e0] Encoder did not produce proper pts, making some up.

 Program received signal SIGINT, Interrupt.
 escape124_decode_frame (avctx=0x91158c0, data=0x9127560,
 got_frame=0xbffff4e4,
     avpkt=0xbffff288) at libavcodec/escape124.c:307
 307                         if (mask & mask_matrix[i]) {
 (gdb) bt
 #0  escape124_decode_frame (avctx=0x91158c0, data=0x9127560,
     got_frame=0xbffff4e4, avpkt=0xbffff288) at libavcodec/escape124.c:307
 #1  0x0867a58e in avcodec_decode_video2 (avctx=0x91158c0,
     picture=picture at entry=0x9127560,
     got_picture_ptr=got_picture_ptr at entry=0xbffff4e4,
     avpkt=avpkt at entry=0xbffff730) at libavcodec/utils.c:1995
 #2  0x080b394d in decode_video (ist=ist at entry=0x9148ee0,
     pkt=pkt at entry=0xbffff730, got_output=got_output at entry=0xbffff4e4)
     at ffmpeg.c:1668
 #3  0x080b786a in output_packet (pkt=0xbffff6c8, ist=0x9148ee0)
     at ffmpeg.c:1866
 #4  process_input (file_index=2) at ffmpeg.c:3089
 #5  0x080a3043 in transcode_step () at ffmpeg.c:3185
 #6  transcode () at ffmpeg.c:3237
 #7  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2984>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 18:38:11 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 16:38:11 -0000
Subject: [FFmpeg-trac] #2984(undetermined:new): escape124: deadlock with
 fuzzed file
In-Reply-To: <038.ab932da22102f905f34c672897c3c38a@avcodec.org>
References: <038.ab932da22102f905f34c672897c3c38a@avcodec.org>
Message-ID: <053.0d9a9e7e88ef37f30506719b9f8f26b2@avcodec.org>

#2984: escape124: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Description changed by ami_stuff:

Old description:

> (I coundn't find any more crashes in decoders, however I found some
> deadlocks)
>
> (((
> (gdb) r -threads 1 -i ./deadlock.rpl -an -f null -
> The program being debugged has been started already.
> Start it from the beginning? (y or n) y
>
> Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -threads 1 -i
> ./deadlock.rpl -an -f null -
> [Thread debugging using libthread_db enabled]
> Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
> ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
>   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
>   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
> ffserver
>   libavutil      52. 44.100 / 52. 44.100
>   libavcodec     55. 31.101 / 55. 31.101
>   libavformat    55. 18.100 / 55. 18.100
>   libavdevice    55.  3.100 / 55.  3.100
>   libavfilter     3. 86.101 /  3. 86.101
>   libswscale      2.  5.100 /  2.  5.100
>   libswresample   0. 17.103 /  0. 17.103
>   libpostproc    52.  3.100 / 52.  3.100
> [rpl @ 0x9114e40] Estimating duration from bitrate, this may be
> inaccurate
> Guessed Channel Layout for  Input Stream #0.1 : stereo
> Input #0, rpl, from './deadlock.rpl':
>   Metadata:
>     title           : c:\avtest\logo_hq_124.rpl
>     copyright       : Copyright (c) 1996 Eidos plc.  All rights reserved.
>     author          : ESCAPE 1.0
>   Duration: 00:00:12.04, start: 0.000000, bitrate: 705 kb/s
>     Stream #0:0: Video: escape124 ([124][0][0][0] / 0x007C), rgb555le,
> 320x240, 25 fps, 25 tbr, 25 tbn, 25 tbc
>     Stream #0:1: Audio: pcm_u8 (e[0][0][0] / 0x0065), 44100 Hz, stereo,
> u8, 705 kb/s
> [New Thread 0xb7df8b70 (LWP 2845)]
> [New Thread 0xb75f8b70 (LWP 2846)]
> [New Thread 0xb6df8b70 (LWP 2847)]
> [New Thread 0xb65f8b70 (LWP 2848)]
> [New Thread 0xb5df8b70 (LWP 2849)]
> [New Thread 0xb55f8b70 (LWP 2850)]
> [New Thread 0xb4df8b70 (LWP 2851)]
> [New Thread 0xb45f8b70 (LWP 2852)]
> [New Thread 0xb3df8b70 (LWP 2853)]
> Output #0, null, to 'pipe:':
>   Metadata:
>     title           : c:\avtest\logo_hq_124.rpl
>     copyright       : Copyright (c) 1996 Eidos plc.  All rights reserved.
>     author          : ESCAPE 1.0
>     encoder         : Lavf55.18.100
>     Stream #0:0: Video: rawvideo (RGB[15] / 0xF424752), rgb555le,
> 320x240, q=2-31, 200 kb/s, 90k tbn, 25 tbc
> Stream mapping:
>   Stream #0:0 -> #0:0 (escape124 -> rawvideo)
> Press [q] to stop, [?] for help
> [null @ 0x91254e0] Encoder did not produce proper pts, making some up.
>
> Program received signal SIGINT, Interrupt.
> escape124_decode_frame (avctx=0x91158c0, data=0x9127560,
> got_frame=0xbffff4e4,
>     avpkt=0xbffff288) at libavcodec/escape124.c:307
> 307                         if (mask & mask_matrix[i]) {
> (gdb) bt
> #0  escape124_decode_frame (avctx=0x91158c0, data=0x9127560,
>     got_frame=0xbffff4e4, avpkt=0xbffff288) at libavcodec/escape124.c:307
> #1  0x0867a58e in avcodec_decode_video2 (avctx=0x91158c0,
>     picture=picture at entry=0x9127560,
>     got_picture_ptr=got_picture_ptr at entry=0xbffff4e4,
>     avpkt=avpkt at entry=0xbffff730) at libavcodec/utils.c:1995
> #2  0x080b394d in decode_video (ist=ist at entry=0x9148ee0,
>     pkt=pkt at entry=0xbffff730, got_output=got_output at entry=0xbffff4e4)
>     at ffmpeg.c:1668
> #3  0x080b786a in output_packet (pkt=0xbffff6c8, ist=0x9148ee0)
>     at ffmpeg.c:1866
> #4  process_input (file_index=2) at ffmpeg.c:3089
> #5  0x080a3043 in transcode_step () at ffmpeg.c:3185
> #6  transcode () at ffmpeg.c:3237
> #7  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
> (gdb)
> }}}

New description:

 (I coundn't find any more crashes in decoders, however I found some
 deadlocks)

 {{{
 (gdb) r -threads 1 -i ./deadlock.rpl -an -f null -
 The program being debugged has been started already.
 Start it from the beginning? (y or n) y

 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -threads 1 -i
 ./deadlock.rpl -an -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [rpl @ 0x9114e40] Estimating duration from bitrate, this may be inaccurate
 Guessed Channel Layout for  Input Stream #0.1 : stereo
 Input #0, rpl, from './deadlock.rpl':
   Metadata:
     title           : c:\avtest\logo_hq_124.rpl
     copyright       : Copyright (c) 1996 Eidos plc.  All rights reserved.
     author          : ESCAPE 1.0
   Duration: 00:00:12.04, start: 0.000000, bitrate: 705 kb/s
     Stream #0:0: Video: escape124 ([124][0][0][0] / 0x007C), rgb555le,
 320x240, 25 fps, 25 tbr, 25 tbn, 25 tbc
     Stream #0:1: Audio: pcm_u8 (e[0][0][0] / 0x0065), 44100 Hz, stereo,
 u8, 705 kb/s
 [New Thread 0xb7df8b70 (LWP 2845)]
 [New Thread 0xb75f8b70 (LWP 2846)]
 [New Thread 0xb6df8b70 (LWP 2847)]
 [New Thread 0xb65f8b70 (LWP 2848)]
 [New Thread 0xb5df8b70 (LWP 2849)]
 [New Thread 0xb55f8b70 (LWP 2850)]
 [New Thread 0xb4df8b70 (LWP 2851)]
 [New Thread 0xb45f8b70 (LWP 2852)]
 [New Thread 0xb3df8b70 (LWP 2853)]
 Output #0, null, to 'pipe:':
   Metadata:
     title           : c:\avtest\logo_hq_124.rpl
     copyright       : Copyright (c) 1996 Eidos plc.  All rights reserved.
     author          : ESCAPE 1.0
     encoder         : Lavf55.18.100
     Stream #0:0: Video: rawvideo (RGB[15] / 0xF424752), rgb555le, 320x240,
 q=2-31, 200 kb/s, 90k tbn, 25 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (escape124 -> rawvideo)
 Press [q] to stop, [?] for help
 [null @ 0x91254e0] Encoder did not produce proper pts, making some up.

 Program received signal SIGINT, Interrupt.
 escape124_decode_frame (avctx=0x91158c0, data=0x9127560,
 got_frame=0xbffff4e4,
     avpkt=0xbffff288) at libavcodec/escape124.c:307
 307                         if (mask & mask_matrix[i]) {
 (gdb) bt
 #0  escape124_decode_frame (avctx=0x91158c0, data=0x9127560,
     got_frame=0xbffff4e4, avpkt=0xbffff288) at libavcodec/escape124.c:307
 #1  0x0867a58e in avcodec_decode_video2 (avctx=0x91158c0,
     picture=picture at entry=0x9127560,
     got_picture_ptr=got_picture_ptr at entry=0xbffff4e4,
     avpkt=avpkt at entry=0xbffff730) at libavcodec/utils.c:1995
 #2  0x080b394d in decode_video (ist=ist at entry=0x9148ee0,
     pkt=pkt at entry=0xbffff730, got_output=got_output at entry=0xbffff4e4)
     at ffmpeg.c:1668
 #3  0x080b786a in output_packet (pkt=0xbffff6c8, ist=0x9148ee0)
     at ffmpeg.c:1866
 #4  process_input (file_index=2) at ffmpeg.c:3089
 #5  0x080a3043 in transcode_step () at ffmpeg.c:3185
 #6  transcode () at ffmpeg.c:3237
 #7  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb)
 }}}

--

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2984#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 18:44:21 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 16:44:21 -0000
Subject: [FFmpeg-trac] #2985(undetermined:new): sgirle: deadlock with fuzzed
 file
Message-ID: <038.47b11a56e4929e866da59537e3afa9b8@avcodec.org>

#2985: sgirle: deadlock with fuzzed file
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://www1.datafilehost.com/d/1999b8fa

 {{{
 (gdb) r -threads 1 -i ./deadlock.movie -an -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -threads 1 -i
 ./deadlock.movie -an -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mv, from './deadlock.movie':
   Metadata:
     Q_TEMPORAL      : 0.500000
     Q_SPATIAL       : 0.500000
   Duration: 00:00:07.75, start: 0.000000, bitrate: 3650 kb/s
     Stream #0:0: Audio: pcm_s16be, 44100 Hz, stereo, s16, 1411 kb/s
     Stream #0:1: Video: sgirle, bgr8, 500x375, SAR 1:1 DAR 4:3, 4 fps, 4
 tbr, 4 tbn, 4 tbc
 [New Thread 0xb7df8b70 (LWP 12138)]
 [New Thread 0xb75f8b70 (LWP 12139)]
 [New Thread 0xb6df8b70 (LWP 12140)]
 [New Thread 0xb65f8b70 (LWP 12141)]
 [New Thread 0xb5df8b70 (LWP 12142)]
 [New Thread 0xb55f8b70 (LWP 12143)]
 [New Thread 0xb4df8b70 (LWP 12144)]
 [New Thread 0xb45f8b70 (LWP 12145)]
 [New Thread 0xb3df8b70 (LWP 12146)]
 Output #0, null, to 'pipe:':
   Metadata:
     Q_TEMPORAL      : 0.500000
     Q_SPATIAL       : 0.500000
     encoder         : Lavf55.18.100
     Stream #0:0: Video: rawvideo (BGR[8] / 0x8524742), bgr8, 500x375 [SAR
 1:1 DAR 4:3], q=2-31, 200 kb/s, 90k tbn, 4 tbc
 Stream mapping:
   Stream #0:1 -> #0:0 (sgirle -> rawvideo)
 Press [q] to stop, [?] for help
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [null @ 0x9138540] Encoder did not produce proper pts, making some up.
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 192 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 [sgirle @ 0x9115d00] opcode 0 is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [sgirle @ 0x9115d00] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome

 Program received signal SIGINT, Interrupt.
 0x08617a85 in decode_sgirle8 (linesize=544, height=375, width=500,
     src_size=<optimized out>, src=0x92cb2bb "", dst=0xb35c2020 "",
     avctx=0x9115d00) at libavcodec/sgirledec.c:93
 93                      int length = FFMIN3(v, width - x, src_end - src);
 (gdb) bt
 #0  0x08617a85 in decode_sgirle8 (linesize=544, height=375, width=500,
     src_size=<optimized out>, src=0x92cb2bb "", dst=0xb35c2020 "",
     avctx=0x9115d00) at libavcodec/sgirledec.c:93
 #1  sgirle_decode_frame (avctx=0x9115d00, data=0x913a800,
     got_frame=0xbffff4e4, avpkt=0xbffff288) at libavcodec/sgirledec.c:119
 #2  0x0867a58e in avcodec_decode_video2 (avctx=0x9115d00,
     picture=picture at entry=0x913a800,
     got_picture_ptr=got_picture_ptr at entry=0xbffff4e4,
     avpkt=avpkt at entry=0xbffff730) at libavcodec/utils.c:1995
 #3  0x080b394d in decode_video (ist=ist at entry=0x91189e0,
     pkt=pkt at entry=0xbffff730, got_output=got_output at entry=0xbffff4e4)
     at ffmpeg.c:1668
 #4  0x080b786a in output_packet (pkt=0xbffff6c8, ist=0x91189e0)
     at ffmpeg.c:1866
 #5  process_input (file_index=2) at ffmpeg.c:3089
 #6  0x080a3043 in transcode_step () at ffmpeg.c:3185
 #7  transcode () at ffmpeg.c:3237
 #8  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2985>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 18:45:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 16:45:32 -0000
Subject: [FFmpeg-trac] #2986(undetermined:new): truehd: deadlock with fuzzed
 file
Message-ID: <038.154fe0b3b134bff275c7a8de394c2f84@avcodec.org>

#2986: truehd: deadlock with fuzzed file
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://www1.datafilehost.com/d/f3459749

 {{{
 (gdb) r -threads 1 -i ./deadlock.ts -f null -
 The program being debugged has been started already.
 Start it from the beginning? (y or n) y

 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -threads 1 -i
 ./deadlock.ts -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mpegts @ 0x9114e40] PES packet size mismatch
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 4 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 1592 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 9 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 8 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 8 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 8 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54055350,
 dts=542953491, size=12
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 2 times
 [mpegts @ 0x9114e40] probed stream 9 failed
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 10 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 3 times
 [mpegts @ 0x9114e40] probed stream 12 failed
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 8 times
 [mpegts @ 0x9114e40] probed stream 14 failed
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
     Last message repeated 1 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [truehd @ 0x9118bc0] major sync info header checksum error
     Last message repeated 1 times
 [mpegts @ 0x9114e40] DTS discontinuity in stream 1: packet 45 with DTS
 54135360, packet 46 with DTS 322573696
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54154050,
 dts=542943253, size=84
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] DTS discontinuity in stream 1: packet 53 with DTS
 54161280, packet 54 with DTS 2201647808
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54174750,
 dts=542951445, size=82
 [truehd @ 0x9118bc0] major sync info header checksum error
     Last message repeated 2 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54220500,
 dts=542959675, size=192
 [truehd @ 0x9118bc0] major sync info header checksum error
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54232650,
 dts=542941231, size=188
 [mpegts @ 0x9114e40] DTS discontinuity in stream 0: packet 106 with DTS
 54241050, packet 107 with DTS 591112112
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mp2 @ 0x91f92c0] Header missing
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mp2 @ 0x9215560] Header missing
 [truehd @ 0x9118bc0] major sync info header checksum error
     Last message repeated 1 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mp2 @ 0x9200940] Header missing
 [truehd @ 0x9118bc0] major sync info header checksum error
     Last message repeated 1 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54323775,
 dts=542933039, size=182
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54065306,
 dts=542937134, size=184
 [truehd @ 0x9118bc0] major sync info header checksum error
     Last message repeated 2 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54364875,
 dts=542947377, size=186
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54374475,
 dts=542963759, size=182
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54377400,
 dts=542943277, size=194
 [mp2 @ 0x91f92c0] Header missing
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54387225,
 dts=542953516, size=178
 [mp3 @ 0x91c4b80] Header missing
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54406571,
 dts=542937133, size=178
 [aac @ 0x91641e0] get_buffer() failed
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54431025,
 dts=542945327, size=188
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] DTS discontinuity in stream 14: packet 9 with DTS
 54421875, packet 10 with DTS 1128164749
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54453900,
 dts=542949420, size=180
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54458925,
 dts=542939179, size=44
 [mpegts @ 0x9114e40] DTS discontinuity in stream 0: packet 128 with DTS
 54470925, packet 129 with DTS 4349438296
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mp2 @ 0x9163200] Header missing
 [truehd @ 0x9118bc0] major sync info header checksum error
     Last message repeated 1 times
 [mp2 @ 0x91ecac0] Header missing
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
     Last message repeated 2 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54522075,
 dts=542937131, size=178
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] decoding for stream 2 failed
 [mpegts @ 0x9114e40] decoding for stream 3 failed
 [mpegts @ 0x9114e40] decoding for stream 5 failed
 [mpegts @ 0x9114e40] decoding for stream 6 failed
 [mpegts @ 0x9114e40] decoding for stream 7 failed
 [mpegts @ 0x9114e40] decoding for stream 8 failed
 [mpegts @ 0x9114e40] decoding for stream 11 failed
 [NULL @ 0x91728c0] start time is not set in estimate_timings_from_pts
 [NULL @ 0x920a940] start time is not set in estimate_timings_from_pts
 [NULL @ 0x9227d40] start time is not set in estimate_timings_from_pts
 [NULL @ 0xaae28a0] start time is not set in estimate_timings_from_pts
 [NULL @ 0xbee13c0] start time is not set in estimate_timings_from_pts
 [NULL @ 0xc3dd960] start time is not set in estimate_timings_from_pts
 [NULL @ 0xc752a20] start time is not set in estimate_timings_from_pts
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 58 times
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 2 (Audio:
 mp2, 0 channels, s16p): unspecified frame size
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 3 (Audio:
 aac, 0 channels, fltp, 304 kb/s): unspecified sample rate
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 4 (Audio:
 mp3, 0 channels): unspecified frame size
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 5 (Audio:
 mp3, 0 channels, s16p): unspecified frame size
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 6 (Audio:
 mp2, 0 channels, s16p): unspecified frame size
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 7 (Audio:
 mp1, 0 channels, s16p): unspecified frame size
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 8 (Audio:
 mp2, 0 channels, s16p): unspecified frame size
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 9
 (Unknown: none): unknown codec
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 10 (Audio:
 mp3, 0 channels): unspecified frame size
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 11 (Audio:
 mp2, 0 channels, s16p): unspecified frame size
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 12
 (Unknown: none): unknown codec
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 13 (Audio:
 mp3, 0 channels): unspecified frame size
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 14
 (Unknown: none): unknown codec
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 15
 (Unknown: none): unknown codec
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 16
 (Unknown: none): unknown codec
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 17
 (Unknown: none): unknown codec
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0x9114e40] Could not find codec parameters for stream 18
 (Unknown: none): unknown codec
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 Input #0, mpegts, from './deadlock.ts':
   Duration: 00:03:32.93, start: 600.000000, bitrate: 2707 kb/s
   Program 1
     Stream #0:0[0x1100](eng): Audio: truehd (AC-3 / 0x332D4341), 48000 Hz,
 5.1(side), s32
     Stream #0:1[0x1100]: Audio: ac3 (AC-3 / 0x332D4341), 48000 Hz,
 5.1(side), fltp, 640 kb/s
   No Program
     Stream #0:2[0x1110]: Audio: mp2, 0 channels, s16p
     Stream #0:3[0x1102]: Audio: aac, 0 channels, fltp, 304 kb/s
     Stream #0:4[0x1120]: Audio: mp3, 0 channels
     Stream #0:5[0x1140]: Audio: mp3, 0 channels, s16p
     Stream #0:6[0x1500]: Audio: mp2, 0 channels, s16p
     Stream #0:7[0x1900]: Audio: mp1, 0 channels, s16p
     Stream #0:8[0x1180]: Audio: mp2, 0 channels, s16p
     Stream #0:9[0x1104]: Unknown: none
     Stream #0:10[0x1108]: Audio: mp3, 0 channels
     Stream #0:11[0x1101]: Audio: mp2, 0 channels, s16p
     Stream #0:12[0x1112]: Unknown: none
     Stream #0:13[0x1000]: Audio: mp3, 0 channels
     Stream #0:14[0x1300]: Unknown: none
     Stream #0:15[0x1501]: Unknown: none
     Stream #0:16[0x1320]: Unknown: none
     Stream #0:17[0x1130]: Unknown: none
     Stream #0:18[0x1940]: Unknown: none
 [New Thread 0xb7df8b70 (LWP 5251)]
 [New Thread 0xb75f8b70 (LWP 5252)]
 [New Thread 0xb6df8b70 (LWP 5253)]
 [New Thread 0xb65f8b70 (LWP 5254)]
 [New Thread 0xb5df8b70 (LWP 5255)]
 [New Thread 0xb55f8b70 (LWP 5256)]
 [New Thread 0xb4df8b70 (LWP 5257)]
 [New Thread 0xb45f8b70 (LWP 5258)]
 [New Thread 0xb3df8b70 (LWP 5259)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.18.100
     Stream #0:0(eng): Audio: pcm_s16le, 48000 Hz, 5.1(side), s16, 4608
 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (truehd -> pcm_s16le)
 Press [q] to stop, [?] for help
 [truehd @ 0x9118bc0] Substream 1 parity check failed.
 [truehd @ 0x9118bc0] Substream 1 checksum failed.
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
 [truehd @ 0x9118bc0] too many audio samples in frame
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 3 times
 [truehd @ 0x9118bc0] Parity check failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Stream parameters not seen; skipping frame.
     Last message repeated 1 times
 [mpegts @ 0x9114e40] PES packet size mismatch
 [truehd @ 0x9118bc0] Stream parameters not seen; skipping frame.
     Last message repeated 5 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 5 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [truehd @ 0x9118bc0] Parity check failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 7 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 8 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 9 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 6 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54055350,
 dts=542953491, size=12
 [mpegts @ 0x9114e40] PES packet size mismatch
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 5 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 16 times
 [truehd @ 0x9118bc0] restart header checksum error
 [truehd @ 0x9118bc0] IIR filter order 10 is greater than maximum 4.
 [truehd @ 0x9118bc0] Lossless check failed - expected 9c, calculated 94.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [truehd @ 0x9118bc0] Invalid nonrestart_substr.
 Error while decoding stream #0:0: Invalid data found when processing input
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 1 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 4 times
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] Lossless check failed - expected 7c, calculated 09.
 [truehd @ 0x9118bc0] restart header checksum error
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] too many audio samples in frame
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 4 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 4 times
 [truehd @ 0x9118bc0] Parity check failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Stream parameters not seen; skipping frame.
     Last message repeated 1 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 7 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 3 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 15 times
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] Lossless check failed - expected ef, calculated 00.
 [truehd @ 0x9118bc0] substream 1 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 3 times
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] substream 1 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54154050,
 dts=542943253, size=84
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 1 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [mpegts @ 0x9114e40] PES packet size mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Invalid blocksize.
 [truehd @ 0x9118bc0] Substream 1 parity check failed.
 [truehd @ 0x9118bc0] Substream 1 checksum failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] restart header sync incorrect (got 0x1965)
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 4 times
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] too many audio samples in frame
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 2 times
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] No restart header present in substream 1.
 [truehd @ 0x9118bc0] No samples to output.
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [truehd @ 0x9118bc0] No restart header present in substream 1.
 [truehd @ 0x9118bc0] No samples to output.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Invalid blocksize.
 [truehd @ 0x9118bc0] No restart header present in substream 1.
 [truehd @ 0x9118bc0] No samples to output.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] restart header sync incorrect (got 0x1b5c)
 [truehd @ 0x9118bc0] No restart header present in substream 1.
 [truehd @ 0x9118bc0] No samples to output.
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [truehd @ 0x9118bc0] restart header sync incorrect (got 0x0add)
 [truehd @ 0x9118bc0] No restart header present in substream 1.
 [truehd @ 0x9118bc0] No samples to output.
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 6 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 1 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54174750,
 dts=542951445, size=82
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 6 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 6 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 12 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 27 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54220500,
 dts=542959675, size=192
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 17 times
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] No restart header present in substream 1.
 [truehd @ 0x9118bc0] No samples to output.
 Error while decoding stream #0:0: Invalid data found when processing input
     Last message repeated 1 times
 [truehd @ 0x9118bc0] too many audio samples in frame
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] too many audio samples in frame
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 1 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54232650,
 dts=542941231, size=188
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 6 times
 [truehd @ 0x9118bc0] FIR filter coeff_bits must be between 1 and 16.
 [truehd @ 0x9118bc0] Lossless check failed - expected b2, calculated 0f.
 [truehd @ 0x9118bc0] too many audio samples in frame
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 30 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 15 times
 [truehd @ 0x9118bc0] restart header sync incorrect (got 0x18fd)
 [truehd @ 0x9118bc0] No restart header present in substream 0.
 [truehd @ 0x9118bc0] Lossless check failed - expected cd, calculated 00.
 [truehd @ 0x9118bc0] Substream 1 parity check failed.
 [truehd @ 0x9118bc0] Substream 1 checksum failed.
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 13 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 5 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 10 times
 [truehd @ 0x9118bc0] too many audio samples in frame
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 16 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 12 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 14 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54323775,
 dts=542933039, size=182
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 5 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54065306,
 dts=542937134, size=184
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 19 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 19 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 15 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 18 times
 [truehd @ 0x9118bc0] restart header sync incorrect (got 0x18fd)
 [truehd @ 0x9118bc0] No restart header present in substream 0.
 [truehd @ 0x9118bc0] Lossless check failed - expected f9, calculated 2c.
 [truehd @ 0x9118bc0] Substream 1 parity check failed.
 [truehd @ 0x9118bc0] Substream 1 checksum failed.
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54364875,
 dts=542947377, size=186
 [truehd @ 0x9118bc0] No restart header present in substream 0.
 [truehd @ 0x9118bc0] Substream 1 parity check failed.
 [truehd @ 0x9118bc0] Substream 1 checksum failed.
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 20 times
 [truehd @ 0x9118bc0] Invalid blocksize.
 [truehd @ 0x9118bc0] Lossless check failed - expected 5c, calculated 71.
 [truehd @ 0x9118bc0] restart header checksum error
 [truehd @ 0x9118bc0] Substream 1 parity check failed.
 [truehd @ 0x9118bc0] Substream 1 checksum failed.
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54374475,
 dts=542963759, size=182
 [truehd @ 0x9118bc0] IIR filter order 9 is greater than maximum 4.
 [truehd @ 0x9118bc0] Substream 1 parity check failed.
 [truehd @ 0x9118bc0] Substream 1 checksum failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [mpegts @ 0x9114e40] PES packet size mismatch
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 2 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54377400,
 dts=542943277, size=194
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 7 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 7 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54387225,
 dts=542953516, size=178
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 29 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54406571,
 dts=542937133, size=178
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 45 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54431025,
 dts=542945327, size=188
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 15 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 11 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 3 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54453900,
 dts=542949420, size=180
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 5 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54458925,
 dts=542939179, size=44
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 13 times
 [truehd @ 0x9118bc0] Parity check failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Stream parameters not seen; skipping frame.
     Last message repeated 6 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 10 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 17 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 8 times
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] Lossless check failed - expected 3d, calculated ff.
 [truehd @ 0x9118bc0] restart header checksum error
 [truehd @ 0x9118bc0] Substream 1 parity check failed.
 [truehd @ 0x9118bc0] Substream 1 checksum failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] Substream 1 parity check failed.
 [truehd @ 0x9118bc0] Substream 1 checksum failed.
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] Substream 1 parity check failed.
 [truehd @ 0x9118bc0] Substream 1 checksum failed.
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] Substream 1 parity check failed.
 [truehd @ 0x9118bc0] Substream 1 checksum failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
 [truehd @ 0x9118bc0] too many audio samples in frame
 Error while decoding stream #0:0: Invalid data found when processing input
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 5 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 10 times
 [truehd @ 0x9118bc0] FIR filter has state data specified.
 [truehd @ 0x9118bc0] Lossless check failed - expected db, calculated 51.
 [truehd @ 0x9118bc0] FIR filter has state data specified.
 [mpegts @ 0x9114e40] PES packet size mismatch
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [mpegts @ 0x9114e40] PES packet size mismatch
 [truehd @ 0x9118bc0] substream 0 length mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 3 times
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 11 times
 [truehd @ 0x9118bc0] Invalid nonrestart_substr.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54522075,
 dts=542937131, size=178
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 6 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 31 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54543525,
 dts=542939177, size=176
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 1 times
 [mpegts @ 0x9114e40] Invalid timestamps stream=0, pts=54543900,
 dts=542939177, size=167
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 4 times
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] Lossless check failed - expected 86, calculated e6.
 [truehd @ 0x9118bc0] restart header checksum error
 [truehd @ 0x9118bc0] IIR filter order 7 is greater than maximum 4.
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 Error while decoding stream #0:0: Invalid data found when processing input
 [mpegts @ 0x9114e40] PES packet size mismatch
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] mlpparse: Parity check failed.
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 7 times
 [truehd @ 0x9118bc0] major sync info header checksum error
 [mpegts @ 0x9114e40] PES packet size mismatch
     Last message repeated 15 times
 [...]
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] No restart header present in substream 1.
 [truehd @ 0x9118bc0] No samples to output.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] No restart header present in substream 1.
 [truehd @ 0x9118bc0] No samples to output.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] No restart header present in substream 1.
 [truehd @ 0x9118bc0] No samples to output.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] No restart header present in substream 1.
 [truehd @ 0x9118bc0] No samples to output.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] No restart header present in substream 1.
 [truehd @ 0x9118bc0] No samples to output.
 Error while decoding stream #0:0: Invalid data found when processing input
 [truehd @ 0x9118bc0] Substream 0 parity check failed.
 [truehd @ 0x9118bc0] Substream 0 checksum failed.
 [truehd @ 0x9118bc0] No restart header present in substream 1.
 [truehd @ 0x9118bc0] No samples to output.
 Error while decoding stream #0:0: Invalid data found when processing input

 Program received signal SIGINT, Interrupt.
 0x080b5640 in decode_audio (ist=ist at entry=0xc200060,
 pkt=pkt at entry=0xbffff730,
     got_output=got_output at entry=0xbffff4e4) at ffmpeg.c:1527
 1527        update_benchmark("decode_audio %d.%d", ist->file_index,
 ist->st->index);
 (gdb) bt
 #0  0x080b5640 in decode_audio (ist=ist at entry=0xc200060,
     pkt=pkt at entry=0xbffff730, got_output=got_output at entry=0xbffff4e4)
     at ffmpeg.c:1527
 #1  0x080b8a40 in output_packet (pkt=0xbffff6c8, ist=0xc200060)
     at ffmpeg.c:1863
 #2  process_input (file_index=19) at ffmpeg.c:3089
 #3  0x080a3043 in transcode_step () at ffmpeg.c:3185
 #4  transcode () at ffmpeg.c:3237
 #5  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2986>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 18:48:18 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 16:48:18 -0000
Subject: [FFmpeg-trac] #2987(undetermined:new): wmapro: deadlock with fuzzed
 file
Message-ID: <038.275955a3f5fa097fc86eeb60816672b9@avcodec.org>

#2987: wmapro: deadlock with fuzzed file
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 {{{
 (gdb) r -threads 1 -i ./wmapro_dead.wma -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -threads 1 -i
 ./wmapro_dead.wma -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, asf, from './wmapro_dead.wma':
   Metadata:
     WMFSDKNeeded    : 0.0.0.0000
     WMFSDKVersion   : 11.0.5721.5275
     IsVBR           : 0
   Duration: 00:00:30.06, start: 0.000000, bitrate: 168 kb/s
     Stream #0:0(pol): Audio: wmapro (b[1][0][0] / 0x0162), 44100 Hz,
 stereo, fltp, 160 kb/s
 [New Thread 0xb7dd1b70 (LWP 28174)]
 [New Thread 0xb75d1b70 (LWP 28175)]
 [New Thread 0xb6dd1b70 (LWP 28176)]
 [New Thread 0xb65d1b70 (LWP 28177)]
 [New Thread 0xb5dd1b70 (LWP 28178)]
 [New Thread 0xb55d1b70 (LWP 28180)]
 [New Thread 0xb4dd1b70 (LWP 28181)]
 [New Thread 0xb45d1b70 (LWP 28182)]
 [New Thread 0xb3dd1b70 (LWP 28183)]
 Output #0, null, to 'pipe:':
   Metadata:
     WMFSDKNeeded    : 0.0.0.0000
     WMFSDKVersion   : 11.0.5721.5275
     IsVBR           : 0
     encoder         : Lavf55.18.100
     Stream #0:0(pol): Audio: pcm_s16le, 44100 Hz, stereo, s16, 1411 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (wmapro -> pcm_s16le)
 Press [q] to stop, [?] for help
 Multiple frames in a packet from stream 0
 [wmapro @ 0x91159c0] Reserved bit is not implemented. Update your FFmpeg
 version to the newest one from Git. If the problem still occurs, it means
 that your file has a feature which has not been implemented.
 [wmapro @ 0x91159c0] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:0: Invalid data found when processing input
 [wmapro @ 0x91159c0] frame[14] would have to skip 1000 bits
 [wmapro @ 0x91159c0] frame[24] would have to skip 4346 bits
 Error while decoding stream #0:0: Invalid data found when processing input
 [wmapro @ 0x91159c0] overflow in spectral RLE, ignoring
 [wmapro @ 0x91159c0] frame[25] would have to skip -9 bits
 Error while decoding stream #0:0: Invalid data found when processing input

 Program received signal SIGINT, Interrupt.
 decode_tilehdr (s=0x91442e0) at libavcodec/wmaprodec.c:589
 589                 if (contains_subframe[c]) {
 (gdb) bt
 #0  decode_tilehdr (s=0x91442e0) at libavcodec/wmaprodec.c:589
 #1  decode_frame (s=s at entry=0x91442e0, frame=frame at entry=0x91049e0,
     got_frame_ptr=got_frame_ptr at entry=0xbffff4e4)
     at libavcodec/wmaprodec.c:1333
 #2  0x08726279 in decode_packet (avctx=0x91159c0, data=0x91049e0,
     got_frame_ptr=0xbffff4e4, avpkt=0xbffff1f8) at
 libavcodec/wmaprodec.c:1607
 #3  0x0867aa85 in avcodec_decode_audio4 (avctx=avctx at entry=0x91159c0,
     frame=frame at entry=0x91049e0,
 got_frame_ptr=got_frame_ptr at entry=0xbffff4e4,
     avpkt=avpkt at entry=0xbffff730) at libavcodec/utils.c:2137
 #4  0x080b562a in decode_audio (ist=ist at entry=0x911d320,
     pkt=pkt at entry=0xbffff730, got_output=got_output at entry=0xbffff4e4)
     at ffmpeg.c:1526
 #5  0x080b8a40 in output_packet (pkt=0xbffff6c8, ist=0x911d320)
     at ffmpeg.c:1863
 #6  process_input (file_index=1) at ffmpeg.c:3089
 #7  0x080a3043 in transcode_step () at ffmpeg.c:3185
 #8  transcode () at ffmpeg.c:3237
 #9  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2987>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 18:49:54 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 16:49:54 -0000
Subject: [FFmpeg-trac] #2988(undetermined:new): lagarith: deadlock with
 fuzzed file
Message-ID: <038.97ecee800e29969d8b5e699d3ecc412e@avcodec.org>

#2988: lagarith: deadlock with fuzzed file
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://www1.datafilehost.com/d/3bdcfcb5

 {{{
 (gdb) r -threads 1 -i ./lag_dead.avi -an -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -threads 1 -i
 ./lag_dead.avi -an -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, avi, from './lag_dead.avi':
   Duration: 00:00:12.64, start: 0.000000, bitrate: 11792 kb/s
     Stream #0:0: Video: lagarith (LAGS / 0x5347414C), rgb24, 320x240,
 23.97 tbr, 23.97 tbn, 23.97 tbc
     Stream #0:1: Audio: mp3 (U[0][0][0] / 0x0055), 44100 Hz, stereo, s16p,
 128 kb/s
 [New Thread 0xb7df8b70 (LWP 29348)]
 [New Thread 0xb75f8b70 (LWP 29358)]
 [New Thread 0xb6df8b70 (LWP 29359)]
 [New Thread 0xb65f8b70 (LWP 29360)]
 [New Thread 0xb5df8b70 (LWP 29361)]
 [New Thread 0xb55f8b70 (LWP 29362)]
 [New Thread 0xb4df8b70 (LWP 29363)]
 [New Thread 0xb45f8b70 (LWP 29364)]
 [New Thread 0xb3df8b70 (LWP 29365)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.18.100
     Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 320x240,
 q=2-31, 200 kb/s, 90k tbn, 23.97 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (lagarith -> rawvideo)
 Press [q] to stop, [?] for help
 [null @ 0x912d660] Encoder did not produce proper pts, making some up.
 [lagarith @ 0x9115700] Output more bytes than length (37782 of 19423)
 [lagarith @ 0x9115700] Output more bytes than length (35329 of 35132)
 [lagarith @ 0x9115700] Output more bytes than length (64854 of 45184)
 [lagarith @ 0x9115700] Output more bytes than length (60043 of 38887)
 [lagarith @ 0x9115700] Output more bytes than length (66100 of 62328)
 [lagarith @ 0x9115700] Output more bytes than length (69529 of 43506)
 [lagarith @ 0x9115700] Output more bytes than length (67289 of 49185)
 [lagarith @ 0x9115700] Output more bytes than length (69864 of 66900)
 [lagarith @ 0x9115700] Output more bytes than length (73316 of 50540)
 [lagarith @ 0x9115700] Output more bytes than length (73777 of 71250)
 [lagarith @ 0x9115700] Output more bytes than length (67653 of 55390)
 [lagarith @ 0x9115700] Output more bytes than length (61829 of 56407)
 [lagarith @ 0x9115700] Output more bytes than length (62750 of 58310)
 [lagarith @ 0x9115700] Output more bytes than length (74119 of 73845)
 [lagarith @ 0x9115700] Output more bytes than length (73044 of 58280)
 [lagarith @ 0x9115700] Output more bytes than length (66727 of 58069)
 [lagarith @ 0x9115700] Output more bytes than length (74159 of 73981)
 [lagarith @ 0x9115700] Output more bytes than length (58709 of 58435)
 [lagarith @ 0x9115700] Output more bytes than length (73238 of 57110)
 [lagarith @ 0x9115700] Output more bytes than length (63193 of 58304)
 [lagarith @ 0x9115700] Output more bytes than length (64502 of 58819)
 [lagarith @ 0x9115700] Output more bytes than length (64549 of 61039)
 [lagarith @ 0x9115700] Output more bytes than length (71492 of 60032)
 [lagarith @ 0x9115700] Output more bytes than length (74125 of 60959)
 [lagarith @ 0x9115700] Output more bytes than length (75277 of 62888)
 [lagarith @ 0x9115700] Output more bytes than length (72403 of 63728)
 [lagarith @ 0x9115700] Output more bytes than length (73299 of 63077)
 [lagarith @ 0x9115700] Output more bytes than length (72965 of 64939)
 [lagarith @ 0x9115700] Output more bytes than length (70962 of 64303)
 [lagarith @ 0x9115700] Output more bytes than length (67532 of 63599)
 [lagarith @ 0x9115700] Output more bytes than length (66794 of 65814)
 [lagarith @ 0x9115700] Output more bytes than length (66145 of 63825)
 [lagarith @ 0x9115700] Output more bytes than length (68295 of 65973)
 [lagarith @ 0x9115700] Output more bytes than length (70459 of 65774)
 [lagarith @ 0x9115700] Output more bytes than length (71333 of 63724)
 [lagarith @ 0x9115700] Output more bytes than length (74713 of 65084)
 [lagarith @ 0x9115700] Output more bytes than length (68773 of 64264)
 [lagarith @ 0x9115700] Output more bytes than length (74221 of 66178)
 [lagarith @ 0x9115700] Output more bytes than length (74631 of 64317)
 [lagarith @ 0x9115700] Output more bytes than length (66600 of 65695)
 [lagarith @ 0x9115700] Output more bytes than length (74335 of 64942)
 [lagarith @ 0x9115700] Output more bytes than length (69509 of 64829)
 [lagarith @ 0x9115700] Output more bytes than length (64790 of 64609)
 [lagarith @ 0x9115700] Output more bytes than length (66053 of 64991)
 [lagarith @ 0x9115700] Output more bytes than length (70132 of 64683)
 [lagarith @ 0x9115700] Output more bytes than length (69997 of 65854)
 [lagarith @ 0x9115700] Output more bytes than length (72845 of 66008)
 [lagarith @ 0x9115700] Output more bytes than length (70350 of 65553)
 [lagarith @ 0x9115700] Output more bytes than length (66931 of 65324)
 [lagarith @ 0x9115700] Output more bytes than length (69976 of 66483)
 [lagarith @ 0x9115700] Output more bytes than length (75089 of 65171)
 [lagarith @ 0x9115700] Output more bytes than length (69621 of 66588)
 [lagarith @ 0x9115700] Output more bytes than length (75441 of 65492)
 [lagarith @ 0x9115700] Output more bytes than length (70025 of 66617)
 [lagarith @ 0x9115700] Output more bytes than length (67376 of 65872)
 [lagarith @ 0x9115700] Output more bytes than length (73645 of 65392)
 [lagarith @ 0x9115700] Output more bytes than length (71592 of 66371)
 [lagarith @ 0x9115700] Output more bytes than length (74085 of 66426)
 [lagarith @ 0x9115700] Output more bytes than length (68993 of 65191)
 [lagarith @ 0x9115700] Output more bytes than length (73096 of 66387)
 [lagarith @ 0x9115700] Output more bytes than length (70503 of 65957)
 [lagarith @ 0x9115700] Output more bytes than length (74741 of 66068)
 [lagarith @ 0x9115700] Output more bytes than length (75228 of 65259)
 [lagarith @ 0x9115700] Output more bytes than length (72494 of 65564)
 [lagarith @ 0x9115700] Output more bytes than length (66241 of 64710)
 [lagarith @ 0x9115700] Output more bytes than length (67241 of 65784)
 [lagarith @ 0x9115700] Output more bytes than length (74050 of 64704)
 [lagarith @ 0x9115700] Output more bytes than length (65834 of 65478)
 [lagarith @ 0x9115700] Output more bytes than length (71417 of 65454)
 [lagarith @ 0x9115700] Output more bytes than length (68331 of 64615)
 [lagarith @ 0x9115700] Output more bytes than length (73994 of 65275)
 [lagarith @ 0x9115700] Output more bytes than length (73171 of 65315)
 [lagarith @ 0x9115700] Output more bytes than length (72063 of 64467)
 [lagarith @ 0x9115700] Output more bytes than length (74275 of 64731)
 [lagarith @ 0x9115700] Output more bytes than length (70500 of 65569)
 [lagarith @ 0x9115700] Output more bytes than length (66618 of 64894)
 [lagarith @ 0x9115700] Output more bytes than length (73763 of 65549)
 [lagarith @ 0x9115700] Output more bytes than length (74007 of 64323)
 [lagarith @ 0x9115700] Output more bytes than length (72930 of 65614)
 [lagarith @ 0x9115700] Output more bytes than length (69258 of 65641)
 [lagarith @ 0x9115700] Output more bytes than length (68916 of 64782)
 [lagarith @ 0x9115700] Output more bytes than length (71015 of 65791)
 [lagarith @ 0x9115700] Output more bytes than length (72934 of 64746)
 [lagarith @ 0x9115700] Output more bytes than length (72546 of 65905)
 [lagarith @ 0x9115700] Output more bytes than length (72939 of 65428)
 [lagarith @ 0x9115700] Output more bytes than length (71051 of 66387)
 [lagarith @ 0x9115700] Output more bytes than length (73681 of 65007)
 [lagarith @ 0x9115700] Output more bytes than length (75417 of 66332)
 [lagarith @ 0x9115700] Output more bytes than length (75517 of 64995)
 [lagarith @ 0x9115700] Output more bytes than length (72486 of 65943)
 [lagarith @ 0x9115700] Output more bytes than length (72428 of 66055)
 [lagarith @ 0x9115700] Output more bytes than length (75534 of 64465)
 [lagarith @ 0x9115700] Output more bytes than length (70580 of 65738)
 [lagarith @ 0x9115700] Output more bytes than length (73918 of 66225)
 [lagarith @ 0x9115700] Output more bytes than length (65740 of 65604)
 [lagarith @ 0x9115700] Output more bytes than length (73689 of 66297)
 [lagarith @ 0x9115700] Output more bytes than length (74054 of 66938)
 [lagarith @ 0x9115700] Output more bytes than length (71784 of 64809)
 [lagarith @ 0x9115700] Output more bytes than length (73251 of 66246)
 [lagarith @ 0x9115700] Output more bytes than length (73138 of 64595)
 [lagarith @ 0x9115700] Output more bytes than length (66127 of 65566)
 [lagarith @ 0x9115700] Output more bytes than length (67241 of 64812)
 [lagarith @ 0x9115700] Output more bytes than length (69105 of 64817)
 [lagarith @ 0x9115700] Output more bytes than length (66978 of 65717)
 [lagarith @ 0x9115700] Output more bytes than length (74194 of 64689)
 [lagarith @ 0x9115700] Output more bytes than length (74244 of 65381)
 [lagarith @ 0x9115700] Output more bytes than length (73917 of 65278)
 [lagarith @ 0x9115700] Output more bytes than length (71668 of 64582)
 [lagarith @ 0x9115700] Output more bytes than length (69316 of 65286)
 [lagarith @ 0x9115700] Output more bytes than length (68573 of 65318)
 [lagarith @ 0x9115700] Output more bytes than length (74315 of 64460)
 [lagarith @ 0x9115700] Output more bytes than length (66470 of 64955)
 [lagarith @ 0x9115700] Output more bytes than length (74261 of 64851)
 [lagarith @ 0x9115700] Output more bytes than length (71509 of 65097)
 [lagarith @ 0x9115700] Output more bytes than length (70673 of 64879)
 [lagarith @ 0x9115700] Output more bytes than length (73180 of 64386)
 [lagarith @ 0x9115700] Output more bytes than length (69602 of 65721)
 [lagarith @ 0x9115700] Output more bytes than length (67477 of 64521)
 [lagarith @ 0x9115700] Output more bytes than length (72897 of 64304)
 [lagarith @ 0x9115700] Output more bytes than length (71095 of 65875)
 [lagarith @ 0x9115700] Output more bytes than length (68710 of 64254)
 [lagarith @ 0x9115700] Output more bytes than length (66489 of 65361)
 [lagarith @ 0x9115700] Output more bytes than length (71364 of 64119)
 [lagarith @ 0x9115700] Output more bytes than length (70291 of 65427)
 [lagarith @ 0x9115700] Output more bytes than length (71906 of 57929)
 [lagarith @ 0x9115700] Output more bytes than length (65744 of 59272)
 [lagarith @ 0x9115700] Output more bytes than length (66039 of 61104)
 [lagarith @ 0x9115700] Output more bytes than length (74532 of 74462)
 [lagarith @ 0x9115700] Output more bytes than length (75345 of 60535)
 [lagarith @ 0x9115700] Output more bytes than length (59386 of 58870)
 [lagarith @ 0x9115700] Output more bytes than length (61251 of 59578)
 [lagarith @ 0x9115700] Output more bytes than length (71944 of 61364)
 [lagarith @ 0x9115700] Output more bytes than length (75340 of 59308)
 [lagarith @ 0x9115700] Output more bytes than length (73979 of 59575)
 [lagarith @ 0x9115700] Output more bytes than length (70127 of 62329)
 [lagarith @ 0x9115700] Output more bytes than length (75427 of 75038)
 [lagarith @ 0x9115700] Output more bytes than length (71056 of 61949)
 [lagarith @ 0x9115700] Output more bytes than length (75241 of 61778)
 [lagarith @ 0x9115700] Output more bytes than length (71056 of 62142)
 [lagarith @ 0x9115700] Output more bytes than length (73525 of 61248)
 [lagarith @ 0x9115700] Output more bytes than length (66422 of 62589)
 [lagarith @ 0x9115700] Output more bytes than length (64569 of 61220)
 [lagarith @ 0x9115700] Output more bytes than length (70728 of 63406)
 [lagarith @ 0x9115700] Output more bytes than length (71570 of 63221)
 [lagarith @ 0x9115700] Output more bytes than length (74290 of 63976)
 [lagarith @ 0x9115700] Output more bytes than length (73919 of 64592)
 [lagarith @ 0x9115700] Output more bytes than length (69116 of 61974)
 [lagarith @ 0x9115700] Output more bytes than length (72021 of 64402)
 [lagarith @ 0x9115700] Output more bytes than length (70851 of 61922)
 [lagarith @ 0x9115700] Output more bytes than length (68670 of 64754)
 [lagarith @ 0x9115700] Output more bytes than length (72344 of 62780)
 [lagarith @ 0x9115700] Output more bytes than length (71735 of 63111)
 [lagarith @ 0x9115700] Output more bytes than length (70318 of 64538)
 [lagarith @ 0x9115700] Output more bytes than length (69371 of 63770)
 [lagarith @ 0x9115700] Output more bytes than length (75491 of 64543)
 [lagarith @ 0x9115700] Output more bytes than length (73004 of 63232)
 [lagarith @ 0x9115700] Output more bytes than length (74168 of 62999)
 [lagarith @ 0x9115700] Output more bytes than length (67456 of 64469)
 [lagarith @ 0x9115700] Output more bytes than length (67704 of 63256)
 [lagarith @ 0x9115700] Output more bytes than length (71081 of 63966)
 [lagarith @ 0x9115700] Output more bytes than length (66806 of 63884)
 [lagarith @ 0x9115700] Output more bytes than length (75327 of 62655)
 [lagarith @ 0x9115700] Output more bytes than length (75709 of 75130)
 [lagarith @ 0x9115700] Output more bytes than length (74622 of 63685)
 [lagarith @ 0x9115700] Output more bytes than length (69587 of 63246)
 [lagarith @ 0x9115700] Output more bytes than length (72260 of 63525)
 [lagarith @ 0x9115700] Output more bytes than length (67629 of 63357)
 [lagarith @ 0x9115700] Output more bytes than length (65796 of 61774)
 [lagarith @ 0x9115700] Output more bytes than length (75026 of 74712)
 [lagarith @ 0x9115700] Output more bytes than length (74368 of 63681)
 [lagarith @ 0x9115700] Output more bytes than length (74482 of 61850)
 [lagarith @ 0x9115700] Output more bytes than length (75292 of 74707)
 [lagarith @ 0x9115700] Output more bytes than length (70924 of 61343)
 [lagarith @ 0x9115700] Output more bytes than length (74595 of 74494)
 [lagarith @ 0x9115700] Output more bytes than length (71481 of 62650)
 [lagarith @ 0x9115700] Output more bytes than length (73109 of 61571)
 [lagarith @ 0x9115700] Output more bytes than length (74656 of 74401)
 [lagarith @ 0x9115700] Output more bytes than length (74019 of 73907)
 [lagarith @ 0x9115700] Output more bytes than length (69878 of 60831)
 [lagarith @ 0x9115700] Output more bytes than length (74053 of 73771)
 [lagarith @ 0x9115700] Output more bytes than length (72075 of 61845)
 [lagarith @ 0x9115700] Output more bytes than length (69149 of 59924)
 [lagarith @ 0x9115700] Output more bytes than length (73274 of 72955)
 [lagarith @ 0x9115700] Output more bytes than length (73540 of 73108)
 [lagarith @ 0x9115700] Output more bytes than length (69189 of 60058)
 [lagarith @ 0x9115700] Output more bytes than length (62613 of 59990)
 [lagarith @ 0x9115700] Output more bytes than length (69336 of 59860)
 [lagarith @ 0x9115700] Output more bytes than length (72459 of 69228)
 [lagarith @ 0x9115700] Output more bytes than length (70967 of 53216)
 [lagarith @ 0x9115700] Output more bytes than length (71639 of 70673)
 [lagarith @ 0x9115700] Output more bytes than length (55710 of 55026)
 [lagarith @ 0x9115700] Output more bytes than length (71727 of 70940)
 [lagarith @ 0x9115700] Output more bytes than length (71507 of 54513)
 [lagarith @ 0x9115700] Output more bytes than length (68472 of 55343)
 [lagarith @ 0x9115700] Output more bytes than length (73399 of 71993)
 [lagarith @ 0x9115700] Output more bytes than length (73190 of 72216)
 [lagarith @ 0x9115700] Output more bytes than length (72159 of 56754)
 [lagarith @ 0x9115700] Output more bytes than length (74032 of 72319)
 [lagarith @ 0x9115700] Output more bytes than length (70776 of 57259)
 [lagarith @ 0x9115700] Output more bytes than length (72547 of 56999)
 [lagarith @ 0x9115700] Output more bytes than length (73450 of 72571)
 [lagarith @ 0x9115700] Output more bytes than length (73217 of 58617)
 [lagarith @ 0x9115700] Output more bytes than length (73550 of 72383)
 [lagarith @ 0x9115700] Output more bytes than length (64145 of 58351)
 [lagarith @ 0x9115700] Output more bytes than length (73940 of 72788)
 [lagarith @ 0x9115700] Output more bytes than length (68244 of 58253)
 [lagarith @ 0x9115700] Output more bytes than length (68976 of 58250)
 [lagarith @ 0x9115700] Output more bytes than length (74733 of 72529)
 [lagarith @ 0x9115700] Output more bytes than length (74175 of 58931)
 [lagarith @ 0x9115700] Output more bytes than length (74450 of 72188)
 [lagarith @ 0x9115700] Output more bytes than length (60705 of 58672)
 [lagarith @ 0x9115700] Output more bytes than length (74868 of 57682)
 [lagarith @ 0x9115700] Output more bytes than length (71914 of 71814)
 [lagarith @ 0x9115700] Output more bytes than length (71106 of 57792)
 [lagarith @ 0x9115700] Output more bytes than length (71677 of 56302)
 [lagarith @ 0x9115700] Output more bytes than length (73897 of 71123)
 [lagarith @ 0x9115700] Output more bytes than length (58792 of 55886)
 [lagarith @ 0x9115700] Output more bytes than length (74346 of 55747)
 [lagarith @ 0x9115700] Output more bytes than length (73471 of 71148)
 [lagarith @ 0x9115700] Output more bytes than length (60387 of 56057)
 [lagarith @ 0x9115700] Output more bytes than length (65666 of 55900)
 [lagarith @ 0x9115700] Output more bytes than length (59917 of 55675)
 [lagarith @ 0x9115700] Output more bytes than length (73365 of 71207)
 [lagarith @ 0x9115700] Output more bytes than length (64637 of 55046)
 [lagarith @ 0x9115700] Output more bytes than length (62913 of 55415)
 [lagarith @ 0x9115700] Output more bytes than length (73338 of 71200)
 [lagarith @ 0x9115700] Output more bytes than length (57842 of 54596)
 [lagarith @ 0x9115700] Output more bytes than length (60431 of 55415)
 [lagarith @ 0x9115700] Output more bytes than length (67579 of 54886)
 [lagarith @ 0x9115700] Output more bytes than length (70310 of 55995)
 [lagarith @ 0x9115700] Output more bytes than length (73159 of 71135)
 [lagarith @ 0x9115700] Output more bytes than length (68617 of 56709)
 [lagarith @ 0x9115700] Output more bytes than length (72906 of 71170)
 [lagarith @ 0x9115700] Output more bytes than length (68652 of 55222)
 [lagarith @ 0x9115700] Output more bytes than length (73358 of 71749)
 [lagarith @ 0x9115700] Output more bytes than length (62221 of 56130)
 [lagarith @ 0x9115700] Output more bytes than length (70822 of 57076)
 [lagarith @ 0x9115700] Output more bytes than length (72945 of 71849)
 [lagarith @ 0x9115700] Output more bytes than length (66125 of 56033)
 [lagarith @ 0x9115700] Output more bytes than length (62663 of 57024)
 [lagarith @ 0x9115700] Output more bytes than length (73309 of 72052)
 [lagarith @ 0x9115700] Output more bytes than length (73552 of 72520)
 [lagarith @ 0x9115700] Output more bytes than length (69224 of 56082)
 [lagarith @ 0x9115700] Output more bytes than length (73821 of 73365)
 [lagarith @ 0x9115700] Output more bytes than length (66335 of 57921)
 [lagarith @ 0x9115700] Output more bytes than length (71947 of 57185)
 [lagarith @ 0x9115700] Output more bytes than length (69735 of 57890)
 [lagarith @ 0x9115700] Output more bytes than length (72133 of 57867)
 [lagarith @ 0x9115700] Output more bytes than length (65008 of 57995)
 [lagarith @ 0x9115700] Output more bytes than length (73770 of 73161)
 [lagarith @ 0x9115700] Output more bytes than length (61706 of 58001)
 [lagarith @ 0x9115700] Output more bytes than length (74221 of 72819)

 Program received signal SIGINT, Interrupt.
 lag_read_prob_header (gb=0xbfffec44, rac=0xbfffec58)
     at libavcodec/lagarith.c:194
 194                 if (rac->prob[i]) {
 (gdb) bt
 #0  lag_read_prob_header (gb=0xbfffec44, rac=0xbfffec58)
     at libavcodec/lagarith.c:194
 #1  lag_decode_arith_plane (l=l at entry=0x912eca0,
     dst=0x9191920 "\b\b\n\v\r\r\f\f\f\f\f\r\f\r", '\n' <repeats 18 times>,
 "\f\f\f\f\f\f\f\f\v\v\f\v\v\v", '\f' <repeats 16 times>, "\v\f\f\f\f\f",
 '\v' <repeats 24 times>,
 "\016\016\016\016\016\016\016\016\017\017\017\016\016\017\f\f\016\017",
 '\016' <repeats 18 times>,
 "\r\r\r\r\r\r\r\r\r\r\017\017\017\017\017\017\016\016\016\016\016\016\016\016\r\r\v\v\v\v\v\v",
 '\r' <repeats 15 times>, "\016\r\r\r\r\016", '\r' <repeats 14 times>,
 "\f\f\f\017\017"..., width=320,
     height=240, stride=-320,
     src=src at entry=0x91d4ee0 "\003\357", <incomplete sequence \341>,
     src_size=15455) at libavcodec/lagarith.c:437
 #2  0x0851e751 in lag_decode_frame (avctx=0x9115700, data=0x912fe80,
     got_frame=0xbffff4e4, avpkt=0xbffff288) at libavcodec/lagarith.c:616
 #3  0x0867a5de in avcodec_decode_video2 (avctx=0x9115700,
     picture=picture at entry=0x912fe80,
     got_picture_ptr=got_picture_ptr at entry=0xbffff4e4,
     avpkt=avpkt at entry=0xbffff730) at libavcodec/utils.c:1995
 #4  0x080b394d in decode_video (ist=ist at entry=0x91194a0,
     pkt=pkt at entry=0xbffff730, got_output=got_output at entry=0xbffff4e4)
     at ffmpeg.c:1668
 #5  0x080b786a in output_packet (pkt=0xbffff6c8, ist=0x91194a0)
     at ffmpeg.c:1866
 ---Type <return> to continue, or q <return> to quit---
 #6  process_input (file_index=2) at ffmpeg.c:3089
 #7  0x080a3043 in transcode_step () at ffmpeg.c:3185
 #8  transcode () at ffmpeg.c:3237
 #9  main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2988>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 19:33:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 17:33:25 -0000
Subject: [FFmpeg-trac] #2985(avcodec:closed): sgirle: deadlock with
 fuzzed file
In-Reply-To: <038.47b11a56e4929e866da59537e3afa9b8@avcodec.org>
References: <038.47b11a56e4929e866da59537e3afa9b8@avcodec.org>
Message-ID: <053.32fa9632fba1027bc286d27d6222de27@avcodec.org>

#2985: sgirle: deadlock with fuzzed file
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:  fixed
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by richardpl):

 * status:  new => closed
 * resolution:   => fixed
 * version:  unspecified => git-master
 * component:  undetermined => avcodec
 * reproduced:  0 => 1


Comment:

 Fixed in b00fb157bae79f9735910064585fd95b8c123003

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2985#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 22:43:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 20:43:32 -0000
Subject: [FFmpeg-trac] #2989(avformat:new): broken remuxing DVB subtitles
 from MPEG-TS to MPEG-TS
Message-ID: <035.f35af3dbcc2c7fdc895819c217774171@avcodec.org>

#2989: broken remuxing DVB subtitles from MPEG-TS to MPEG-TS
-------------------------------------+-------------------------------------
               Reporter:  ubitux     |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:  avformat
                Version:  git-       |               Keywords:
  master                             |  mpegts,dvb_subtitles
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 {{{
 [~/src/ffmpeg]? ./ffmpeg -v verbose -i ~/samples/stream.TS -c copy -map
 0:0 -map 0:5 -y test.ts
 ffmpeg version N-56570-gf8e8932 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 22 2013 20:54:45 with gcc 4.8.1 (GCC) 20130725 (prerelease)
   configuration: --enable-gpl --enable-version3 --enable-fontconfig
 --enable-libfreetype --enable-libmp3lame --enable-libvorbis --enable-
 libxvid --enable-libx264 --enable-libvpx --enable-libtheora --enable-
 x11grab --enable-libopenjpeg --enable-libass --enable-libmodplug --enable-
 libv4l2 --cc=colorgcc --samples=/home/ubitux/fate-samples
 --prefix=/tmp/ffinstall --disable-runtime-cpudetect --enable-libcelt
 --enable-libopencv --enable-frei0r --enable-libcaca --enable-libiec61883
 --enable-libopencore-amrwb --enable-libopencore-amrnb --enable-libopus
 --enable-libpulse --enable-libspeex --enable-libquvi --assert-level=2
 --enable-libzmq --enable-libschroedinger --cpu=native
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mpegts @ 0x2c65400] parser not found for codec dvb_teletext, packets or
 times may be invalid.
     Last message repeated 1 times
 [mpeg2video @ 0x2c7f5e0] Invalid frame dimensions 0x0.
     Last message repeated 10 times
 [mpegts @ 0x2c65400] max_analyze_duration 5000000 reached at 5000000
 microseconds
 [NULL @ 0x2c855c0] start time is not set in estimate_timings_from_pts
 [mpegts @ 0x2c65400] PES packet size mismatch
     Last message repeated 3 times
 Input #0, mpegts, from '/home/ubitux/samples/stream.TS':
   Duration: 00:01:44.00, start: 31021.622067, bitrate: 5535 kb/s
   Program 1537
     Metadata:
       service_name    : TF1
       service_provider: SMR6
     Stream #0:0[0x78]: Video: mpeg2video (Main) ([2][0][0][0] / 0x0002),
 yuv420p(tv), 720x576 [SAR 64:45 DAR 16:9], max. 15000 kb/s, 25 fps, 25
 tbr, 90k tbn, 50 tbc
     Stream #0:1[0x82](fra): Audio: mp2 ([3][0][0][0] / 0x0003), 48000 Hz,
 stereo, s16p, 192 kb/s
     Stream #0:2[0x83](eng): Audio: mp2 ([3][0][0][0] / 0x0003), 48000 Hz,
 stereo, s16p, 128 kb/s
     Stream #0:3[0x85](qad): Audio: mp2 ([3][0][0][0] / 0x0003), 48000 Hz,
 stereo, s16p, 128 kb/s
     Stream #0:4[0x8c](fra): Subtitle: dvb_teletext ([6][0][0][0] / 0x0006)
     Stream #0:5[0x96](fra): Subtitle: dvb_subtitle ([6][0][0][0] / 0x0006)
 (hearing impaired)
     Stream #0:6[0x97](eng): Subtitle: dvb_subtitle ([6][0][0][0] / 0x0006)
 [mpegts @ 0x2c8a520] muxrate VBR, pcr every 2 pkts, sdt every 200, pat/pmt
 every 40 pkts
 Output #0, mpegts, to 'test.ts':
   Metadata:
     encoder         : Lavf55.18.102
     Stream #0:0: Video: mpeg2video ([2][0][0][0] / 0x0002), yuv420p,
 720x576 [SAR 64:45 DAR 16:9], q=2-31, max. 15000 kb/s, 25 fps, 90k tbn, 25
 tbc
     Stream #0:1(fra): Subtitle: dvb_subtitle ([6][0][0][0] / 0x0006)
 (hearing impaired)
 Stream mapping:
   Stream #0:0 -> #0:0 (copy)
   Stream #0:5 -> #0:1 (copy)
 Press [q] to stop, [?] for help
 [mpegts @ 0x2c65400] Correcting start time by 200000
 No more output streams to write to, finishing.
 frame= 2582 fps=0.0 q=-1.0 Lsize=   64164kB time=00:01:43.72
 bitrate=5067.8kbits/s
 video:59246kB audio:0kB subtitle:116 global headers:0kB muxing overhead
 8.089452%
 }}}

 The mapped DVB subtitle stream is visible in VLC, mplayer, mpv, with the
 original file. After remuxing, the subtitles are not visible anymore
 (likely nothing is remuxed in the destination stream).

 Sample is available here: http://lucy.pkh.me/samples/fr-tv-dvd-sub-and-
 teletext.ts (~69M)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2989>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 22:51:02 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 20:51:02 -0000
Subject: [FFmpeg-trac] #2989(avformat:new): broken remuxing DVB
 subtitles from MPEG-TS to MPEG-TS
In-Reply-To: <035.f35af3dbcc2c7fdc895819c217774171@avcodec.org>
References: <035.f35af3dbcc2c7fdc895819c217774171@avcodec.org>
Message-ID: <050.486d6e980a70c1ccafef5b05435a597c@avcodec.org>

#2989: broken remuxing DVB subtitles from MPEG-TS to MPEG-TS
-------------------------------------+-------------------------------------
             Reporter:  ubitux       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mpegts       |               Blocked By:
  dvbsub                             |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  mpegts,dvb_subtitles => mpegts dvbsub


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2989#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 22 23:55:44 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 21:55:44 -0000
Subject: [FFmpeg-trac] #2990(undetermined:new): floating exception with
 ffmpeg
Message-ID: <038.bdafe302a66173b278e82631f9ef7381@avcodec.org>

#2990: floating exception with ffmpeg
-------------------------------------+-------------------------------------
               Reporter:  richardpl  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 Summary of the bug:
 How to reproduce:
 {{{
 ffmpeg -f lavfi -i testsrc -qmin 0 -qmax 0 -vcodec mjpeg -f null -
 ffmpeg version N-56567-g601eab2 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 22 2013 17:02:25 with FreeBSD clang version 3.3
 (tags/RELEASE_33/final 183502) 20130610
   configuration: --extra-cflags=-I/usr/local/include --extra-
 ldflags=-L/usr/local/lib --as=clang --cc=clang --disable-debug --disable-
 ffplay --disable-ffserver --disable-indevs --disable-outdevs --disable-
 postproc --disable-static --enable-gpl --enable-indev=lavfi --enable-
 indev=oss --enable-indev=x11grab --enable-nonfree --enable-openssl
 --enable-outdev=oss --enable-shared --enable-stripping --enable-x11grab
 --enable-libfreetype --enable-libx264 --enable-libmp3lame --enable-ladspa
 --mandir=/usr/local/man --samples=../fate-suite
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
 Input #0, lavfi, from 'testsrc':
   Duration: N/A, start: 0.000000, bitrate: N/A
     Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 320x240
 [SAR 1:1 DAR 4:3], 25 tbr, 25 tbn, 25 tbc
 [swscaler @ 0x2a06e000] deprecated pixel format used, make sure you did
 set range correctly
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.18.102
     Stream #0:0: Video: mjpeg, yuvj444p, 320x240 [SAR 1:1 DAR 4:3], q=0-0,
 200 kb/s, 90k tbn, 25 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (rawvideo -> mjpeg)
 Press [q] to stop, [?] for help
 Floating exception
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2990>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 00:20:41 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 22:20:41 -0000
Subject: [FFmpeg-trac] #2990(undetermined:open): floating exception with
 ffmpeg
In-Reply-To: <038.bdafe302a66173b278e82631f9ef7381@avcodec.org>
References: <038.bdafe302a66173b278e82631f9ef7381@avcodec.org>
Message-ID: <053.7d43aebe0b890958dc8d4512d699df2f@avcodec.org>

#2990: floating exception with ffmpeg
-------------------------------------+-------------------------------------
             Reporter:  richardpl    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  crash fpe    |               Resolution:
  regression                         |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => crash fpe regression
 * priority:  normal => important
 * version:  unspecified => git-master
 * status:  new => open
 * reproduced:  0 => 1


Comment:

 Reproducible with {{{ffmpeg -i tests/lena.pnm -qmin 0 -qmax 0 -vcodec
 mjpeg -f null -}}}, regression since 035af99

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2990#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 00:29:01 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 22:29:01 -0000
Subject: [FFmpeg-trac] #2985(avcodec:closed): sgirle: deadlock with
 fuzzed file
In-Reply-To: <038.47b11a56e4929e866da59537e3afa9b8@avcodec.org>
References: <038.47b11a56e4929e866da59537e3afa9b8@avcodec.org>
Message-ID: <053.eda257077a43ef0ca92531eb597cb1b7@avcodec.org>

#2985: sgirle: deadlock with fuzzed file
--------------------------------------+-----------------------------------
             Reporter:  ami_stuff     |                    Owner:
                 Type:  defect        |                   Status:  closed
             Priority:  important     |                Component:  avcodec
              Version:  git-master    |               Resolution:  fixed
             Keywords:  sgi deadlock  |               Blocked By:
             Blocking:                |  Reproduced by developer:  1
Analyzed by developer:  0             |
--------------------------------------+-----------------------------------
Changes (by cehoyos):

 * keywords:   => sgi deadlock
 * priority:  normal => important


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2985#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 00:32:14 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 22:32:14 -0000
Subject: [FFmpeg-trac] #2984(avcodec:open): escape124: deadlock with
 fuzzed file
In-Reply-To: <038.ab932da22102f905f34c672897c3c38a@avcodec.org>
References: <038.ab932da22102f905f34c672897c3c38a@avcodec.org>
Message-ID: <053.4d356d878d21686e233615af22883819@avcodec.org>

#2984: escape124: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  escape124    |               Blocked By:
  deadlock regression                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => escape124 deadlock regression


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2984#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 00:36:14 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 22:36:14 -0000
Subject: [FFmpeg-trac] #2986(undetermined:open): truehd: deadlock with
 fuzzed file
In-Reply-To: <038.154fe0b3b134bff275c7a8de394c2f84@avcodec.org>
References: <038.154fe0b3b134bff275c7a8de394c2f84@avcodec.org>
Message-ID: <053.88a2429862cb76cf8942f9000b0522a1@avcodec.org>

#2986: truehd: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  deadlock     |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => deadlock
 * priority:  normal => important
 * version:  unspecified => git-master
 * status:  new => open
 * reproduced:  0 => 1


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2986#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 00:39:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 22:39:50 -0000
Subject: [FFmpeg-trac] #2987(avcodec:open): wmapro: deadlock with fuzzed
 file
In-Reply-To: <038.275955a3f5fa097fc86eeb60816672b9@avcodec.org>
References: <038.275955a3f5fa097fc86eeb60816672b9@avcodec.org>
Message-ID: <053.e182390d0611dbe36f0b62d033b46311@avcodec.org>

#2987: wmapro: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  wmapro       |               Blocked By:
  deadlock                           |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => wmapro deadlock


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2987#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 00:40:22 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 22:40:22 -0000
Subject: [FFmpeg-trac] #2987(avcodec:open): wmapro: deadlock with fuzzed
 file
In-Reply-To: <038.275955a3f5fa097fc86eeb60816672b9@avcodec.org>
References: <038.275955a3f5fa097fc86eeb60816672b9@avcodec.org>
Message-ID: <053.68f7eb3fbb74b32a0759acb3d01792ad@avcodec.org>

#2987: wmapro: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  wmapro       |               Blocked By:
  deadlock regression                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  wmapro deadlock => wmapro deadlock regression


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2987#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 00:43:04 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 22:43:04 -0000
Subject: [FFmpeg-trac] #2988(avcodec:open): lagarith: deadlock with
 fuzzed file
In-Reply-To: <038.97ecee800e29969d8b5e699d3ecc412e@avcodec.org>
References: <038.97ecee800e29969d8b5e699d3ecc412e@avcodec.org>
Message-ID: <053.6a8099b41a88b6a7ae1dc41433567f74@avcodec.org>

#2988: lagarith: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  lagarith     |               Blocked By:
  deadlock                           |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => lagarith deadlock


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2988#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 01:29:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 22 Sep 2013 23:29:40 -0000
Subject: [FFmpeg-trac] #1636(undetermined:reopened): FRAPS Video Color
 Space
In-Reply-To: <032.946dd04c2bf2f1a53703123793a08eed@avcodec.org>
References: <032.946dd04c2bf2f1a53703123793a08eed@avcodec.org>
Message-ID: <047.77ee2cbc8e74a0ceab9ac0d941f781de@avcodec.org>

#1636: FRAPS Video Color Space
-------------------------------------+-------------------------------------
             Reporter:  DJX          |                    Owner:
                 Type:  defect       |                   Status:  reopened
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  FRAPS        |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by DJX):

 Affirmative, issue persists: transcoded output is still darker then
 original in Windows Media Player.
 {{{
 ffmpeg -i cod2-credits-4sec.avi c:\temp\test.mp4
 ffmpeg version N-56575-g21f6ff3 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 22 2013 18:08:30 with gcc 4.7.3 (GCC)
   configuration: --enable-gpl --enable-version3 --disable-w32threads
 --enable-av
 isynth --enable-bzlib --enable-fontconfig --enable-frei0r --enable-gnutls
 --enab
 le-iconv --enable-libass --enable-libbluray --enable-libcaca --enable-
 libfreetyp
 e --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmp3lame
 --ena
 ble-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
 --enable-l
 ibopus --enable-librtmp --enable-libschroedinger --enable-libsoxr
 --enable-libsp
 eex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-
 libvo-aa
 cenc --enable-libvo-amrwbenc --enable-libvorbis --enable-libvpx --enable-
 libwavp
 ack --enable-libx264 --enable-libxavs --enable-libxvid --enable-zlib
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [avi @ 00000000028b7100] Stream #1: not enough frames to estimate rate;
 consider
  increasing probesize
 Guessed Channel Layout for  Input Stream #0.1 : stereo
 Input #0, avi, from 'cod2-credits-4sec.avi':
   Duration: 00:00:04.10, start: 0.000000, bitrate: 591512 kb/s
     Stream #0:0: Video: fraps (FPS1 / 0x31535046), yuvj420p(pc, bt709),
 1920x108
 0, 60 fps, 60 tbr, 60 tbn, 60 tbc
     Stream #0:1: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz,
 stereo, s16
 , 1536 kb/s
 No pixel format specified, yuvj420p for H.264 encoding chosen.
 Use -pix_fmt yuv420p for compatibility with outdated media players.
 [libx264 @ 000000000280aae0] using cpu capabilities: MMX2 SSE2Fast SSSE3
 SSE4.2
 AVX
 [libx264 @ 000000000280aae0] profile High, level 4.2
 [libx264 @ 000000000280aae0] 264 - core 135 r2345 f0c1c53 - H.264/MPEG-4
 AVC cod
 ec - Copyleft 2003-2013 - http://www.videolan.org/x264.html - options:
 cabac=1 r
 ef=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00
 mixed
 _ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11
 fast_pski
 p=1 chroma_qp_offset=-2 threads=18 lookahead_threads=3 sliced_threads=0
 nr=0 dec
 imate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3
 b_pyramid=2 b
 _adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250
 keyint_min=
 25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0
 qcomp=0.
 60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
 Output #0, mp4, to 'c:\temp\test.mp4':
   Metadata:
     encoder         : Lavf55.18.102
     Stream #0:0: Video: h264 (libx264) ([33][0][0][0] / 0x0021), yuvj420p,
 1920x
 1080, q=-1--1, 15360 tbn, 60 tbc
     Stream #0:1: Audio: aac (libvo_aacenc) ([64][0][0][0] / 0x0040), 48000
 Hz, s
 tereo, s16, 128 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (fraps -> libx264)
   Stream #0:1 -> #0:1 (pcm_s16le -> libvo_aacenc)
 Press [q] to stop, [?] for help
 frame=   67 fps=0.0 q=31.0 size=       0kB time=00:00:00.05 bitrate=
 7.7kbits/
 frame=  109 fps=101 q=31.0 size=     344kB time=00:00:00.94
 bitrate=2974.1kbits/
 frame=  130 fps= 83 q=31.0 size=     368kB time=00:00:01.10
 bitrate=2738.8kbits/
 frame=  148 fps= 71 q=31.0 size=     431kB time=00:00:01.95
 bitrate=1811.1kbits/
 frame=  168 fps= 65 q=31.0 size=     468kB time=00:00:01.95
 bitrate=1963.5kbits/
 frame=  190 fps= 61 q=31.0 size=     486kB time=00:00:02.10
 bitrate=1895.6kbits/
 frame=  214 fps= 59 q=31.0 size=     531kB time=00:00:02.95
 bitrate=1471.7kbits/
 frame=  229 fps= 55 q=31.0 size=     550kB time=00:00:02.95
 bitrate=1525.6kbits/
 frame=  246 fps= 45 q=-1.0 Lsize=    1423kB time=00:00:04.10
 bitrate=2838.9kbits
 /s dup=1 drop=0
 video:1350kB audio:65kB subtitle:0 global headers:0kB muxing overhead
 0.540729%
 [libx264 @ 000000000280aae0] frame I:1     Avg QP:19.48  size:231215
 [libx264 @ 000000000280aae0] frame P:62    Avg QP:21.34  size: 11727
 [libx264 @ 000000000280aae0] frame B:183   Avg QP:26.78  size:  2315
 [libx264 @ 000000000280aae0] consecutive B-frames:  0.4%  0.0%  3.7% 95.9%
 [libx264 @ 000000000280aae0] mb I  I16..4:  6.0% 66.2% 27.8%
 [libx264 @ 000000000280aae0] mb P  I16..4:  0.1%  0.7%  0.1%  P16..4:
 28.8%  5.3
 %  3.6%  0.0%  0.0%    skip:61.5%
 [libx264 @ 000000000280aae0] mb B  I16..4:  0.0%  0.0%  0.0%  B16..8:
 20.9%  0.7
 %  0.1%  direct: 0.1%  skip:78.2%  L0:50.1% L1:49.7% BI: 0.2%
 [libx264 @ 000000000280aae0] 8x8 transform intra:69.8% inter:77.6%
 [libx264 @ 000000000280aae0] coded y,uvDC,uvAC intra: 80.3% 55.4% 18.1%
 inter: 4
 .2% 2.4% 0.0%
 [libx264 @ 000000000280aae0] i16 v,h,dc,p: 15% 19% 18% 48%
 [libx264 @ 000000000280aae0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 14% 19% 23%
 5%  7%
  5% 12%  6%  9%
 [libx264 @ 000000000280aae0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 17% 18% 17%
 7%  8%
  7% 12%  6%  7%
 [libx264 @ 000000000280aae0] i8c dc,h,v,p: 62% 21% 15%  2%
 [libx264 @ 000000000280aae0] Weighted P-Frames: Y:1.6% UV:0.0%
 [libx264 @ 000000000280aae0] ref P L0: 64.7% 21.8% 10.9%  2.6%  0.1%
 [libx264 @ 000000000280aae0] ref B L0: 92.9%  5.8%  1.3%
 [libx264 @ 000000000280aae0] ref B L1: 95.7%  4.3%
 [libx264 @ 000000000280aae0] kb/s:2696.62
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1636#comment:22>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 02:30:35 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 00:30:35 -0000
Subject: [FFmpeg-trac] #2984(avcodec:closed): escape124: deadlock with
 fuzzed file
In-Reply-To: <038.ab932da22102f905f34c672897c3c38a@avcodec.org>
References: <038.ab932da22102f905f34c672897c3c38a@avcodec.org>
Message-ID: <053.65c197415773d25408bc81e537025de5@avcodec.org>

#2984: escape124: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  escape124    |               Blocked By:
  deadlock regression                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by richardpl):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in e494f44c051d7dccc038a603ab22532b87dd1705.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2984#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 09:46:02 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 07:46:02 -0000
Subject: [FFmpeg-trac] #2942(avcodec:closed): libopenjpeg enc: crash
In-Reply-To: <038.3ca550681d5e7c096cd10d4db138e150@avcodec.org>
References: <038.3ca550681d5e7c096cd10d4db138e150@avcodec.org>
Message-ID: <053.d7f4b2d0295963e5afe999b3b81bb0a4@avcodec.org>

#2942: libopenjpeg enc: crash
-------------------------------------+-----------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  libopenjpeg  |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------
Changes (by cehoyos):

 * status:  new => closed
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * version:  unspecified => git-master
 * keywords:   => libopenjpeg
 * resolution:   => fixed


Comment:

 Fixed by Michael Bradshaw in 3cfd4df.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2942#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 10:25:58 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 08:25:58 -0000
Subject: [FFmpeg-trac] #2991(undetermined:new): Stream-copy h264 from mov
 does not work anymore
Message-ID: <036.aa0dfbef51a2097fa28c30e3841672a5@avcodec.org>

#2991: Stream-copy h264 from mov does not work anymore
-------------------------------------+-------------------------------------
               Reporter:  cehoyos    |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  important  |              Component:
                Version:  git-       |  undetermined
  master                             |               Keywords:  mov h264
             Blocked By:             |  regression
Reproduced by developer:  0          |               Blocking:
                                     |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://thread.gmane.org/gmane.comp.video.ffmpeg.user/48018
 A user provided a h264/mov sample that does not allow stream-copying since
 7432bcf / accea4d
 {{{
 $ ffmpeg -i wwwq_cut.mp4 -vcodec copy -vbsf h264_mp4toannexb out.h264
 ffmpeg version N-56578-g3cfd4df Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 23 2013 10:25:19 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'wwwq_cut.mp4':
   Metadata:
     major_brand     : mp42
     minor_version   : 1
     compatible_brands: mp42isom
     creation_time   : 2013-09-16 20:38:44
   Duration: 00:00:14.58, start: 0.000000, bitrate: 1123 kb/s
     Stream #0:0(eng): Video: h264 (Main) (avc1 / 0x31637661), yuv420p,
 1280x720 [SAR 3:4 DAR 4:3], 4019 kb/s, 29.97 fps, 29.97 tbr, 90k tbn,
 59.94 tbc (default)
     Metadata:
       creation_time   : 2013-09-16 20:38:44
       handler_name    : AVID Video Handler
     Stream #0:1(eng): Audio: aac (mp4a / 0x6134706D), 48000 Hz, stereo,
 fltp, 88 kb/s (default)
     Metadata:
       creation_time   : 2013-09-16 20:38:44
       handler_name    : AVID Audio Handler
     Stream #0:2(eng): Data: none (mp4s / 0x7334706D), 12960 kb/s (default)
     Metadata:
       handler_name    : AVID Object Descriptor Handler
     Stream #0:3(eng): Data: none (mp4s / 0x7334706D), 11520 kb/s (default)
     Metadata:
       handler_name    : AVID BIFS Handler
 Output #0, h264, to 'out.h264':
   Metadata:
     major_brand     : mp42
     minor_version   : 1
     compatible_brands: mp42isom
     encoder         : Lavf55.18.102
     Stream #0:0(eng): Video: h264 (avc1 / 0x31637661), yuv420p, 1280x720
 [SAR 3:4 DAR 4:3], q=2-31, 4019 kb/s, 29.97 fps, 90k tbn, 29.97 tbc
 (default)
     Metadata:
       creation_time   : 2013-09-16 20:38:44
       handler_name    : AVID Video Handler
 Stream mapping:
   Stream #0:0 -> #0:0 (copy)
 Press [q] to stop, [?] for help
 frame=    0 fps=0.0 q=-1.0 Lsize=       0kB time=00:00:00.00 bitrate=N/A
 video:0kB audio:0kB subtitle:0 global headers:0kB muxing overhead -nan%
 Output file is empty, nothing was encoded (check -ss / -t / -frames
 parameters if used)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2991>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 11:36:58 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 09:36:58 -0000
Subject: [FFmpeg-trac] #2989(avformat:new): broken remuxing DVB
 subtitles from MPEG-TS to MPEG-TS
In-Reply-To: <035.f35af3dbcc2c7fdc895819c217774171@avcodec.org>
References: <035.f35af3dbcc2c7fdc895819c217774171@avcodec.org>
Message-ID: <050.9ec163a55b127a47cc12cbb7339ef527@avcodec.org>

#2989: broken remuxing DVB subtitles from MPEG-TS to MPEG-TS
-------------------------------------+-------------------------------------
             Reporter:  ubitux       |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mpegts       |               Blocked By:
  dvbsub                             |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by ubitux):

 I just realized this might be a duplicate of #2024.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2989#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 11:37:59 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 09:37:59 -0000
Subject: [FFmpeg-trac] #2024(undetermined:new): Reencoding dvbsub fails
In-Reply-To: <036.1bae9f864a653f9658535ee6156feebd@avcodec.org>
References: <036.1bae9f864a653f9658535ee6156feebd@avcodec.org>
Message-ID: <051.70de91681ab28ea6fc7b71ca72728319@avcodec.org>

#2024: Reencoding dvbsub fails
-------------------------------------+-------------------------------------
             Reporter:  cehoyos      |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  dvbsub       |               Resolution:
  av_interleaved_write_frame         |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by ubitux):

 Another sample with a similar issue in #2989. Probably affects any DVB sub
 sample.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2024#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 11:41:22 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 09:41:22 -0000
Subject: [FFmpeg-trac] #2909(avcodec:new): Make dvbsubs more compliant
 among stb's
In-Reply-To: <036.61e3e9cf0f093852a5ff5189282849a7@avcodec.org>
References: <036.61e3e9cf0f093852a5ff5189282849a7@avcodec.org>
Message-ID: <051.41c1aeb5c208e85fdd2ce73ca24fd739@avcodec.org>

#2909: Make dvbsubs more compliant among stb's
-------------------------------------+-----------------------------------
             Reporter:  tommy2d      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  normal       |                Component:  avcodec
              Version:  1.2.2        |               Resolution:
             Keywords:  dvbsub       |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Old description:

> For a project I'm using avcodec to encode various dvbsubtitles and mux
> them in an mpeg transport stream using a self-made multiplexer.
>
> The dvdsubtitles that are produced by avcodec are not working on some
> stubborn set-top-boxes (STBs). About 80% of the boxes i used to test are
> working. 20% is not.
>
> I was able to create my own encoder, but with some minor changes in the
> dvbsubenc.c code, i was able to use ffmpeg to produce subtitles that work
> on 100% of the STBs we used to test. These changes are:
>
> 1. Make sure all reserved bits, especially in the region composition
> segment, are set to 0 rather than 1:
>
> -        *q++ = ((1 + bpp_index) << 5) | ((1 + bpp_index) << 2) | 0x03;
> +        *q++ = ((1 + bpp_index) << 5) | ((1 + bpp_index) << 2) | 0x00;
>
> -        *q++ = 0xf0 | ((y >> 8) & 0xf);
> +        *q++ = 0x00 | ((y >> 8) & 0xf);
>
> 2. Make sure all dvb-subtitles are ordered as described in the spec:
>
> 0x10 page composition segment
> 0x11 region composition segment
> 0x12 CLUT
> 0x13 Object data segment
> 0x14 DDS
> 0x80 end of display
>
> Failing to do so will cause some STBs to fail selecting the proper
> colours from the CLUT.
>
> 3. Define / calculate fixed regions that can be used again and again.
> Defining and/or using new regions for each subtitle, like avcodec does by
> default, causes some serious graphical distortion,  most notably in high-
> end professional tandberg decoders.
>
> 4. Implement subtitle clear packets that only contain a page composition
> segment (no end of display segment) and use page_state = 0x01;.
>
> 5. Make sure actual subtitle payload packets use page_state = 0x02.
>
> 6. add display defintion segments for low res subs that are muxed with HD
> video:
>
>         *p++ = 0x0F; //sync_byte
>         *p++ = 0x14; //segment_type
>         *p++ = 0x00; //page_id 1
>         *p++ = 0x01; //page_id 2
>         *p++ = 0x00; //segment_length 1
>         *p++ = 0x05; //segment_length 2
>
>         *p++ = 0x00;//dds_version_number + display_window_flag + reserved
>         *p++ = (ddsWidth >> 8) & 0xFF;
>         *p++ = ddsWidth & 0xFF;
>         *p++ = (ddsHeight >> 8) & 0xFF;
>         *p++ = ddsHeight & 0xFF;
>
> That's about it. I know this feature is not used a lot, especially since
> the mpeg-ts muxer provided by ffmpeg is not really suitable for
> broadcasting purposes, but these minor changes really contribute to the
> compatibility of the dvbsubs that avcodec encodes.
>
> F.y.i: this information is based on reverse-engineering highly-compatbile
> broadcast TS files that contain dvbsubtitles. If necessary i can deliver
> some raw dvbsub payloads that are tested on multiple STBs and that can
> used in further research and/or development.

New description:

 For a project I'm using avcodec to encode various dvbsubtitles and mux
 them in an mpeg transport stream using a self-made multiplexer.

 The dvdsubtitles that are produced by avcodec are not working on some
 stubborn set-top-boxes (STBs). About 80% of the boxes i used to test are
 working. 20% is not.

 I was able to create my own encoder, but with some minor changes in the
 dvbsubenc.c code, i was able to use ffmpeg to produce subtitles that work
 on 100% of the STBs we used to test. These changes are:

 1. Make sure all reserved bits, especially in the region composition
 segment, are set to 0 rather than 1:

 {{{
 -        *q++ = ((1 + bpp_index) << 5) | ((1 + bpp_index) << 2) | 0x03;
 +        *q++ = ((1 + bpp_index) << 5) | ((1 + bpp_index) << 2) | 0x00;

 -        *q++ = 0xf0 | ((y >> 8) & 0xf);
 +        *q++ = 0x00 | ((y >> 8) & 0xf);
 }}}

 2. Make sure all dvb-subtitles are ordered as described in the spec:

 {{{
 0x10 page composition segment
 0x11 region composition segment
 0x12 CLUT
 0x13 Object data segment
 0x14 DDS
 0x80 end of display
 }}}

 Failing to do so will cause some STBs to fail selecting the proper colours
 from the CLUT.

 3. Define / calculate fixed regions that can be used again and again.
 Defining and/or using new regions for each subtitle, like avcodec does by
 default, causes some serious graphical distortion,  most notably in high-
 end professional tandberg decoders.

 4. Implement subtitle clear packets that only contain a page composition
 segment (no end of display segment) and use page_state = 0x01;.

 5. Make sure actual subtitle payload packets use page_state = 0x02.

 6. add display defintion segments for low res subs that are muxed with HD
 video:

 {{{
         *p++ = 0x0F; //sync_byte
         *p++ = 0x14; //segment_type
         *p++ = 0x00; //page_id 1
         *p++ = 0x01; //page_id 2
         *p++ = 0x00; //segment_length 1
         *p++ = 0x05; //segment_length 2

         *p++ = 0x00;//dds_version_number + display_window_flag + reserved
         *p++ = (ddsWidth >> 8) & 0xFF;
         *p++ = ddsWidth & 0xFF;
         *p++ = (ddsHeight >> 8) & 0xFF;
         *p++ = ddsHeight & 0xFF;
 }}}

 That's about it. I know this feature is not used a lot, especially since
 the mpeg-ts muxer provided by ffmpeg is not really suitable for
 broadcasting purposes, but these minor changes really contribute to the
 compatibility of the dvbsubs that avcodec encodes.

 F.y.i: this information is based on reverse-engineering highly-compatbile
 broadcast TS files that contain dvbsubtitles. If necessary i can deliver
 some raw dvbsub payloads that are tested on multiple STBs and that can
 used in further research and/or development.

--

Comment (by ubitux):

 Added some code quotation in the description to make it readable.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2909#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 11:53:42 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 09:53:42 -0000
Subject: [FFmpeg-trac] #2909(avcodec:new): Make dvbsubs more compliant
 among stb's
In-Reply-To: <036.61e3e9cf0f093852a5ff5189282849a7@avcodec.org>
References: <036.61e3e9cf0f093852a5ff5189282849a7@avcodec.org>
Message-ID: <051.74fcebc2b04dea31aa27fcd8a6116773@avcodec.org>

#2909: Make dvbsubs more compliant among stb's
-------------------------------------+-----------------------------------
             Reporter:  tommy2d      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  normal       |                Component:  avcodec
              Version:  1.2.2        |               Resolution:
             Keywords:  dvbsub       |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by ubitux):

 Replying to [ticket:2909 tommy2d]:
 > [...]
 > 1. Make sure all reserved bits, especially in the region composition
 segment, are set to 0 rather than 1:
 >
 > {{{
 > -        *q++ = ((1 + bpp_index) << 5) | ((1 + bpp_index) << 2) | 0x03;
 > +        *q++ = ((1 + bpp_index) << 5) | ((1 + bpp_index) << 2) | 0x00;
 >
 > -        *q++ = 0xf0 | ((y >> 8) & 0xf);
 > +        *q++ = 0x00 | ((y >> 8) & 0xf);
 > }}}
 >

 I can't find the second chunk in our codebase. For the record, the first
 one is from {{{lavc/dvbsub.c}}}.

 > [...]
 > That's about it. I know this feature is not used a lot, especially since
 the mpeg-ts muxer provided by ffmpeg is not really suitable for
 broadcasting purposes, but these minor changes really contribute to the
 compatibility of the dvbsubs that avcodec encodes.

 You are talking about a lot of changes, could you just send a patch? As
 Carl said, we can't really make much sense about what you are sharing.

 And you are wrong about FFmpeg not being suitable for broadcasting
 purposes BTW. But OTOH the DVB subtitles support is definitely in need of
 some improvements, so your changes will be really appreciated.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2909#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 15:09:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 13:09:50 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.262d795de97166606b7b378e9bc06097@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 I prefer warnings, rather than the error messages and stop. Kind, and
 easier to use.

 By the way, I'll be free from September 28th, and I'm considering a
 listening test of
 - v4 abr
 - v6 abr
 - v6 vbr
 - fdk-aac vbr
 - ac3 abr
 - libmp3lame vbr

 I've got a request of testing libfaac, mp2, and eac3, but I'm running out
 of the "slot".
 From my normal non-blind listening of average music, my current impression
 is:
 {{{
 fdk-aac > libmp3lame > v5 abr >> v4 abr > v5 vbr > ac3
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:165>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 15:10:19 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 13:10:19 -0000
Subject: [FFmpeg-trac] #2959(avfilter:new): filter line using only one
 core (need frame multithreading)
In-Reply-To: <036.9b10619f7213b9bd98def4eded6a7e5d@avcodec.org>
References: <036.9b10619f7213b9bd98def4eded6a7e5d@avcodec.org>
Message-ID: <051.584f96637b04475e46a365f1f8c106d8@avcodec.org>

#2959: filter line using only one core (need frame multithreading)
-------------------------------------+------------------------------------
             Reporter:  chronek      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avfilter
              Version:  git-master   |               Resolution:
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by Ck-NoSFeRaTU):

 Yeah, it is a big problem, especially when one ffmpeg process doing
 multistep filter processing and many outputs at once, one core is not near
 enough... There were some patches in maillist about multithread support to
 filters, but they aren't compatible anymore:
 http://ffmpeg.org/pipermail/ffmpeg-devel/2012-June/126188.html
 http://ffmpeg.org/pipermail/ffmpeg-devel/2012-June/126189.html
 http://ffmpeg.org/pipermail/ffmpeg-devel/2012-June/126238.html

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2959#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 15:30:03 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 13:30:03 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.718cc385b035f711d52acfe4ecd3144d@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 v5 vbr is still quite worse than the abr. I feel that whenever tonal
 sounds are there, the frequency bin around the tone degrades. Tones are
 poorer at hiding other sounds than the noise, that's why harpsichords
 remains to be one of the most critical and hardest instruments to code.
 http://wiki.hydrogenaudio.org/index.php?title=Perceptual_Noise_Substitution

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:166>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 17:48:07 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 15:48:07 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.0c3d6b8325c7bd0db2e38f95f46f0219@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Well, v6 is almost ready. I just need to clean it up a bit. I'll probably
 do that tonight.

 In v6, my non-blind tests make me believe that {{{v6 vbr > v6 abr > v5
 abr}}}.

 Not sure how you compare abr vs vbr, what I do is pick a file or set of
 files, do a binary search of the quality level that results in the same
 overall file size, and then compare. In that kind of test, v6 vbr
 sometimes requires '''lots''' more bits for some pathological files
 (techno seems to drive it crazy, can't blame it). I exclude those, since
 they're pathological.

 When I push the patches to the ML, I'll make most of what makes v6 vbr go
 crazy on techno (the relatively high peak bit rate allowance) configurable
 anyway.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:167>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 17:54:06 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 15:54:06 -0000
Subject: [FFmpeg-trac] #2806(avfilter:closed): Overlay filter with
 "shortest=1" drops last frame
In-Reply-To: <035.f08af88ce96838a62c587644044b5d3c@avcodec.org>
References: <035.f08af88ce96838a62c587644044b5d3c@avcodec.org>
Message-ID: <050.ecd671d5542ff406701266d166c6e281@avcodec.org>

#2806: Overlay filter with "shortest=1" drops last frame
------------------------------------+------------------------------------
             Reporter:  hansmi      |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avfilter
              Version:  git-master  |               Resolution:  fixed
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+------------------------------------
Changes (by richardpl):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Should be fixed in f3a02f4bc1d05f1eb062fa9f5b6f20ba8991e952.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2806#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 18:49:38 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 16:49:38 -0000
Subject: [FFmpeg-trac] #2806(avfilter:closed): Overlay filter with
 "shortest=1" drops last frame
In-Reply-To: <035.f08af88ce96838a62c587644044b5d3c@avcodec.org>
References: <035.f08af88ce96838a62c587644044b5d3c@avcodec.org>
Message-ID: <050.5f2d0a9e7146c2478cdc4c628feee3c9@avcodec.org>

#2806: Overlay filter with "shortest=1" drops last frame
------------------------------------+------------------------------------
             Reporter:  hansmi      |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  normal      |                Component:  avfilter
              Version:  git-master  |               Resolution:  fixed
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by hansmi):

 Confirmed, thanks!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2806#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 19:53:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 17:53:40 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.9abc799f35f3d3dbd73bec733e596b72@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 Replying to [comment:167 klaussfreire]:
 > Not sure how you compare abr vs vbr, what I do is pick a file or set of
 files, do a binary search of the quality level that results in the same
 overall file size, and then compare. In that kind of test, v6 vbr
 sometimes requires '''lots''' more bits for some pathological files
 (techno seems to drive it crazy, can't blame it). I exclude those, since
 they're pathological.

 I compare abr vs vbr by a graph. I plot a "q vs bitrate" graph over a
 "standard" set of large set of sounds I extracted from diverse CDs. Then,
 search a number of q that have the desired bitrate. Then, make sure that
 average tested sample bitrate isn't very far from the "standard" bitrate.
 This method is common in the hydrogenaudio.
 http://listening-tests.hydrogenaudio.org/sebastian/mp3-128-1/index.htm


 > When I push the patches to the ML, I'll make most of what makes v6 vbr
 go crazy on techno (the relatively high peak bit rate allowance)
 configurable anyway.
 I think it's a good idea to automatically "cap" the bitrate based on the q
 number. 3x of the "standard" bitrate of the q or something.

 Also, I think it's beneficial for the end users to set the -q:a value and
 typically gets a file with the bitrate around the set value. If one sets
 -q:a 256k, one gets a file of roughly 256kbps. (Or 210kbps, 289kbps, etc
 based on the sound content, but that's fine.) iTunes have that interface,
 and it's easier to use. This can be controversial as people may refer to
 some old documents of -q:a option and try to do the same, but the problem
 can be avoided by moving to a "classic mode" when the value is very small,
 like -q:a 0.3.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:168>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 20:21:39 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 18:21:39 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.83bc45d3f1de5c97571a329610d2ea87@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Replying to [comment:168 Kamedo2]:
 > Replying to [comment:167 klaussfreire]:
 > > Not sure how you compare abr vs vbr, what I do is pick a file or set
 of files, do a binary search of the quality level that results in the same
 overall file size, and then compare. In that kind of test, v6 vbr
 sometimes requires '''lots''' more bits for some pathological files
 (techno seems to drive it crazy, can't blame it). I exclude those, since
 they're pathological.
 >
 > I compare abr vs vbr by a graph. I plot a "q vs bitrate" graph over a
 "standard" set of large set of sounds I extracted from diverse CDs.

 Yeah, I've seen those

 > Then, search a number of q that have the desired bitrate. Then, make
 sure that average tested sample bitrate isn't very far from the "standard"
 bitrate.

 Just '''how''' do you check bit rate? Because I've noticed {{{ffmpeg -i
 file}}} tends to give bogus rates when used on VBR-encoded files (not even
 average).


 > Also, I think it's beneficial for the end users to set the -q:a value
 and typically gets a file with the bitrate around the set value. If one
 sets -q:a 256k, one gets a file of roughly 256kbps.

 That's not doable without refactoring ffmpeg. -q:a sets the global_quality
 parameter, which is specified to have a somewhat standardized
 interpretation (1.0 = 100%, what 100% means is what some other codec means
 by it, can't remember which OTOMH).

 However, you can get (I think) a similar result by specifying both -q:a
 and -b:a, like so:

 {{{
 ffmpeg -i somefile.flac -c:a aac -b:a 256k -q:a 1 -strict experimental
 somefile.aac
 }}}

 Although that seldom gives you 256k. The bitrate there is like a lower
 bound (aim for 256k, spend more if needed).

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:169>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 20:34:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 18:34:50 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.898f1ea217bcda5b1d43017622c9bb8e@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 > > Then, search a number of q that have the desired bitrate. Then, make
 sure that average tested sample bitrate isn't very far from the "standard"
 bitrate.
 >
 > Just '''how''' do you check bit rate? Because I've noticed {{{ffmpeg -i
 file}}} tends to give bogus rates when used on VBR-encoded files (not even
 average).
 {{{filesize[Byte]*8/Sample_length[Sec]}}}, But be careful of very short
 files, it can be bogus too.



 > > Also, I think it's beneficial for the end users to set the -q:a value
 and typically gets a file with the bitrate around the set value. If one
 sets -q:a 256k, one gets a file of roughly 256kbps.
 >
 > That's not doable without refactoring ffmpeg. -q:a sets the
 global_quality parameter, which is specified to have a somewhat
 standardized interpretation (1.0 = 100%, what 100% means is what some
 other codec means by it, can't remember which OTOMH).
 Is LAME breaking the convention?
 https://trac.ffmpeg.org/wiki/Encoding%20VBR%20%28Variable%20Bit%20Rate%29%20mp3%20audio



 > However, you can get (I think) a similar result by specifying both -q:a
 and -b:a, like so:
 >
 > {{{
 > ffmpeg -i somefile.flac -c:a aac -b:a 256k -q:a 1 -strict experimental
 somefile.aac
 > }}}
 >
 > Although that seldom gives you 256k. The bitrate there is like a lower
 bound (aim for 256k, spend more if needed).
 Thank you for the info. Your behavior seems much like the cvbr(most used
 mode), Apple iTunes.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:170>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 20:48:41 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 18:48:41 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.80e0f18161f4f04c9459c5e432623956@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Replying to [comment:170 Kamedo2]:
 > > > Then, search a number of q that have the desired bitrate. Then, make
 sure that average tested sample bitrate isn't very far from the "standard"
 bitrate.
 > >
 > > Just '''how''' do you check bit rate? Because I've noticed {{{ffmpeg
 -i file}}} tends to give bogus rates when used on VBR-encoded files (not
 even average).
 > {{{filesize[Byte]*8/Sample_length[Sec]}}}, But be careful of very short
 files, it can be bogus too.

 As long as you're not also estimating sample_length with ffmpeg, which
 will also give you bogus, it should be fine ;)

 > > > Also, I think it's beneficial for the end users to set the -q:a
 value and typically gets a file with the bitrate around the set value. If
 one sets -q:a 256k, one gets a file of roughly 256kbps.
 > >
 > > That's not doable without refactoring ffmpeg. -q:a sets the
 global_quality parameter, which is specified to have a somewhat
 standardized interpretation (1.0 = 100%, what 100% means is what some
 other codec means by it, can't remember which OTOMH).
 > Is LAME breaking the convention?
 >
 https://trac.ffmpeg.org/wiki/Encoding%20VBR%20%28Variable%20Bit%20Rate%29%20mp3%20audio

 I think so. At least, it seems to be backwards (higher q should mean
 higher quality, but lame does it backwards).

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:171>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 23 21:30:52 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 19:30:52 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.1272a9b2fdd3f179ddd684b132d3e2e0@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 libvorbis and libfaac break the convention, too. neroAacEnc.exe have the
 float quality value which 0 is lowest and 1 is highest, so if unchanged,
 the native encoder acts much like the nero.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:172>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 24 00:00:11 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 22:00:11 -0000
Subject: [FFmpeg-trac] #2909(avcodec:new): Make dvbsubs more compliant
 among stb's
In-Reply-To: <036.61e3e9cf0f093852a5ff5189282849a7@avcodec.org>
References: <036.61e3e9cf0f093852a5ff5189282849a7@avcodec.org>
Message-ID: <051.be59f00d2d1d95f4bf51d6ea3a1c209c@avcodec.org>

#2909: Make dvbsubs more compliant among stb's
-------------------------------------+-----------------------------------
             Reporter:  tommy2d      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  normal       |                Component:  avcodec
              Version:  1.2.2        |               Resolution:
             Keywords:  dvbsub       |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by tommy2d):

 Thank you for the code quotations. I based the pseudo-diff on my checkout
 of ffmpeg 1.3, and the code can indeed be found in dvbsub.c like you
 mentioned.

 I will try to write a patch against the current ffmpeg codebase as soon as
 I have the time to do so. This will most likely be after the
 aforementioned project is finished. Furthermore, I think I will be needing
 some assistance incorporating some of the more advanced features I
 mentioned. Especially those that require somewhat 'external' information
 about the encoding settings, such as video resolution and PAR/SAR.

 If somebody else is willing to do some coding on the dvb subtitle encoder
 in the meanwhile, I will be more than happy to clarify the six todo's I
 mentioned in my initial post:).

 I did not mean to state that ffmpeg is is not useable for broadcasting
 purposes. What I actually meant is that the specific inner workings of the
 muxer did not suit our needs. Needless to say, ffmpeg is awesome:)!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2909#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 24 00:47:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 22:47:45 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.4a08158209c0680846bd671068ba8e13@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Timothy_Gu):

 Replying to [comment:170 Kamedo2]:

 > > > Also, I think it's beneficial for the end users to set the -q:a
 value and typically gets a file with the bitrate around the set value. If
 one sets -q:a 256k, one gets a file of roughly 256kbps.
 > >
 > > That's not doable without refactoring ffmpeg. -q:a sets the
 global_quality parameter, which is specified to have a somewhat
 standardized interpretation (1.0 = 100%, what 100% means is what some
 other codec means by it, can't remember which OTOMH).
 > Is LAME breaking the convention?
 >
 https://trac.ffmpeg.org/wiki/Encoding%20VBR%20%28Variable%20Bit%20Rate%29%20mp3%20audio
 >
 >
 >
 > > However, you can get (I think) a similar result by specifying both
 -q:a and -b:a, like so:
 > >
 > > {{{
 > > ffmpeg -i somefile.flac -c:a aac -b:a 256k -q:a 1 -strict experimental
 somefile.aac
 > > }}}
 > >
 > > Although that seldom gives you 256k. The bitrate there is like a lower
 bound (aim for 256k, spend more if needed).
 > Thank you for the info. Your behavior seems much like the cvbr(most used
 mode), Apple iTunes.

 If someone is to implement cvbr, I suggest to do it like the libopus
 encoder wrapper, where users are allowed to choose a "vbr" option like
 this [http://ffmpeg.org/ffmpeg-codecs.html#Option-Mapping].

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:173>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 24 01:08:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 23:08:49 -0000
Subject: [FFmpeg-trac] #2909(avcodec:new): Make dvbsubs more compliant
 among stb's
In-Reply-To: <036.61e3e9cf0f093852a5ff5189282849a7@avcodec.org>
References: <036.61e3e9cf0f093852a5ff5189282849a7@avcodec.org>
Message-ID: <051.878f4206757ca7d878bc4f584f84cda6@avcodec.org>

#2909: Make dvbsubs more compliant among stb's
-------------------------------------+-----------------------------------
             Reporter:  tommy2d      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  normal       |                Component:  avcodec
              Version:  1.2.2        |               Resolution:
             Keywords:  dvbsub       |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by kierank):

 Reserved bits in DVB should be set to 1, so your first point is weird. I
 appreciate though that there are some very bad implementations that expect
 them to be 0.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2909#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 24 01:11:57 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 23:11:57 -0000
Subject: [FFmpeg-trac] #2909(avcodec:new): Make dvbsubs more compliant
 among stb's
In-Reply-To: <036.61e3e9cf0f093852a5ff5189282849a7@avcodec.org>
References: <036.61e3e9cf0f093852a5ff5189282849a7@avcodec.org>
Message-ID: <051.767743938f1089fcaf87b27277b334fc@avcodec.org>

#2909: Make dvbsubs more compliant among stb's
-------------------------------------+-----------------------------------
             Reporter:  tommy2d      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  normal       |                Component:  avcodec
              Version:  1.2.2        |               Resolution:
             Keywords:  dvbsub       |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by tommy2d):

 Replying to [comment:6 kierank]:
 > Reserved bits in DVB should be set to 1, so your first point is weird. I
 appreciate though that there are some very bad implementations that expect
 them to be 0.

 Can you point where exactly in the spec it says they should be set to 1?
 From what I understand, it shouldn't matter how they are set. Setting them
 to 0 however fixes them for all STB's I tested with.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2909#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 24 01:51:21 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 23 Sep 2013 23:51:21 -0000
Subject: [FFmpeg-trac] #738(avcodec:closed): libavcodec cannot be built
 if configured with "--disable-optimizations"
In-Reply-To: <035.25628dadac6674990b2c021ce6e00dba@avcodec.org>
References: <035.25628dadac6674990b2c021ce6e00dba@avcodec.org>
Message-ID: <050.c853f8611d56825aaadf0a55a80f7b32@avcodec.org>

#738: libavcodec cannot be built if configured with "--disable-optimizations"
------------------------------------+-----------------------------------
             Reporter:  Andrew      |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  minor       |                Component:  avcodec
              Version:  git-master  |               Resolution:  fixed
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-----------------------------------

Comment (by rogerdpack):

 (--disable-postproc helped it avoid the other error he mentioned "error:
 can?t find a register in class ?GENERAL_REGS? while reloading ?asm?")
 FWIW.  I haven't run into this for quite awhile and so  appreciate the
 fix.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/738#comment:10>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 24 06:24:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 24 Sep 2013 04:24:32 -0000
Subject: [FFmpeg-trac] #2891(undetermined:closed): 2013 Autumn Website
 Art Contest
In-Reply-To: <035.68e5a1b803c933a51e127b6c9cc4b1e1@avcodec.org>
References: <035.68e5a1b803c933a51e127b6c9cc4b1e1@avcodec.org>
Message-ID: <050.f1012f738143f931cedab7fbf854e44c@avcodec.org>

#2891: 2013 Autumn Website Art Contest
-------------------------------------+-------------------------------------
             Reporter:  beastd       |                    Owner:
                 Type:  art          |                   Status:  closed
             Priority:  minor        |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:  completed
             Blocking:               |  (art)
Analyzed by developer:  0            |               Blocked By:
                                     |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
Changes (by beastd):

 * status:  open => closed
 * resolution:   => completed (art)


Comment:

 My entry won on ffmpeg-devel mailing list with one vote for it (not mine)
 and no votes against.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2891#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 24 12:26:59 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 24 Sep 2013 10:26:59 -0000
Subject: [FFmpeg-trac] #2909(avcodec:new): Make dvbsubs more compliant
 among stb's
In-Reply-To: <036.61e3e9cf0f093852a5ff5189282849a7@avcodec.org>
References: <036.61e3e9cf0f093852a5ff5189282849a7@avcodec.org>
Message-ID: <051.d09b00f08e2bba3cd8408ca6f7aca3f5@avcodec.org>

#2909: Make dvbsubs more compliant among stb's
-------------------------------------+-----------------------------------
             Reporter:  tommy2d      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  normal       |                Component:  avcodec
              Version:  1.2.2        |               Resolution:
             Keywords:  dvbsub       |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-----------------------------------

Comment (by kierank):

 It doesn't mention it in that document but in other DVB documents you are
 told to set reserved bits to 1. This is what I assume the original author
 did.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2909#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 24 15:55:15 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 24 Sep 2013 13:55:15 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.6f433009aadffd5cd88216aa612a82dc@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 > If someone is to implement cvbr, I suggest to do it like the libopus
 encoder wrapper, where users are allowed to choose a "vbr" option like
 this [http://ffmpeg.org/ffmpeg-codecs.html#Option-Mapping].
 Timothy_Gu, Thank you for the informative link. I'd like to use options
 like -b:a 256k -vbr.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:174>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 24 16:22:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 24 Sep 2013 14:22:49 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.77dedc28164d9127a36309ed7ea9f994@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 > However, you can get (I think) a similar result by specifying both -q:a
 and -b:a, like so:
 >
 > {{{
 > ffmpeg -i somefile.flac -c:a aac -b:a 256k -q:a 1 -strict experimental
 somefile.aac
 > }}}
 >
 > Although that seldom gives you 256k. The bitrate there is like a lower
 bound (aim for 256k, spend more if needed).

 I tried it over 128 different songs and the result was:

 {{{-b:a 256k -q:a 1}}}
 - Average 247kbps
 - SD +/-33kbps
 - Min 161kbps
 - Max 300kbps
 {{{-q:a 1}}}
 - Average 235kbps
 - SD +/-30kbps
 - Min 154kbps
 - Max 287kbps

 (comment:160 change is not applied in this test.)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:175>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 24 17:06:29 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 24 Sep 2013 15:06:29 -0000
Subject: [FFmpeg-trac] #2970(avcodec:open): White line in top macroblock
 of dvvideo
In-Reply-To: <036.b589087f9670691337a7f2ab736140a3@avcodec.org>
References: <036.b589087f9670691337a7f2ab736140a3@avcodec.org>
Message-ID: <051.d09a46262a7d3f487c2f743d8fa855b4@avcodec.org>

#2970: White line in top macroblock of dvvideo
------------------------------------+-----------------------------------
             Reporter:  cehoyos     |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  avcodec
              Version:  git-master  |               Resolution:
             Keywords:  dvvideo     |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1


Comment:

 QT 10.2 plays the sample without the white line.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2970#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Tue Sep 24 23:04:36 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 24 Sep 2013 21:04:36 -0000
Subject: [FFmpeg-trac] #2959(avfilter:new): filter line using only one
 core (need frame multithreading)
In-Reply-To: <036.9b10619f7213b9bd98def4eded6a7e5d@avcodec.org>
References: <036.9b10619f7213b9bd98def4eded6a7e5d@avcodec.org>
Message-ID: <051.9bd78618e83ddd8f3c7f5cde6d552540@avcodec.org>

#2959: filter line using only one core (need frame multithreading)
-------------------------------------+------------------------------------
             Reporter:  chronek      |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avfilter
              Version:  git-master   |               Resolution:
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by chronek):

 i do not know if it is a good implementation , cause i am not a programist
 and i do not compile ffmpeg self, so can't check if it would help me , if
 it is not in official version it means it is not complete

 I was thought of something like when call filter if it can operate on
 single frame it will buffor x frames , and run x threads each filtering
 one frame, so like:

 {{{
 source -> buffor -> filter1 -> filter2 -> buffor -> output
                  -> filter1 -> filter2 ->
                  -> filter1 -> filter2 ->
 }}}

 but not every filter can operate on sigle frame so maybe better would be :

 {{{
 source -> buffor -> filter1 -> buffor -> filter2 -> buffor -> filter3 ->
 buffor -> output
                  -> filter1 ->                             -> filter3 ->
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2959#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 00:17:08 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 24 Sep 2013 22:17:08 -0000
Subject: [FFmpeg-trac] #2945(avformat:closed): Support remuxing
 mpeg2video into mxf-d10
In-Reply-To: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
References: <035.5601dcb097f6f4f265f774ffccb7b9f1@avcodec.org>
Message-ID: <050.60def22eda87b461a78e21144748abbc@avcodec.org>

#2945: Support remuxing mpeg2video into mxf-d10
-------------------------------------+-------------------------------------
             Reporter:  ortoni       |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:  fixed
             Keywords:  mxf          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by ortoni):

 Thank you agin for looking at this cehoyos, much appreciated!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2945#comment:10>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 00:32:05 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 24 Sep 2013 22:32:05 -0000
Subject: [FFmpeg-trac] #2972(avcodec:open): g2m4: trashed mouse pointer
In-Reply-To: <038.bacab006ef408f765297917ae1c3845b@avcodec.org>
References: <038.bacab006ef408f765297917ae1c3845b@avcodec.org>
Message-ID: <053.22cd73641f46e5fb3accd0ac44d62617@avcodec.org>

#2972: g2m4: trashed mouse pointer
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  g2m4         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by michael):

 Fixed in c88ac1e0233f34582312dc617261b9270b61df19

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2972#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 00:32:15 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 24 Sep 2013 22:32:15 -0000
Subject: [FFmpeg-trac] #2972(avcodec:closed): g2m4: trashed mouse pointer
In-Reply-To: <038.bacab006ef408f765297917ae1c3845b@avcodec.org>
References: <038.bacab006ef408f765297917ae1c3845b@avcodec.org>
Message-ID: <053.dca618923fda34adf6e56be1691351f9@avcodec.org>

#2972: g2m4: trashed mouse pointer
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  g2m4         |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2972#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 00:50:36 2013
From: trac at avcodec.org (FFmpeg)
Date: Tue, 24 Sep 2013 22:50:36 -0000
Subject: [FFmpeg-trac] #2990(undetermined:closed): floating exception
 with ffmpeg
In-Reply-To: <038.bdafe302a66173b278e82631f9ef7381@avcodec.org>
References: <038.bdafe302a66173b278e82631f9ef7381@avcodec.org>
Message-ID: <053.cf08a91da07ef87354cd1541805270b4@avcodec.org>

#2990: floating exception with ffmpeg
-------------------------------------+-------------------------------------
             Reporter:  richardpl    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  crash fpe    |               Resolution:  fixed
  regression                         |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in bb4b041df351e49a0fa16007fb4505adea0836d8

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2990#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 02:19:21 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 00:19:21 -0000
Subject: [FFmpeg-trac] #2978(avcodec:closed): png: deadlock with fuzzed
 file
In-Reply-To: <038.bc5b436642a76976ceb7db7612bbf5d8@avcodec.org>
References: <038.bc5b436642a76976ceb7db7612bbf5d8@avcodec.org>
Message-ID: <053.069bff72f0e84ba08806c3f7db568c48@avcodec.org>

#2978: png: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  png          |               Blocked By:
  deadlock regression                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in c91e905123b96efe72654f47a4ae5ecd931ef048

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2978#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 06:02:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 04:02:40 -0000
Subject: [FFmpeg-trac] #2835(avformat:open): FFMPEG created WTV files
 stop working with Microsoft Update KB2670838
In-Reply-To: <040.20144432411a1cd2a4f87a277f5cbb56@avcodec.org>
References: <040.20144432411a1cd2a4f87a277f5cbb56@avcodec.org>
Message-ID: <055.e980626640d9fc3140ab6ca9b27f47c8@avcodec.org>

#2835: FFMPEG created WTV files stop working with Microsoft Update KB2670838
-------------------------------------+------------------------------------
             Reporter:  ramitbhalla  |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  wtv          |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by ramitbhalla):

 Any update on this?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2835#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 07:40:03 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 05:40:03 -0000
Subject: [FFmpeg-trac] #2978(avcodec:closed): png: deadlock with fuzzed
 file
In-Reply-To: <038.bc5b436642a76976ceb7db7612bbf5d8@avcodec.org>
References: <038.bc5b436642a76976ceb7db7612bbf5d8@avcodec.org>
Message-ID: <053.2e4d10230076bf6ed78056f6f3b9a153@avcodec.org>

#2978: png: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  png          |               Blocked By:
  deadlock regression                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by ubitux):

 Replying to [comment:3 michael]:
 > Fixed in c91e905123b96efe72654f47a4ae5ecd931ef048

 This hash doesn't exist, it's likely
 65bf9a44d7b0295e03463fd143499ab5b85d0cb7

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2978#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 18:34:12 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 16:34:12 -0000
Subject: [FFmpeg-trac] #2988(avcodec:closed): lagarith: deadlock with
 fuzzed file
In-Reply-To: <038.97ecee800e29969d8b5e699d3ecc412e@avcodec.org>
References: <038.97ecee800e29969d8b5e699d3ecc412e@avcodec.org>
Message-ID: <053.5384e0331c672e4027ef978d27f4cd8f@avcodec.org>

#2988: lagarith: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  lagarith     |               Blocked By:
  deadlock                           |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in 45f0623ae3fabfb4be18fe3e81390e78717f3cd0

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2988#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 20:17:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 18:17:45 -0000
Subject: [FFmpeg-trac] #2987(avcodec:closed): wmapro: deadlock with
 fuzzed file
In-Reply-To: <038.275955a3f5fa097fc86eeb60816672b9@avcodec.org>
References: <038.275955a3f5fa097fc86eeb60816672b9@avcodec.org>
Message-ID: <053.d33ace9007592a6c03ba4856ec881b5d@avcodec.org>

#2987: wmapro: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  wmapro       |               Blocked By:
  deadlock regression                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in c99d27287d9bcf3cd17b27c81d4171accae5991b

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2987#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 20:21:59 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 18:21:59 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.d900fc59022eaf4cb90b9dfc34db5489@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 I'm preparing for the next listening test.
 {{{
 # Native aac patch v4 abr
 ffmpeg55212 -y -i in.wav -c:a aac -strict experimental -b:a 128k out.mp4
 ffmpeg56470 -y -i out.mp4 -c:a pcm_s32le out.32bit.wav

 # Native aac patch v5 abr
 ffmpeg56470 -y -i in.wav -c:a aac -strict experimental -b:a 128k out.mp4
 ffmpeg56470 -y -i out.mp4 -c:a pcm_s32le out.32bit.wav

 # Native aac patch v5 vbr
 ffmpeg56470 -y -i in.wav -c:a aac -strict experimental -q:a 0.3 out.mp4
 ffmpeg56470 -y -i out.mp4 -c:a pcm_s32le out.32bit.wav

 # FDK-AAC vbr 3
 ffmpeg56470 -y -i in.wav -c:a libfdk_aac -vbr 3 out.mp4
 ffmpeg56470 -y -i out.mp4 -c:a pcm_s32le out.32bit.wav

 # LAME vbr -V5
 ffmpeg55010 -y -i in.wav -c:a libmp3lame -q:a 5 out.mp3
 ffmpeg56470 -y -i out.mp3 -c:a pcm_s32le out.32bit.wav

 # FFmpeg ac3 cbr
 ffmpeg56470 -y -i in.wav -c:a ac3 -b:a 128k out.ac3
 ffmpeg56470 -y -i out.ac3 -c:a pcm_s32le out.32bit.wav
 }}}
 I thought of using float 32bit as the intermediate format, but FFmpeg's
 float pcm_f32le had the gain half of what it should be, and even after
 adjusting gain, much error(average of |lossy-original|) existed, unlike
 faad or madplay.

 This is the statistics of 25 samples I'm going to use in the test.
 ||=          =||=v4 abr=||=v5 abr=||=v5 vbr=||=FDK vbr=||=lame
 V5=||=ac3=||
 ||=25 Average=||129||129||151||122||135||128||
 ||=25 Std.Dev=||5||5||39||20||18||0||
 ||=25 Min=||107||108||89||86||87||128||
 ||=25 Max=||131||133||257||173||172||128||
 ||=Max sample||25.Reunion Blues||26.French||26.French||10.||14.||29.||
 ||=Std.Average=||128||128||127||127||130||128||
 Unit is kbps. Std.Average is the average bitrate of my large collection of
 CDs encoded.

 I've found that v5 vbr boosts bitrate in speech samples. The speech sample
 26.French was encoded in 257kbps, more than twice bitrate than the average
 bitrate of large set of diverse CD sounds. Another speech sample reached
 216kbps. It's a problem, hopefully fixed in the next v6 patch.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:176>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 20:50:28 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 18:50:28 -0000
Subject: [FFmpeg-trac]  #2992(undetermined:new): mxf: FPE with forced g772
Message-ID: <038.cee992228e933056f253dc32254d879b@avcodec.org>

#2992: mxf: FPE with forced g772
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://samples.ffmpeg.org/jpeg2000/jpeg2000_mxf_first_10mb.mxf

 {{{
 (gdb) r -acodec g722 -i v/jpeg2000_mxf_first_10mb.mxf
 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -acodec g722 -i
 v/jpeg2000_mxf_first_10mb.mxf
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mxf @ 0x910eee0] broken or empty index
 [mxf @ 0x910eee0] error getting stream index 67174400
 [jpeg2000 @ 0x9111820] unsupported marker 0xFF61 at pos 0x62
 [jpeg2000 @ 0x9111820] Invalid tpend

 Program received signal SIGFPE, Arithmetic exception.
 0x0888e96b in __divdi3 ()
 (gdb) bt
 #0  0x0888e96b in __divdi3 ()
 #1  0x081d5402 in mxf_set_audio_pts (pkt=0xbffff068, mxf=<optimized out>,
     codec=<optimized out>) at libavformat/mxfdec.c:2200
 #2  mxf_read_packet_old (pkt=<optimized out>, s=<optimized out>)
     at libavformat/mxfdec.c:2282
 #3  mxf_read_packet (s=0x910eee0, pkt=0xbffff068) at
 libavformat/mxfdec.c:2308
 #4  0x082377e7 in ff_read_packet (s=s at entry=0x910eee0,
     pkt=pkt at entry=0xbffff068) at libavformat/utils.c:658
 #5  0x0823a129 in read_frame_internal (s=s at entry=0x910eee0,
     pkt=pkt at entry=0xbffff248) at libavformat/utils.c:1316
 #6  0x0823dd65 in avformat_find_stream_info (ic=0x910eee0,
 options=0x9110a40)
     at libavformat/utils.c:2801
 #7  0x080a66b5 in open_input_file (o=o at entry=0xbffff52c,
     filename=<optimized out>) at ffmpeg_opt.c:809
 #8  0x080a4ed7 in open_files (inout=inout at entry=0x88e725b "input",
     open_file=open_file at entry=0x80a62d0 <open_input_file>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>)
     at ffmpeg_opt.c:2494
 #9  0x080ad0e9 in ffmpeg_parse_options (argc=argc at entry=5,
     argv=argv at entry=0xbffff9b4) at ffmpeg_opt.c:2531
 #10 0x080a25da in main (argc=5, argv=0xbffff9b4) at ffmpeg.c:3393
 (gdb)
 }}}

 {{{
 knoppix at Microknoppix:/media/sdb1$ valgrind --leak-check=full ffmpeg-HEAD-
 93439e8/ffmpeg_g -acodec g722 -i v/jpeg2000_mxf_first_10mb.mxf
 ==2820== Memcheck, a memory error detector
 ==2820== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
 ==2820== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
 ==2820== Command: ffmpeg-HEAD-93439e8/ffmpeg_g -acodec g722 -i
 v/jpeg2000_mxf_first_10mb.mxf
 ==2820==
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mxf @ 0x4223160] broken or empty index
 [mxf @ 0x4223160] error getting stream index 67174400
 [jpeg2000 @ 0x4237d80] unsupported marker 0xFF61 at pos 0x62
 [jpeg2000 @ 0x4237d80] Invalid tpend
 ==2820==
 ==2820== Process terminating with default action of signal 8 (SIGFPE)
 ==2820==  Integer divide by zero at address 0x643A9AF5
 ==2820==    at 0x888E964: __divdi3 (in /media/sdb1/ffmpeg-HEAD-
 93439e8/ffmpeg_g)
 ==2820==    by 0x81D5401: mxf_read_packet (mxfdec.c:2200)
 ==2820==    by 0x82377E6: ff_read_packet (utils.c:658)
 ==2820==    by 0x823A128: read_frame_internal (utils.c:1316)
 ==2820==    by 0x823DD64: avformat_find_stream_info (utils.c:2801)
 ==2820==    by 0x80A66B4: open_input_file (ffmpeg_opt.c:809)
 ==2820==    by 0x80A4ED6: open_files.isra.7 (ffmpeg_opt.c:2494)
 ==2820==    by 0x40A5E15: (below main) (libc-start.c:228)
 ==2820==
 ==2820== HEAP SUMMARY:
 ==2820==     in use at exit: 215,410 bytes in 93 blocks
 ==2820==   total heap usage: 159 allocs, 66 frees, 254,674 bytes allocated
 ==2820==
 ==2820== LEAK SUMMARY:
 ==2820==    definitely lost: 0 bytes in 0 blocks
 ==2820==    indirectly lost: 0 bytes in 0 blocks
 ==2820==      possibly lost: 0 bytes in 0 blocks
 ==2820==    still reachable: 215,410 bytes in 93 blocks
 ==2820==         suppressed: 0 bytes in 0 blocks
 ==2820== Reachable blocks (those to which a pointer was found) are not
 shown.
 ==2820== To see them, rerun with: --leak-check=full --show-reachable=yes
 ==2820==
 ==2820== For counts of detected and suppressed errors, rerun with: -v
 ==2820== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 59 from 6)
 Floating point exception
 knoppix at Microknoppix:/media/sdb1$
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2992>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 20:53:54 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 18:53:54 -0000
Subject: [FFmpeg-trac] #2993(undetermined:new): swr ssse3: invalid read with
 forced mp3adu
Message-ID: <038.96a2428a228a15d85b1a7ef64dba0d9b@avcodec.org>

#2993: swr ssse3: invalid read with forced mp3adu
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://www.datafilehost.com/d/ba6d93f1

 {{{
 knoppix at Microknoppix:/media/sdb1$ valgrind --leak-check=full ffmpeg-HEAD-
 93439e8/ffmpeg_g -acodec mp3adu -i v/vc1.wmv -loglevel 0 -vn -f null -
 ==13106== Memcheck, a memory error detector
 ==13106== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
 ==13106== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright
 info
 ==13106== Command: ffmpeg-HEAD-93439e8/ffmpeg_g -acodec mp3adu -i
 v/vc1.wmv -loglevel 0 -vn -f null -
 ==13106==
 ==13106== Invalid read of size 8
 ==13106==    at 0x881EE47: swri_resample_int16_ssse3
 (resample_template.c:122)
 ==13106==    by 0x881F61F: multiple_resample (resample.c:321)
 ==13106==    by 0x8816544: resample (swresample.c:569)
 ==13106==    by 0xB2005BF: ???
 ==13106==  Address 0xb1fe1fa is 762 bytes inside a block of size 768
 alloc'd
 ==13106==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==13106==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==13106==    by 0x8870187: av_malloc (mem.c:93)
 ==13106==    by 0x8862908: av_buffer_alloc (buffer.c:70)
 ==13106==    by 0x8863138: av_buffer_pool_get (buffer.c:305)
 ==13106==    by 0x86765E0: audio_get_buffer (utils.c:541)
 ==13106==    by 0x8678160: get_buffer_internal (utils.c:877)
 ==13106==    by 0x86786F3: ff_get_buffer (utils.c:889)
 ==13106==    by 0x85683B8: mp_decode_frame (mpegaudiodec.c:1633)
 ==13106==    by 0x85687B3: decode_frame_adu (mpegaudiodec.c:1783)
 ==13106==    by 0x867AA04: avcodec_decode_audio4 (utils.c:2137)
 ==13106==    by 0x80B5629: decode_audio (ffmpeg.c:1526)
 ==13106==
 ==13106==
 ==13106== HEAP SUMMARY:
 ==13106==     in use at exit: 0 bytes in 0 blocks
 ==13106==   total heap usage: 113,668 allocs, 113,668 frees, 72,354,488
 bytes allocated
 ==13106==
 ==13106== All heap blocks were freed -- no leaks are possible
 ==13106==
 ==13106== For counts of detected and suppressed errors, rerun with: -v
 ==13106== ERROR SUMMARY: 8 errors from 1 contexts (suppressed: 59 from 6)
 }}}


 {{{
 knoppix at Microknoppix:/media/sdb1$ valgrind --leak-check=full ffmpeg-HEAD-
 93439e8/ffmpeg_g -cpuflags -ssse3 -acodec mp3adu -i v/vc1.wmv -loglevel 0
 -vn -f null -
 ==18846== Memcheck, a memory error detector
 ==18846== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
 ==18846== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright
 info
 ==18846== Command: ffmpeg-HEAD-93439e8/ffmpeg_g -cpuflags -ssse3 -acodec
 mp3adu -i v/vc1.wmv -loglevel 0 -vn -f null -
 ==18846==
 ==18846==
 ==18846== HEAP SUMMARY:
 ==18846==     in use at exit: 0 bytes in 0 blocks
 ==18846==   total heap usage: 113,669 allocs, 113,669 frees, 72,354,512
 bytes allocated
 ==18846==
 ==18846== All heap blocks were freed -- no leaks are possible
 ==18846==
 ==18846== For counts of detected and suppressed errors, rerun with: -v
 ==18846== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 59 from 6)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2993>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 20:56:53 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 18:56:53 -0000
Subject: [FFmpeg-trac] #2994(undetermined:new): mlp: deadlock with forced
 codec
Message-ID: <038.520728a843fef40d32f40d566817e49e@avcodec.org>

#2994: mlp: deadlock with forced codec
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://samples.mplayerhq.hu/A-codecs/caf/audio1.caf

 (the last part of deadlocks found by me)

 {{{
 (gdb) r -acodec mlp -threads 1 -i v/audio1.caf -vn -f null -
 The program being debugged has been started already.
 Start it from the beginning? (y or n) y

 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -acodec mlp
 -threads 1 -i v/audio1.caf -vn -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mlp @ 0x91156c0] Stream parameters not seen; skipping frame.
     Last message repeated 46 times
 Program received signal SIGINT, Interrupt.
 0x0867890f in avcodec_get_frame_defaults (frame=0x9163e20)
     at libavcodec/utils.c:1001
 1001        memset(frame, 0, sizeof(AVFrame));
 (gdb) bt
 #0  0x0867890f in avcodec_get_frame_defaults (frame=0x9163e20)
     at libavcodec/utils.c:1001
 #1  0x08234e67 in try_decode_frame (st=st at entry=0x9115480,
     avpkt=avpkt at entry=0x9163da0, options=0x0) at libavformat/utils.c:2487
 #2  0x0823e691 in avformat_find_stream_info (ic=0x9114e80,
 options=0x9115aa0)
     at libavformat/utils.c:2936
 #3  0x080a66b5 in open_input_file (o=o at entry=0xbffff50c,
     filename=<optimized out>) at ffmpeg_opt.c:809
 #4  0x080a4ed7 in open_files (inout=inout at entry=0x88e725b "input",
     open_file=open_file at entry=0x80a62d0 <open_input_file>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>)
     at ffmpeg_opt.c:2494
 #5  0x080ad0e9 in ffmpeg_parse_options (argc=argc at entry=11,
     argv=argv at entry=0xbffff994) at ffmpeg_opt.c:2531
 #6  0x080a25da in main (argc=11, argv=0xbffff994) at ffmpeg.c:3393
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2994>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 20:58:33 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 18:58:33 -0000
Subject: [FFmpeg-trac] #2995(undetermined:new): flic: deadlock with forced
 codec
Message-ID: <038.e13d7c91204554574e810e2719484772@avcodec.org>

#2995: flic: deadlock with forced codec
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://samples.mplayerhq.hu/V-codecs/MVI2/real-3.avi

 {{{
 (gdb) r -vcodec flic -threads 1 -i v/real-3.avi -an -f null -
 The program being debugged has been started already.
 Start it from the beginning? (y or n) y

 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -vcodec flic
 -threads 1 -i v/real-3.avi -an -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Guessed Channel Layout for  Input Stream #0.1 : mono
 Input #0, avi, from 'v/real-3.avi':
   Duration: 00:00:25.76, start: 0.000000, bitrate: 1628 kb/s
     Stream #0:0: Video: flic ([0][2]i2 / 0x32690200), pal8, 320x236, 14.99
 tbr, 14.99 tbn, 14.99 tbc
     Metadata:
       title           : Motion Pixels MVI2 Codec -- Video #1
     Stream #0:1: Audio: pcm_u8 ([1][0][0][0] / 0x0001), 11025 Hz, mono,
 u8, 88 kb/s
     Metadata:
       title           : Motion Pixels MVI2 Codec -- Audio #1
 [New Thread 0xb7df8b70 (LWP 30737)]
 [New Thread 0xb75f8b70 (LWP 30756)]
 [New Thread 0xb6df8b70 (LWP 30757)]
 [New Thread 0xb65f8b70 (LWP 30758)]
 [New Thread 0xb5df8b70 (LWP 30759)]
 [New Thread 0xb55f8b70 (LWP 30760)]
 [New Thread 0xb4df8b70 (LWP 30761)]
 [New Thread 0xb45f8b70 (LWP 30762)]
 [New Thread 0xb3df8b70 (LWP 30763)]
 Output #0, null, to 'pipe:':
   Metadata:
     encoder         : Lavf55.18.100
     Stream #0:0: Video: rawvideo, pal8, 320x236, q=2-31, 200 kb/s, 90k
 tbn, 14.99 tbc
     Metadata:
       title           : Motion Pixels MVI2 Codec -- Video #1
 Stream mapping:
   Stream #0:0 -> #0:0 (flic -> rawvideo)
 Press [q] to stop, [?] for help
 [flic @ 0x9115700] Unrecognized chunk type: 0
     Last message repeated 2038 times
 [null @ 0x911aa40] Encoder did not produce proper pts, making some up.
 [flic @ 0x9115700] Invalid chunk_size = 4164419813 > frame_size = 36024
 [flic @ 0x9115700] Unrecognized chunk type: 256
 [flic @ 0x9115700] Invalid chunk_size = 3670479 > frame_size = 46276
 [flic @ 0x9115700] Unrecognized chunk type: 35712
 [flic @ 0x9115700] Processed FLI chunk where chunk size = 46712 and final
 chunk ptr = 16
 [flic @ 0x9115700] Invalid chunk_size = 1079246592 > frame_size = 744
 [flic @ 0x9115700] Unrecognized chunk type: 31230
 [flic @ 0x9115700] Invalid chunk_size = 4164420085 > frame_size = 49768
 [flic @ 0x9115700] Unrecognized chunk type: 256
 [flic @ 0x9115700] Unrecognized chunk type: 0
     Last message repeated 128855 times
 [flic @ 0x9115700] Unrecognized chunk type: 0:00.53 bitrate=N/A
     Last message repeated 64427 times
 [flic @ 0x9115700] Unrecognized chunk type: 0:00.60 bitrate=N/A
     Last message repeated 64427 times
 [flic @ 0x9115700] Unrecognized chunk type: 0:00.66 bitrate=N/A
     Last message repeated 52927 times
 Program received signal SIGINT, Interrupt.
 0xb7ef9941 in write () at ../sysdeps/unix/syscall-template.S:82
 82      ../sysdeps/unix/syscall-template.S: No such file or directory.
 (gdb) bt
 #0  0xb7ef9941 in write () at ../sysdeps/unix/syscall-template.S:82
 #1  0xb7ea06c4 in _IO_new_file_write (f=0xb7f7e560, data=0xbfffbab0, n=38)
     at fileops.c:1276
 #2  0xb7ea036f in new_do_write (fp=0xb7f7e560,
     data=0xbfffbab0 "    Last message repeated 52927 times\r\r", to_do=38)
     at fileops.c:530
 #3  0xb7ea0616 in _IO_new_file_xsputn (f=0xb7f7e560, data=0xbfffbab0,
 n=38)
     at fileops.c:1370
 #4  0xb7e786a8 in buffered_vfprintf (s=0xb7f7e560, format=<optimized out>,
     args=<optimized out>) at vfprintf.c:2310
 #5  0xb7e73833 in _IO_vfprintf_internal (s=0xb7f7e560,
     format=0x8a5f9e4 "    Last message repeated %d times\r",
     ap=0xbfffe148 "\277", <incomplete sequence \316>) at vfprintf.c:1309
 #6  0xb7e7d8df in __fprintf (stream=0xb7f7e560,
     format=format at entry=0x8a5f9e4 "    Last message repeated %d times\r")
     at fprintf.c:33
 #7  0x0886df3e in av_log_default_callback (ptr=0x9115700, level=16,
     fmt=0x8933dcf "Unrecognized chunk type: %d\n", vl=0xbffff1ac "")
     at libavutil/log.c:236
 #8  0x0886e192 in av_vlog (vl=0xbffff1ac "",
     fmt=0x8933dcf "Unrecognized chunk type: %d\n", level=<optimized out>,
     avcl=0x9115700) at libavutil/log.c:272
 #9  av_log (avcl=avcl at entry=0x9115700, level=<optimized out>,
 level at entry=16,
 ---Type <return> to continue, or q <return> to quit---
     fmt=fmt at entry=0x8933dcf "Unrecognized chunk type: %d\n")
     at libavutil/log.c:265
 #10 0x0834b35f in flic_decode_frame_8BPP (buf_size=56, buf=0x911c8a0
 "\003",
     got_frame=0xbffff4d4, data=0x9117080, avctx=0x9115700)
     at libavcodec/flicvideo.c:440
 #11 flic_decode_frame (avctx=0x9115700, data=0x9117080,
 got_frame=0xbffff4d4,
     avpkt=0xbffff278) at libavcodec/flicvideo.c:772
 #12 0x0867a55e in avcodec_decode_video2 (avctx=0x9115700,
     picture=picture at entry=0x9117080,
     got_picture_ptr=got_picture_ptr at entry=0xbffff4d4,
     avpkt=avpkt at entry=0xbffff720) at libavcodec/utils.c:1995
 #13 0x080b394d in decode_video (ist=ist at entry=0x91173a0,
     pkt=pkt at entry=0xbffff720, got_output=got_output at entry=0xbffff4d4)
     at ffmpeg.c:1668
 #14 0x080b786a in output_packet (pkt=0xbffff6b8, ist=0x91173a0)
     at ffmpeg.c:1866
 #15 process_input (file_index=2) at ffmpeg.c:3089
 #16 0x080a3043 in transcode_step () at ffmpeg.c:3185
 #17 transcode () at ffmpeg.c:3237
 #18 main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2995>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 20:59:54 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 18:59:54 -0000
Subject: [FFmpeg-trac] #2996(undetermined:new): iac: deadlock with forced
 codec
Message-ID: <038.91b5af7f340106dc17cc57fa9bf2a84d@avcodec.org>

#2996: iac: deadlock with forced codec
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://samples.mplayerhq.hu/mtv/comedian_auto.mtv

 {{{
 (gdb) r -threads 1 -acodec iac -i v/comedian_auto.mtv -vn -f null -
 The program being debugged has been started already.
 Start it from the beginning? (y or n) y

 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -threads 1
 -acodec iac -i v/comedian_auto.mtv -vn -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [iac @ 0x9115d40] frame header check failed!
 [iac @ 0x9115d40] got 1F7.
 [iac @ 0x9115d40] frame header check failed!
 [iac @ 0x9115d40] got B2.
 [iac @ 0x9115d40] frame header check failed!
 [iac @ 0x9115d40] got 53.
 [iac @ 0x9115d40] frame header check failed!
 [iac @ 0x9115d40] got AC.
 [iac @ 0x9115d40] frame header check failed!
 [iac @ 0x9115d40] got 17C.
 [iac @ 0x9115d40] frame header check failed!
 [iac @ 0x9115d40] got AA.
 [iac @ 0x9115d40] frame header check failed!
 [iac @ 0x9115d40] got 3F.
 [iac @ 0x9115d40] frame header check failed!
 [iac @ 0x9115d40] got 1FD.
 [iac @ 0x9115d40] frame header check failed!
 [iac @ 0x9115d40] got 97.
 [iac @ 0x9115d40] frame header check failed!
 [iac @ 0x9115d40] got 176.

 Program received signal SIGINT, Interrupt.
 bit_allocation (flag=0, freebits=507, stream_format_code=2, chctx=0x10,
     q=<optimized out>) at libavcodec/imc.c:555
 555                     if (++chctx->bitsBandT[found_indx] == 6)
 (gdb) bt
 #0  bit_allocation (flag=0, freebits=507, stream_format_code=2,
 chctx=0x10,
     q=<optimized out>) at libavcodec/imc.c:555
 #1  imc_decode_block (ch=0, q=0x91166a0, avctx=0x9115d40)
     at libavcodec/imc.c:954
 #2  imc_decode_frame (avctx=0x9115d40, data=0x913bb60,
     got_frame_ptr=0xbffff020, avpkt=0xbfffef98) at libavcodec/imc.c:1029
 #3  0x0867aa05 in avcodec_decode_audio4 (avctx=0x9115d40, frame=0x913bb60,
     got_frame_ptr=got_frame_ptr at entry=0xbffff020,
 avpkt=avpkt at entry=0xbffff048)
     at libavcodec/utils.c:2137
 #4  0x08234fe8 in try_decode_frame (st=st at entry=0x9115ac0,
     avpkt=avpkt at entry=0x913bac0, options=0x9115ca0) at
 libavformat/utils.c:2494
 #5  0x0823e691 in avformat_find_stream_info (ic=0x9114e60,
 options=0x9115ca0)
     at libavformat/utils.c:2936
 #6  0x080a66b5 in open_input_file (o=o at entry=0xbffff50c,
     filename=<optimized out>) at ffmpeg_opt.c:809
 #7  0x080a4ed7 in open_files (inout=inout at entry=0x88e725b "input",
     open_file=open_file at entry=0x80a62d0 <open_input_file>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>)
     at ffmpeg_opt.c:2494
 #8  0x080ad0e9 in ffmpeg_parse_options (argc=argc at entry=11,
     argv=argv at entry=0xbffff994) at ffmpeg_opt.c:2531
 #9  0x080a25da in main (argc=11, argv=0xbffff994) at ffmpeg.c:3393
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2996>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 21:01:38 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 19:01:38 -0000
Subject: [FFmpeg-trac] #2997(undetermined:new): tak: deadlock with fuzzed
 file (and max_alloc)
Message-ID: <038.2e371f700d3b6bb79add3c75ae90ff6e@avcodec.org>

#2997: tak: deadlock with fuzzed file (and max_alloc)
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://www.datafilehost.com/d/ba6d93f1

 {{{
 (gdb) r -max_alloc 5500000 -threads 1 -acodec tak -i v/vc1.wmv -vn -f null
 -
 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -max_alloc
 5500000 -threads 1 -acodec tak -i v/vc1.wmv -vn -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Guessed Channel Layout for  Input Stream #0.1 : stereo
 Input #0, asf, from 'v/vc1.wmv':
   Metadata:
     WMFSDKNeeded    : 0.0.0.0000
     DeviceConformanceTemplate: N1
     WM/WMADRCPeakReference: 32734
     WM/WMADRCPeakTarget: 32734
     WM/WMADRCAverageReference: 2710
     WM/WMADRCAverageTarget: 2710
     WMFSDKVersion   : 10.00.00.4054
     IsVBR           : 1
   Duration: 00:02:51.79, bitrate: 1112 kb/s
     Stream #0:0(eng): Video: vc1 (Advanced) (WMVA / 0x41564D57), yuv420p,
 160x120, 571 kb/s, 24 tbr, 1k tbn, 1k tbc
     Stream #0:1(eng): Audio: tak (c[1][0][0] / 0x0163), 44100 Hz, stereo,
 s16p, 677 kb/s
 [New Thread 0xb7d3cb70 (LWP 21474)]
 [New Thread 0xb753cb70 (LWP 21475)]
 [New Thread 0xb6d3cb70 (LWP 21476)]
 [New Thread 0xb653cb70 (LWP 21477)]
 [New Thread 0xb5d3cb70 (LWP 21478)]
 [New Thread 0xb553cb70 (LWP 21479)]
 [New Thread 0xb4d3cb70 (LWP 21480)]
 [New Thread 0xb453cb70 (LWP 21481)]
 [New Thread 0xb3d3cb70 (LWP 21482)]
 Output #0, null, to 'pipe:':
   Metadata:
     WMFSDKNeeded    : 0.0.0.0000
     DeviceConformanceTemplate: N1
     WM/WMADRCPeakReference: 32734
     WM/WMADRCPeakTarget: 32734
     WM/WMADRCAverageReference: 2710
     WM/WMADRCAverageTarget: 2710
     WMFSDKVersion   : 10.00.00.4054
     IsVBR           : 1
     encoder         : Lavf55.18.100
     Stream #0:0(eng): Audio: pcm_s16le, 44100 Hz, stereo, s16, 1411 kb/s
 Stream mapping:
   Stream #0:1 -> #0:0 (tak -> pcm_s16le)
 Press [q] to stop, [?] for help

 Program received signal SIGINT, Interrupt.
 0x085bba92 in ff_combine_frame (pc=pc at entry=0x911ccc0, next=<optimized
 out>,
     next at entry=-100, buf=buf at entry=0xbffff034,
     buf_size=buf_size at entry=0xbffff030) at libavcodec/parser.c:279
 279     }
 (gdb) bt
 #0  0x085bba92 in ff_combine_frame (pc=pc at entry=0x911ccc0,
     next=<optimized out>, next at entry=-100, buf=buf at entry=0xbffff034,
     buf_size=buf_size at entry=0xbffff030) at libavcodec/parser.c:279
 #1  0x08658b89 in tak_parse (s=0x911cb40, avctx=0x9116500,
 poutbuf=0xbffff184,
     poutbuf_size=0xbffff188,
     buf=0x9109b08
 "\220??\024QF\371\371\063$\365\222\351\335\063d\005`{\034\373\360\252JZXzv&1\340~\016\244??\203x\fE\363N\360\061\263\n\204/:\373\240pxZ\272\204B\327\325\062\225\345%\267S\241\247\257\342\361r7\353iqh\003S\273\024pnRW\250}\320\t\r\035\322a\037h\026{\237\227\"\313:\037\214??(\273!!\371\215.l\251\336??\vx??\032\207\071\376\024{\032\033\006\016\334s\234\366lj\345v\t+?\214\260>\027\241\016\356Y\374\031\374ut\263f
 z\331q\\\207\062qU???\027H\375\307\370\313k\310\305\361'\236\267#O\203\b7kx'\325\033\063jj:\373O\336",
 <incomplete sequence \371>..., buf_size=13375) at
 libavcodec/tak_parser.c:64
 #2  0x085bb430 in av_parser_parse2 (s=0x911cb40, avctx=0x9116500,
     poutbuf=poutbuf at entry=0xbffff184,
     poutbuf_size=poutbuf_size at entry=0xbffff188,
     buf=buf at entry=0x9109b08
 "\220??\024QF\371\371\063$\365\222\351\335\063d\005`{\034\373\360\252JZXzv&1\340~\016\244??\203x\fE\363N\360\061\263\n\204/:\373\240pxZ\272\204B\327\325\062\225\345%\267S\241\247\257\342\361r7\353iqh\003S\273\024pnRW\250}\320\t\r\035\322a\037h\026{\237\227\"\313:\037\214??(\273!!\371\215.l\251\336??\vx??\032\207\071\376\024{\032\033\006\016\334s\234\366lj\345v\t+?\214\260>\027\241\016\356Y\374\031\374ut\263f
 z\331q\\\207\062qU???\027H\375\307\370\313k\310\305\361'\236\267#O\203\b7kx'\325\033\063jj:\373O\336",
 <incomplete seque---Type <return> to continue, or q <return> to quit---
 nce \371>..., buf_size=buf_size at entry=13375, pts=-9223372036854775808,
     dts=-9223372036854775808, pos=-1) at libavcodec/parser.c:155
 #3  0x08239551 in parse_packet (s=s at entry=0x9114ea0,
 pkt=pkt at entry=0xbffff318,
     stream_index=<optimized out>) at libavformat/utils.c:1201
 #4  0x0823a48d in read_frame_internal (s=s at entry=0x9114ea0,
     pkt=pkt at entry=0xbffff6c8) at libavformat/utils.c:1379
 #5  0x0823ad6a in av_read_frame (s=0x9114ea0, pkt=pkt at entry=0xbffff6c8)
     at libavformat/utils.c:1420
 #6  0x080b6eb6 in get_input_packet (pkt=0xbffff6a8, f=0x911ad20)
     at ffmpeg.c:2878
 #7  process_input (file_index=0) at ffmpeg.c:2915
 #8  0x080a3043 in transcode_step () at ffmpeg.c:3185
 #9  transcode () at ffmpeg.c:3237
 #10 main (argc=<optimized out>, argv=<optimized out>) at ffmpeg.c:3415
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2997>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 21:08:12 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 19:08:12 -0000
Subject: [FFmpeg-trac] #2998(undetermined:new): aac: maybe integer overflow
Message-ID: <038.f7f76086b221e357e24e8f19d297123b@avcodec.org>

#2998: aac: maybe integer overflow
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 please run this command:

 {{{
 zzuf -M2000 -c -s8548 -r0.000001:0.6 -S -b9000-25000000 ffmpeg -max_alloc
 4000000 -i rv10.rm -f null -
 }}}

 and tell me if it's a bug of ffmpeg (integer overflow or such) or bug of
 valgrind.

 signal 9 doesn't occure at every time (please run zzuf a few times to
 reproduce this)

 I have seen more of similar cases while fuzzing various files.

 {{{
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, rm, from 'v2/rv10.rm':
   Metadata:
     title           :
     author          :
     copyright       :
     comment         :
     ASMRuleBook     : #($Bandwidth >= 0),Stream1Bandwidth = 320000,
 Stream0Bandwidth = 1024000;
     Creation Date   : 4/20/2012 16:42:50
     Generated By    : Helix Producer SDK 13.1 for Windows, Build
 13.1.1.3436
     Modification Date: 4/20/2012 16:42:50
   Duration: 00:00:12.68, start: 0.000000, bitrate: 1315 kb/s
     Stream #0:0: Video: rv40 (RV40 / 0x30345652), yuv420p, 320x240, 1024
 kb/s, 15 fps, 15 tbr, 1k tbn, 1k tbc
     Stream #0:1: Audio: aac (raac / 0x63616172), 44100 Hz, stereo, fltp,
 320 kb/s
 Output #0, null, to 'pipe:':
   Metadata:
     title           :
     author          :
     copyright       :
     comment         :
     ASMRuleBook     : #($Bandwidth >= 0),Stream1Bandwidth = 320000,
 Stream0Bandwidth = 1024000;
     Creation Date   : 4/20/2012 16:42:50
     Generated By    : Helix Producer SDK 13.1 for Windows, Build
 13.1.1.3436
     Modification Date: 4/20/2012 16:42:50
     encoder         : Lavf55.18.100
     Stream #0:0: Video: rawvideo (I420 / 0x30323449), yuv420p, 320x240,
 q=2-31, 200 kb/s, 90k tbn, 15 tbc
     Stream #0:1: Audio: pcm_s16le, 44100 Hz, stereo, s16, 1411 kb/s
 Stream mapping:
   Stream #0:0 -> #0:0 (rv40 -> rawvideo)
   Stream #0:1 -> #0:1 (aac -> pcm_s16le)
 Press [q] to stop, [?] for help
 [rv40 @ 0x911f800] First slice header is incorrect
 [rv40 @ 0x91148a0] Context scratch buffers could not be allocated due to
 unknown size.
 [rv40 @ 0x91148a0] First slice header is incorrect
 DTS 1141407872, next:188219 st:1 invalid dropping
 PTS 1141407872, next:188219 invalid dropping st:1
 [aac @ 0x911b5e0] SSR is not implemented. Update your FFmpeg version to
 the newest one from Git. If the problem still occurs, it means that your
 file has a feature which has not been implemented.
 [aac @ 0x911b5e0] If you want to help, upload a sample of this file to
 ftp://upload.ffmpeg.org/MPlayer/incoming/ and contact the ffmpeg-devel
 mailing list.
 Error while decoding stream #0:1: Not yet implemented in FFmpeg, patches
 welcome
 DTS 1141407895, next:188219 st:1 invalid dropping
 PTS 1141407895, next:188219 invalid dropping st:1
 [aac @ 0x911b5e0] Reserved bit set.
 Error while decoding stream #0:1: Invalid data found when processing input
 DTS 1141407918, next:188219 st:1 invalid dropping
 PTS 1141407918, next:188219 invalid dropping st:1
 [aac @ 0x911b5e0] channel element 2.0 is not allocated
 Error while decoding stream #0:1: Invalid data found when processing input
 DTS 1141407941, next:188219 st:1 invalid dropping
 PTS 1141407941, next:188219 invalid dropping st:1
 [aac @ 0x911b5e0] channel element 2.14 is not allocated
 Error while decoding stream #0:1: Invalid data found when processing input
 DTS 1141407964, next:188219 st:1 invalid dropping
 PTS 1141407964, next:188219 invalid dropping st:1
 [aac @ 0x911b5e0] Reserved bit set.
 Error while decoding stream #0:1: Invalid data found when processing input
 DTS 1141407987, next:188219 st:1 invalid dropping
 PTS 1141407987, next:188219 invalid dropping st:1
 [aac @ 0x911b5e0] Sample rate index in program config element does not
 match the sample rate index configured by the container.
 zzuf[s=8548,r=1e-06:0.6]: signal 9 (memory exceeded?)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2998>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 21:18:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 19:18:32 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.ada199c197322b535ceeadd7c98e74f5@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Wait a little bit, I'll get you the v6 patch asap, even if not as clean as
 I'd like it to be.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:177>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 21:20:38 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 19:20:38 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.565d9dcb4b7b0b7bb4b2a9d29bd35851@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Yes, the speech bug I noticed, because VBR was unconstrained. v6 uses
 constained VBR (loosely constrained) and performs much better. That's why
 I'd prefer you tested v6.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:178>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 21:51:43 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 19:51:43 -0000
Subject: [FFmpeg-trac] #2995(avcodec:closed): flic: deadlock with forced
 codec
In-Reply-To: <038.e13d7c91204554574e810e2719484772@avcodec.org>
References: <038.e13d7c91204554574e810e2719484772@avcodec.org>
Message-ID: <053.207b1e40b7d60dc1022c659207a85300@avcodec.org>

#2995: flic: deadlock with forced codec
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  important   |                Component:  avcodec
              Version:  git-master  |               Resolution:  fixed
             Keywords:  deadlock    |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by richardpl):

 * status:  new => closed
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => deadlock
 * resolution:   => fixed


Comment:

 Fixed in f5498ef38daa541f03b9c8d3985579394c8407e5.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2995#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Wed Sep 25 22:01:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Wed, 25 Sep 2013 20:01:40 -0000
Subject: [FFmpeg-trac] #2979(avcodec:closed): wmalossless: deadlock with
 fuzzed file
In-Reply-To: <038.8f328ee3c9b8c77cbaf571ff8dbd191e@avcodec.org>
References: <038.8f328ee3c9b8c77cbaf571ff8dbd191e@avcodec.org>
Message-ID: <053.f4fd4334eef77e47961a49932c645ff8@avcodec.org>

#2979: wmalossless: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  wmalossless  |               Blocked By:
  deadlock                           |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in 851a6e2f1aee6b254dd5155a358955c19926087a

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2979#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 03:13:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 01:13:45 -0000
Subject: [FFmpeg-trac] #2999(avcodec:new): FFmpeg crashes on decoding H.264
 MP4 file
Message-ID: <038.93f367041852afab54676d093620f500@avcodec.org>

#2999: FFmpeg crashes on decoding H.264 MP4 file
--------------------------------------+---------------------------------
               Reporter:  mbradshaw   |                  Owner:
                   Type:  defect      |                 Status:  new
               Priority:  normal      |              Component:  avcodec
                Version:  git-master  |               Keywords:
             Blocked By:              |               Blocking:
Reproduced by developer:  0           |  Analyzed by developer:  0
--------------------------------------+---------------------------------
 Summary of the bug:
 Simply running: `ffmpeg -i hunger.mp4 -vn out.wav`
 results in: `Segmentation fault: 11`

 Sample source file (33MB):
 https://googledrive.com/host/0BxWx_dIBnyRoN2cxT1ZOaEhOUnc/hunger.mp4

 Operating System:
 OS X 10.8.5

 How to reproduce (here's the result of running it in gdb):
 {{{
 $ gdb ./ffmpeg
 GNU gdb (GDB) 7.6.1
 Copyright (C) 2013 Free Software Foundation, Inc.
 License GPLv3+: GNU GPL version 3 or later
 <http://gnu.org/licenses/gpl.html>
 This is free software: you are free to change and redistribute it.
 There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
 and "show warranty" for details.
 This GDB was configured as "x86_64-apple-darwin12.4.0".
 For bug reporting instructions, please see:
 <http://www.gnu.org/software/gdb/bugs/>...
 Reading symbols from /Users/mjbshaw/Projects/ffmpeg/ffmpeg...done.
 (gdb) run -i hunger.mp4 -vn out.wav
 Starting program: /Users/mjbshaw/Projects/ffmpeg/./ffmpeg -i hunger.mp4
 -vn out.wav
 BFD:
 /System/Library/Frameworks/CFNetwork.framework/Versions/A/CFNetwork(i386:x86-64):
 unknown load command 0x20
 ffmpeg version N-56663-g851a6e2 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 25 2013 18:57:30 with llvm-gcc 4.2.1 (LLVM build
 2336.11.00)
   configuration: --enable-debug=gdb --disable-optimizations --disable-
 stripping --enable-libopenjpeg --disable-decoder=jpeg2000
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103

 Program received signal SIGSEGV, Segmentation fault.
 0x00000001004d8b3b in refill2 (c=0x101cf5ed0) at
 /Users/mjbshaw/Projects/ffmpeg/libavcodec/cabac_functions.h:73
 73              x+= (c->bytestream[0]<<9) + (c->bytestream[1]<<1);
 (gdb) bt
 #0  0x00000001004d8b3b in refill2 (c=0x101cf5ed0) at
 /Users/mjbshaw/Projects/ffmpeg/libavcodec/cabac_functions.h:73
 #1  0x00000001004d8ce7 in get_cabac_inline (c=0x101cf5ed0,
 state=0x101cf5f6a
 "\027%\004\v#\025-\001#\035\031==?A*\001\n%\001\037\023\031\021-\037;\034\023\001/#\t\017\002\016\004")
     at /Users/mjbshaw/Projects/ffmpeg/libavcodec/cabac_functions.h:101
 #2  get_cabac_noinline (c=0x101cf5ed0, state=0x101cf5f6a
 "\027%\004\v#\025-\001#\035\031==?A*\001\n%\001\037\023\031\021-\037;\034\023\001/#\t\017\002\016\004")
 at h264_cabac.c:107
 #3  0x00000001004e0a22 in decode_cabac_mb_cbp_luma (h=0x101ca0000) at
 h264_cabac.c:1403
 #4  0x00000001004f28e4 in ff_h264_decode_mb_cabac (h=0x101ca0000) at
 h264_cabac.c:2286
 #5  0x00000001004d5e1a in decode_slice (avctx=0x102013800,
 arg=0x7fff5fbfe7c8) at h264.c:4434
 #6  0x00000001004d691d in execute_decode_slices (h=0x101ca0000,
 context_count=1) at h264.c:4590
 #7  0x00000001004d7cd5 in decode_nal_units (h=0x101ca0000, buf=0x1019138b0
 "", buf_size=214, parse_extradata=0) at h264.c:4942
 #8  0x00000001004d84c0 in decode_frame (avctx=0x102013800,
 data=0x101913a40, got_frame=0x7fff5fbfec44, avpkt=0x7fff5fbfeac0) at
 h264.c:5079
 #9  0x00000001008f4d43 in avcodec_decode_video2 (avctx=0x102013800,
 picture=0x101913a40, got_picture_ptr=0x7fff5fbfec44, avpkt=0x7fff5fbfebb8)
 at utils.c:1994
 #10 0x0000000100238ff9 in try_decode_frame (st=0x1019115c0,
 avpkt=0x1019139a0, options=0x101911be0) at utils.c:2484
 #11 0x000000010023b623 in avformat_find_stream_info (ic=0x10200f200,
 options=0x101911be0) at utils.c:2930
 #12 0x0000000100004ad2 in open_input_file (o=0x7fff5fbff558,
 filename=0x7fff5fbffbf3 "hunger.mp4") at ffmpeg_opt.c:809
 #13 0x000000010000e3dd in open_files (l=0x101910958, inout=0x100d9935f
 "input", open_file=0x100004160 <open_input_file>) at ffmpeg_opt.c:2494
 #14 0x000000010000e619 in ffmpeg_parse_options (argc=5,
 argv=0x7fff5fbffa78) at ffmpeg_opt.c:2531
 #15 0x00000001000235cd in main (argc=5, argv=0x7fff5fbffa78) at
 ffmpeg.c:3393
 (gdb) p c
 $1 = (CABACContext *) 0x101cf5ed0
 (gdb) p c->bytestream
 $2 = (uint8_t *) 0x1ff0a <Address 0x1ff0a out of bounds>
 (gdb) p *c
 $3 = {low = -1643708416, range = 292, outstanding_count = 0,
 bytestream_start = 0x101d0f003 "\343\205\035Y", bytestream = 0x1ff0a
 <Address 0x1ff0a out of bounds>,
   bytestream_end = 0x101d0f0a4 "", pb = {bit_buf = 0, bit_left = 0, buf =
 0x0, buf_ptr = 0x0, buf_end = 0x0, size_in_bits = 0}}
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2999>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 05:46:23 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 03:46:23 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.b7a000dc89dd642bee38bd26913ed9e0@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 So... latest patch attached. It's not final yet, mostly because it needs
 some polish. But its performance I find quite acceptable.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:179>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 06:36:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 04:36:49 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.ee941f9601871826b3dc585e3666d01d@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 Thank you. I'm successifully encoding. An extensive stability test is
 ongoing. I noticed that same -q:a results in almost half of the size of
 the -q:a in v4.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:180>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 07:35:17 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 05:35:17 -0000
Subject: [FFmpeg-trac] #2999(avcodec:new): FFmpeg crashes on decoding
 H.264 MP4 file
In-Reply-To: <038.93f367041852afab54676d093620f500@avcodec.org>
References: <038.93f367041852afab54676d093620f500@avcodec.org>
Message-ID: <053.a692d85bea79ec3454451d075cc24d07@avcodec.org>

#2999: FFmpeg crashes on decoding H.264 MP4 file
-------------------------------------+-------------------------------------
             Reporter:  mbradshaw    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264 crash   |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => h264 crash SIGSEGV
 * priority:  normal => important


Comment:

 (I cannot reproduce)

 Is this also reproducible with older versions of FFmpeg? If not, and if
 you use such an older version to extract the h264 core, is that enough to
 crash current FFmpeg?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2999#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 07:42:13 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 05:42:13 -0000
Subject: [FFmpeg-trac] #2992(avformat:open): mxf: FPE with forced g772
In-Reply-To: <038.cee992228e933056f253dc32254d879b@avcodec.org>
References: <038.cee992228e933056f253dc32254d879b@avcodec.org>
Message-ID: <053.453839891d40e03a2a6b1357a0362690@avcodec.org>

#2992: mxf: FPE with forced g772
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mxf crash    |               Blocked By:
  fpe                                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avformat
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => mxf crash fpe


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2992#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 07:53:16 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 05:53:16 -0000
Subject: [FFmpeg-trac] #2993(undetermined:new): swr ssse3: invalid read
 with forced mp3adu
In-Reply-To: <038.96a2428a228a15d85b1a7ef64dba0d9b@avcodec.org>
References: <038.96a2428a228a15d85b1a7ef64dba0d9b@avcodec.org>
Message-ID: <053.d112be280be87b9c2be398d79b55db57@avcodec.org>

#2993: swr ssse3: invalid read with forced mp3adu
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Does this crash on Windows (or another OS)?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2993#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 08:03:37 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 06:03:37 -0000
Subject: [FFmpeg-trac] #3000(undetermined:new): wmalossless sample breaks
 ffplay -autoexit
Message-ID: <036.0425844f15f1bb552be0f0889c9e491b@avcodec.org>

#3000: wmalossless sample breaks ffplay -autoexit
-------------------------------------+-------------------------------------
               Reporter:  cehoyos    |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:  git-       |  undetermined
  master                             |               Keywords:  wmalossless
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 The sample from ticket #2993 does not exit on eof with -autoexit.
 http://samples.ffmpeg.org/ffmpeg-bugs/trac/ticket2993/
 {{{
 $ ffplay vc1.wmv -autoexit
 ffplay version N-56667-g32cde96 Copyright (c) 2003-2013 the FFmpeg
 developers
   built on Sep 26 2013 07:44:39 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, asf, from 'vc1.wmv':=    0KB vq=    0KB sq=    0B f=0/0
   Metadata:
     WMFSDKNeeded    : 0.0.0.0000
     DeviceConformanceTemplate: N1
     WM/WMADRCPeakReference: 32734
     WM/WMADRCPeakTarget: 32734
     WM/WMADRCAverageReference: 2710
     WM/WMADRCAverageTarget: 2710
     WMFSDKVersion   : 10.00.00.4054
     IsVBR           : 1
   Duration: 00:02:51.79, start: 0.000000, bitrate: 1112 kb/s
     Stream #0:0(eng): Video: vc1 (Advanced) (WMVA / 0x41564D57), yuv420p,
 160x120, 571 kb/s, 24 tbr, 1k tbn, 1k tbc
     Stream #0:1(eng): Audio: wmalossless (c[1][0][0] / 0x0163), 44100 Hz,
 stereo, s16p, 677 kb/s
 [wmalossless @ 0x7fafdc002820] buf size 0 invalid
 [wmalossless @ 0x7fafdc002820] buf size 0 invalid
 [wmalossless @ 0x7fafdc002820] buf size 0 invalid
 [wmalossless @ 0x7fafdc002820] Found empty subframe
 [wmalossless @ 0x7fafdc002820] buf size 0 invalid
     Last message repeated 22 times

 ...
 }}}
 {{{
 $ ffplay vc1.wmv -an -autoexit
 ffplay version N-56667-g32cde96 Copyright (c) 2003-2013 the FFmpeg
 developers
   built on Sep 26 2013 07:44:39 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, asf, from 'vc1.wmv':=    0KB vq=    0KB sq=    0B f=0/0
   Metadata:
     WMFSDKNeeded    : 0.0.0.0000
     DeviceConformanceTemplate: N1
     WM/WMADRCPeakReference: 32734
     WM/WMADRCPeakTarget: 32734
     WM/WMADRCAverageReference: 2710
     WM/WMADRCAverageTarget: 2710
     WMFSDKVersion   : 10.00.00.4054
     IsVBR           : 1
   Duration: 00:02:51.79, start: 0.000000, bitrate: 1112 kb/s
     Stream #0:0(eng): Video: vc1 (Advanced) (WMVA / 0x41564D57), yuv420p,
 160x120, 571 kb/s, 24 tbr, 1k tbn, 1k tbc
     Stream #0:1(eng): Audio: wmalossless (c[1][0][0] / 0x0163), 44100 Hz,
 stereo, s16p, 677 kb/s
  171.75 M-V: -0.038 fd=   0 aq=    0KB vq=    0KB sq=    0B f=0/0
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3000>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 08:05:34 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 06:05:34 -0000
Subject: [FFmpeg-trac] #2994(undetermined:open): mlp: deadlock with
 forced codec
In-Reply-To: <038.520728a843fef40d32f40d566817e49e@avcodec.org>
References: <038.520728a843fef40d32f40d566817e49e@avcodec.org>
Message-ID: <053.6cb73f4c5321fbe65f5744a55089c91b@avcodec.org>

#2994: mlp: deadlock with forced codec
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  deadlock     |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => deadlock
 * priority:  normal => important
 * version:  unspecified => git-master
 * status:  new => open
 * reproduced:  0 => 1


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2994#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 08:23:10 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 06:23:10 -0000
Subject: [FFmpeg-trac] #2996(avcodec:open): iac: deadlock with forced
 codec
In-Reply-To: <038.91b5af7f340106dc17cc57fa9bf2a84d@avcodec.org>
References: <038.91b5af7f340106dc17cc57fa9bf2a84d@avcodec.org>
Message-ID: <053.663e794aba86147546897a23d570d98c@avcodec.org>

#2996: iac: deadlock with forced codec
--------------------------------------+-----------------------------------
             Reporter:  ami_stuff     |                    Owner:
                 Type:  defect        |                   Status:  open
             Priority:  important     |                Component:  avcodec
              Version:  git-master    |               Resolution:
             Keywords:  iac deadlock  |               Blocked By:
             Blocking:                |  Reproduced by developer:  1
Analyzed by developer:  0             |
--------------------------------------+-----------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => iac deadlock


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2996#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 12:40:22 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 10:40:22 -0000
Subject: [FFmpeg-trac] #2993(undetermined:new): swr ssse3: invalid read
 with forced mp3adu
In-Reply-To: <038.96a2428a228a15d85b1a7ef64dba0d9b@avcodec.org>
References: <038.96a2428a228a15d85b1a7ef64dba0d9b@avcodec.org>
Message-ID: <053.80075bfc7867d8598df4faf9ba06fb0a@avcodec.org>

#2993: swr ssse3: invalid read with forced mp3adu
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by ami_stuff):

 Replying to [comment:1 cehoyos]:
 > Does this crash on Windows (or another OS)?

 It crashes randomly on windows (currently can't reproduce under gdb).

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2993#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 12:41:07 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 10:41:07 -0000
Subject: [FFmpeg-trac] #3001(undetermined:new): amr: abort with forced codec
Message-ID: <038.1ba0f7991a77ea98940095457d37e342@avcodec.org>

#3001: amr: abort with forced codec
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 {{{
 (gdb) r -acodec mp3 -i ./sound.amr
 The program being debugged has been started already.
 Start it from the beginning? (y or n) y

 Starting program: /media/sdb1/ffmpeg-HEAD-93439e8/ffmpeg_g -acodec mp3 -i
 ./sound.amr
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-93439e8 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 18 2013 23:23:15 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffprobe --disable-
 ffserver
   libavutil      52. 44.100 / 52. 44.100
   libavcodec     55. 31.101 / 55. 31.101
   libavformat    55. 18.100 / 55. 18.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 86.101 /  3. 86.101
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Assertion 0 failed at libavformat/amr.c:136

 Program received signal SIGABRT, Aborted.
 0xb7e5e667 in *__GI_raise (sig=6) at
 ../nptl/sysdeps/unix/sysv/linux/raise.c:64
 64      ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or
 directory.
 (gdb) bt
 #0  0xb7e5e667 in *__GI_raise (sig=6)
     at ../nptl/sysdeps/unix/sysv/linux/raise.c:64
 #1  0xb7e61a52 in *__GI_abort () at abort.c:92
 #2  0x0813f2d0 in amr_read_packet (s=0x910eee0, pkt=0xbffff078)
     at libavformat/amr.c:136
 #3  0x082377e7 in ff_read_packet (s=s at entry=0x910eee0,
     pkt=pkt at entry=0xbffff078) at libavformat/utils.c:658
 #4  0x0823a129 in read_frame_internal (s=s at entry=0x910eee0,
     pkt=pkt at entry=0xbffff258) at libavformat/utils.c:1316
 #5  0x0823dd65 in avformat_find_stream_info (ic=0x910eee0,
 options=0x910fb00)
     at libavformat/utils.c:2801
 #6  0x080a66b5 in open_input_file (o=o at entry=0xbffff53c,
     filename=<optimized out>) at ffmpeg_opt.c:809
 #7  0x080a4ed7 in open_files (inout=inout at entry=0x88e725b "input",
     open_file=open_file at entry=0x80a62d0 <open_input_file>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>)
     at ffmpeg_opt.c:2494
 #8  0x080ad0e9 in ffmpeg_parse_options (argc=argc at entry=5,
     argv=argv at entry=0xbffff9c4) at ffmpeg_opt.c:2531
 #9  0x080a25da in main (argc=5, argv=0xbffff9c4) at ffmpeg.c:3393
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3001>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 13:06:22 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 11:06:22 -0000
Subject: [FFmpeg-trac] #3002(undetermined:new): wmalossless: crash with
 forced codec
Message-ID: <038.79d811cc672b411b896384e6e0a37c37@avcodec.org>

#3002: wmalossless: crash with forced codec
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://samples.mplayerhq.hu/flac/24-bit_192kHz.flac

 I wanted to check with random files if deadlock is really fixed and found
 this:

 {{{
 (gdb) r -acodec wmalossless -i 24-bit_192kHz.flac -vn -f null - -loglevel
 0
 Starting program: D:\MinGW\msys\1.0\ffmpeg-HEAD-a67dcd7\ffmpeg_g.exe
 -acodec wma
 lossless -i 24-bit_192kHz.flac -vn -f null - -loglevel 0
 [New Thread 2652.0x4d8]
 [New Thread 2652.0xf64]
 [New Thread 2652.0xfd4]
 [New Thread 2652.0xfb8]
 [New Thread 2652.0x6b4]
 [New Thread 2652.0x294]
 [New Thread 2652.0x7b4]
 [New Thread 2652.0x5d4]
 [New Thread 2652.0xa80]
 [New Thread 2652.0xa6c]

 Program received signal SIGSEGV, Segmentation fault.
 0x008369c4 in init_get_bits (bit_size=0, buffer=0x0, s=0x4ee808c)
     at libavcodec/get_bits.h:424
 424         s->index              = 0;
 (gdb) bt
 #0  0x008369c4 in init_get_bits (bit_size=0, buffer=0x0, s=0x4ee808c)
     at libavcodec/get_bits.h:424
 #1  decode_packet (avctx=0x4df6e60, data=0x4df7ec0,
 got_frame_ptr=0x22fa9c,
     avpkt=0x22f768) at libavcodec/wmalosslessdec.c:1189
 #2  0x0059ffdd in avcodec_decode_audio4 (avctx=0x4df6e60, frame=0x4df7ec0,
     got_frame_ptr=0x22fa9c, avpkt=0x22f898) at libavcodec/utils.c:2124
 #3  0x004141ea in decode_audio (got_output=<optimized out>,
     pkt=<optimized out>, ist=<optimized out>) at ffmpeg.c:1526
 #4  output_packet (ist=0x55e3c60, pkt=0x0) at ffmpeg.c:1863
 #5  0x004164bf in process_input (file_index=0) at ffmpeg.c:2928
 #6  0x00b0b3f8 in transcode_step () at ffmpeg.c:3181
 #7  transcode () at ffmpeg.c:3233
 #8  main (argc=11, argv=<optimized out>) at ffmpeg.c:3411
 (gdb)
 }}}


 also crashes with (autobuild)
 {{{
 ffmpeg version N-56663-g851a6e2 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 26 2013 02:40:41 with gcc 4.5.0 (GCC) 20100414 (Fedora
 MinGW 4.5.
 0-1.fc14)
   configuration: --prefix=/var/www/users/research/ffmpeg/snapshots/build
 --arch=
 x86 --target-os=mingw32 --cross-prefix=i686-pc-mingw32- --cc='ccache i686
 -pc-min
 gw32-gcc' --enable-pthreads --enable-memalign-hack --enable-runtime-
 cpudetect --
 enable-cross-compile --enable-static --disable-shared --extra-
 libs='-lws2_32 -lw
 inmm -lpthread' --extra-cflags='--static
 -I/var/www/users/research/ffmpeg/snapsh
 ots/build/include' --extra-ldflags='-static
 -L/var/www/users/research/ffmpeg/sna
 pshots/build/lib' --enable-bzlib --enable-zlib --enable-gpl --enable-
 version3 --
 enable-nonfree --enable-libx264 --enable-libspeex --enable-libtheora
 --enable-li
 bvorbis --enable-libfaac --enable-libxvid --enable-libopencore-amrnb
 --enable-li
 bopencore-amrwb --enable-libmp3lame --enable-libfreetype --enable-libvpx
 --disab
 le-decoder=libvpx
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3002>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 15:07:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 13:07:45 -0000
Subject: [FFmpeg-trac] #2977(undetermined:closed): smv: deadlock with
 fuzzed file
In-Reply-To: <038.10352138b7af7fe0b1bf0e51c5017da7@avcodec.org>
References: <038.10352138b7af7fe0b1bf0e51c5017da7@avcodec.org>
Message-ID: <053.2e24b93348d1a013dde581c21c9a4d13@avcodec.org>

#2977: smv: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  wav          |               Resolution:  fixed
  deadlock regression                |               Blocked By:
             Blocking:               |  Reproduced by developer:  1
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in e02495372240ad826a8a6b2ecb035bf001b64344

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2977#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 15:11:33 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 13:11:33 -0000
Subject: [FFmpeg-trac]  #3003(undetermined:new): aac in dvb: No audio
Message-ID: <036.a0d308d5f5c92835ce8d64743acb7462@avcodec.org>

#3003: aac in dvb: No audio
-------------------------------------+-------------------------------------
               Reporter:  cehoyos    |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:  git-       |  undetermined
  master                             |               Keywords:  videolan
             Blocked By:             |  mpegts aac
Reproduced by developer:  0          |               Blocking:
                                     |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 (vlc ticket 9446)
 J-B pointed to a dvb recording that plays fine with WMP, does not play
 with FFmpeg nor vlc. mplayer -ac faad plays audio with incorrect speed
 (indicating SBR afaict).
 The problem is apparently related to CRC checks in the ADTS stream
 (ISO/IEC 11172-3, subclause 2.4.3.1).
 {{{
 $ ffmpeg -probesize 2G -analyzeduration 2G -i
 broken_packetizer_mpeg4audio_ATDS.ts
 ffmpeg version N-56670-gcd05c40 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 26 2013 15:06:25 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [h264 @ 0x2a244c0] non-existing SPS 0 referenced in buffering period
 [h264 @ 0x2a244c0] non-existing PPS referenced
 [h264 @ 0x2a244c0] non-existing SPS 0 referenced in buffering period
 [h264 @ 0x2a244c0] non-existing PPS 0 referenced
 [h264 @ 0x2a244c0] decode_slice_header error
 [h264 @ 0x2a244c0] non-existing PPS 0 referenced
 [h264 @ 0x2a244c0] decode_slice_header error
 [h264 @ 0x2a244c0] non-existing PPS 0 referenced
 [h264 @ 0x2a244c0] decode_slice_header error
 [h264 @ 0x2a244c0] non-existing PPS 0 referenced
 [h264 @ 0x2a244c0] decode_slice_header error
 [h264 @ 0x2a244c0] non-existing PPS 0 referenced
 [h264 @ 0x2a244c0] decode_slice_header error
 [h264 @ 0x2a244c0] non-existing PPS 0 referenced
 [h264 @ 0x2a244c0] decode_slice_header error
 [h264 @ 0x2a244c0] no frame!

 ...

 [aac @ 0x2a24ec0] get_buffer() failed
     Last message repeated 5 times
 [h264 @ 0x2a244c0] non-existing SPS 0 referenced in buffering period
 [h264 @ 0x2a244c0] non-existing PPS referenced
 [h264 @ 0x2a244c0] non-existing SPS 0 referenced in buffering period
 [h264 @ 0x2a244c0] non-existing PPS 0 referenced
 [h264 @ 0x2a244c0] decode_slice_header error
 [h264 @ 0x2a244c0] non-existing PPS 0 referenced
 [h264 @ 0x2a244c0] decode_slice_header error
 [h264 @ 0x2a244c0] non-existing PPS 0 referenced
 [h264 @ 0x2a244c0] decode_slice_header error
 [h264 @ 0x2a244c0] non-existing PPS 0 referenced
 [h264 @ 0x2a244c0] decode_slice_header error
 [h264 @ 0x2a244c0] non-existing PPS 0 referenced
 [h264 @ 0x2a244c0] decode_slice_header error
 [h264 @ 0x2a244c0] non-existing PPS 0 referenced
 [h264 @ 0x2a244c0] decode_slice_header error
 [h264 @ 0x2a244c0] no frame!
 [aac @ 0x2a24ec0] get_buffer() failed
     Last message repeated 5 times
 [h264 @ 0x2a244c0] mmco: unref short failure
     Last message repeated 1 times
 [aac @ 0x2a24ec0] get_buffer() failed
     Last message repeated 5 times
 [h264 @ 0x2a244c0] mmco: unref short failure
 [aac @ 0x2a24ec0] get_buffer() failed
     Last message repeated 1001 times
 [mpegts @ 0x2a20300] PES packet size mismatch
 [aac @ 0x2a24ec0] get_buffer() failed
     Last message repeated 2 times
 [mpegts @ 0x2a20300] decoding for stream 1 failed
 [mpegts @ 0x2a20300] PES packet size mismatch
 [mpegts @ 0x2a20300] Could not find codec parameters for stream 1 (Audio:
 aac ([15][0][0][0] / 0x000F), 0 channels, fltp, 180 kb/s): unspecified
 sample rate
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 Input #0, mpegts, from 'broken_packetizer_mpeg4audio_ATDS.ts':
   Duration: 00:00:23.37, start: 27532.278522, bitrate: 4560 kb/s
   Program 1
     Stream #0:0[0x44]: Video: h264 (Main) ([27][0][0][0] / 0x001B),
 yuv420p(tv, bt709), 1440x1080 [SAR 4:3 DAR 16:9], 25 fps, 25 tbr, 90k tbn,
 50 tbc
     Stream #0:1[0x45]: Audio: aac ([15][0][0][0] / 0x000F), 0 channels,
 fltp, 180 kb/s
 At least one output file must be specified
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3003>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 15:13:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 13:13:32 -0000
Subject: [FFmpeg-trac] #3003(undetermined:new): aac in dvb: No audio
In-Reply-To: <036.a0d308d5f5c92835ce8d64743acb7462@avcodec.org>
References: <036.a0d308d5f5c92835ce8d64743acb7462@avcodec.org>
Message-ID: <051.9a41dbcc5fe58c78b6d77c4fb765a812@avcodec.org>

#3003: aac in dvb: No audio
-------------------------------------+-------------------------------------
             Reporter:  cehoyos      |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  videolan     |               Resolution:
  mpegts aac                         |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Sample uploaded to http://samples.ffmpeg.org/ffmpeg-bugs/trac/ticket3003/

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3003#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 15:21:36 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 13:21:36 -0000
Subject: [FFmpeg-trac] #2211(undetermined:reopened): Not possible to
 override bogus FPS in raw h264 streams
In-Reply-To: <036.edaaaa5f0723fc0d3596cb2af121944c@avcodec.org>
References: <036.edaaaa5f0723fc0d3596cb2af121944c@avcodec.org>
Message-ID: <051.8c23428fb5e37ef5120ce5dcbf8959ee@avcodec.org>

#2211: Not possible to override bogus FPS in raw h264 streams
-------------------------------------+-------------------------------------
             Reporter:  jaanusk      |                    Owner:
                 Type:  defect       |                   Status:  reopened
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  h264         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by jaanusk):

 * status:  closed => reopened
 * resolution:  fixed =>


Comment:

 Broken in 1.2.3 and 2.0.1:

 % ffmpeg -r 15 -i sample.h264 -vcodec copy out.mp4
 ffmpeg version 2.0.1 Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 26 2013 12:24:48 with gcc 4.4.5 (Debian 4.4.5-8)
   configuration: --enable-libx264 --enable-gpl
   libavutil      52. 38.100 / 52. 38.100
   libavcodec     55. 18.102 / 55. 18.102
   libavformat    55. 12.100 / 55. 12.100
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 79.101 /  3. 79.101
   libswscale      2.  3.100 /  2.  3.100
   libswresample   0. 17.102 /  0. 17.102
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, h264, from 'sample.h264':
   Duration: N/A, bitrate: N/A
     Stream #0:0: Video: h264 (High), yuv420p, 960x720, 25 fps, 25 tbr,
 1200k tbn, 50 tbc
 Output #0, mp4, to 'out.mp4':
   Metadata:
     encoder         : Lavf55.12.100
     Stream #0:0: Video: h264 ([33][0][0][0] / 0x0021), yuv420p, 960x720,
 q=2-31, 25 fps, 15360 tbn, 15 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (copy)
 Press [q] to stop, [?] for help
 frame=  140 fps=0.0 q=-1.0 Lsize=     201kB time=00:00:09.33 bitrate=
 176.7kbits/s
 video:200kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 0.675293%

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2211#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 15:30:02 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 13:30:02 -0000
Subject: [FFmpeg-trac] #2211(undetermined:reopened): Not possible to
 override bogus FPS in raw h264 streams
In-Reply-To: <036.edaaaa5f0723fc0d3596cb2af121944c@avcodec.org>
References: <036.edaaaa5f0723fc0d3596cb2af121944c@avcodec.org>
Message-ID: <051.88591bff63d006ee0239b225c2de9bd8@avcodec.org>

#2211: Not possible to override bogus FPS in raw h264 streams
-------------------------------------+-------------------------------------
             Reporter:  jaanusk      |                    Owner:
                 Type:  defect       |                   Status:  reopened
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  h264         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Please test current git head.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2211#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 16:32:47 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 14:32:47 -0000
Subject: [FFmpeg-trac] #2961(avcodec:open): indeo4: invalid read
In-Reply-To: <038.a8e06b87888c8252939bd0e392876258@avcodec.org>
References: <038.a8e06b87888c8252939bd0e392876258@avcodec.org>
Message-ID: <053.a5242e14f940ed776e9fb277e598c69c@avcodec.org>

#2961: indeo4: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  iv41 crash   |               Blocked By:
  SIGSEGV regression                 |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by michael):

 cant reproduce, maybe fixed by a92538b7c0defc86c55fb91f55dfa36aad192673

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2961#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 17:19:19 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 15:19:19 -0000
Subject: [FFmpeg-trac] #3004(build system:new): OpenCL Version detection
 broken (at least on OSX)
Message-ID: <043.4908636919a9698e48ecafc7f532a395@avcodec.org>

#3004: OpenCL Version detection broken (at least on OSX)
-------------------------------------+-------------------------------------
               Reporter:             |                  Owner:
  thilo.borgmann                     |                 Status:  new
                   Type:  defect     |              Component:  build
               Priority:  normal     |  system
                Version:             |               Keywords:  opencl
  unspecified                        |  configure
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 Summary of the bug:

 configure accepts any installed version of OpenCL if any is installed.

 In configure, it seems like the block starting in line 4263 is not
 executed (not mentioned anywhere in config.log, see config.log.unpatched):
 {{{
 {...} &&
 {...} &&
 { check_cpp_condition "OpenCL/cl.h" "defined(CL_VERSION_1_2)" ||
   check_cpp_condition "CL/cl.h" "defined(CL_VERSION_1_2)" ||
   die "ERROR: opencl must be installed and version must be 1.2 or
 compatible"; }
 }}}

 If I reorder the three blocks for opencl, a version prior to 1.2 is found
 and rejected properly (see config.log.patched).

 How to reproduce:
 1) Install OpenCL 1.0 or 1.1
 2) Run:
 {{{
 ./configure --enable-opencl
 }}}

 I can't find a reason why the test is skipped in the unpatched configure
 and thus I cannot send a patch to really fix it without further
 assistance. I also don't have a non-Mac machine ready now to test if this
 is really just a Mac problem.

 Attached are a patch for the reordering workaround and two corresponding
 config.log files.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3004>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 17:53:34 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 15:53:34 -0000
Subject: [FFmpeg-trac] #2962(avformat:closed): MPEG TS stream: Failed
 assertion
In-Reply-To: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
References: <042.77ec67471b235d45ea3259914a6a6273@avcodec.org>
Message-ID: <057.8cce6d4b40f9938f5529e3d54ccef90a@avcodec.org>

#2962: MPEG TS stream: Failed assertion
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  Underground78                      |                   Status:  closed
                 Type:  defect       |                Component:  avformat
             Priority:  important    |               Resolution:  fixed
              Version:  git-master   |               Blocked By:
             Keywords:  mpegts       |  Reproduced by developer:  1
  crash abort regression             |
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in 5dc6c0ea9ee7836df039c71259c7e538d7058243

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2962#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 17:59:42 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 15:59:42 -0000
Subject: [FFmpeg-trac] #2964(FFmpeg:new): q does not work when
 redirecting stderr
In-Reply-To: <036.00124aaab795140c37617ebdd29d247b@avcodec.org>
References: <036.00124aaab795140c37617ebdd29d247b@avcodec.org>
Message-ID: <051.f22f9dc46eae21c04abb2318f156275d@avcodec.org>

#2964: q does not work when redirecting stderr
------------------------------------+----------------------------------
             Reporter:  cehoyos     |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  important   |                Component:  FFmpeg
              Version:  git-master  |               Resolution:
             Keywords:  regression  |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+----------------------------------

Comment (by michael):

 it does react to q but it needs a enter after it

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2964#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 18:10:59 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 16:10:59 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.8f13e9fa3c4b660685e41f5681c73420@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 This is the statistics of 25 samples I'm going to use in the test.
 ||=          =||=v4 abr=||=v6 abr=||=v6 vbr q0.7=||=FDK vbr3=||=lame
 V5=||=ac3=||
 ||=25 Average=||129||129||144||122||135||128||
 ||=25 Std.Dev=||5||5||24||20||18||0||
 ||=25 Min=||107||108||114||86||87||128||
 ||=25 Max=||131||133||218||173||172||128||
 ||=Max sample||25.Reunion Blues||26.French||26.French||10.||14.||29.||
 ||=Std.Average=||128||128||127||127||130||128||
 Unit is kbps. Std.Average is the average bitrate of my large collection of
 CDs encoded.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:181>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 18:11:27 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 16:11:27 -0000
Subject: [FFmpeg-trac] #2964(FFmpeg:new): q does not work when
 redirecting stderr
In-Reply-To: <036.00124aaab795140c37617ebdd29d247b@avcodec.org>
References: <036.00124aaab795140c37617ebdd29d247b@avcodec.org>
Message-ID: <051.d62080e2a78b341145ce984c2678c7d2@avcodec.org>

#2964: q does not work when redirecting stderr
------------------------------------+----------------------------------
             Reporter:  cehoyos     |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  important   |                Component:  FFmpeg
              Version:  git-master  |               Resolution:
             Keywords:  regression  |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+----------------------------------

Comment (by michael):

 also, note i dont know how to fix this without breaking what c8a1101
 fixed, maybe someone with more solid tty state manipulation knowledge
 should look at this

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2964#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 19:30:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 17:30:50 -0000
Subject: [FFmpeg-trac] #2999(avcodec:closed): FFmpeg crashes on decoding
 H.264 MP4 file
In-Reply-To: <038.93f367041852afab54676d093620f500@avcodec.org>
References: <038.93f367041852afab54676d093620f500@avcodec.org>
Message-ID: <053.619a5997f0d5d61ad9db3b587dbb1d5e@avcodec.org>

#2999: FFmpeg crashes on decoding H.264 MP4 file
-------------------------------------+-------------------------------------
             Reporter:  mbradshaw    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  duplicate
             Keywords:  h264 crash   |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by mbradshaw):

 * status:  new => closed
 * resolution:   => duplicate


Comment:

 I have to configure with `--enable-debug=gdb --disable-optimizations` for
 it to crash. Enabling optimizations results in a successful run.

 git bisect shows the first bad commit is
 b3ab2810277decc2c0bfbaa08414a432e4774f34

 I think this is a duplicate of #2156. Building with clang and gcc-4.8
 works fine.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2999#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 19:48:20 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 17:48:20 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.a536d0936e6c328b55eadfd8322355c6@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 [[Image(http://i43.tinypic.com/2ufpzjs.png)]]

 My current impression, from non-blind test of non-samples: {{{v5 abr = v6
 abr > v6 vbr >> v4 abr}}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:182>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 20:05:54 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 18:05:54 -0000
Subject: [FFmpeg-trac] #2999(avcodec:reopened): FFmpeg crashes on
 decoding H.264 MP4 file
In-Reply-To: <038.93f367041852afab54676d093620f500@avcodec.org>
References: <038.93f367041852afab54676d093620f500@avcodec.org>
Message-ID: <053.4c0f1f9479fb7b09c441367d819e30ce@avcodec.org>

#2999: FFmpeg crashes on decoding H.264 MP4 file
-------------------------------------+-------------------------------------
             Reporter:  mbradshaw    |                    Owner:
                 Type:  defect       |                   Status:  reopened
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264 crash   |               Blocked By:
  SIGSEGV                            |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  closed => reopened
 * resolution:  duplicate =>


Comment:

 Sounds important.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2999#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 20:35:47 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 18:35:47 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.107f349c8dc685ad32bd12c09745af99@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 [[Image(http://i43.tinypic.com/i53u6t.png)]]

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:183>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 20:36:59 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 18:36:59 -0000
Subject: [FFmpeg-trac] #2961(avcodec:closed): indeo4: invalid read
In-Reply-To: <038.a8e06b87888c8252939bd0e392876258@avcodec.org>
References: <038.a8e06b87888c8252939bd0e392876258@avcodec.org>
Message-ID: <053.8f9ed9845f95c53e1654e8bf44b1b74e@avcodec.org>

#2961: indeo4: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  iv41 crash   |               Blocked By:
  SIGSEGV regression                 |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by ami_stuff):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Replying to [comment:3 michael]:
 > cant reproduce, maybe fixed by a92538b7c0defc86c55fb91f55dfa36aad192673

 doesn't crash here anymore, so probably fixed

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2961#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 20:47:56 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 18:47:56 -0000
Subject: [FFmpeg-trac] #3005(FFplay:new): Hickups with ffplay when playing
 vc1
Message-ID: <036.1294c88e5e62cc2963edd128ed45bb64@avcodec.org>

#3005: Hickups with ffplay when playing vc1
--------------------------------------+------------------------------------
               Reporter:  cehoyos     |                  Owner:
                   Type:  defect      |                 Status:  new
               Priority:  normal      |              Component:  FFplay
                Version:  git-master  |               Keywords:  mpegps vc1
             Blocked By:              |               Blocking:
Reproduced by developer:  0           |  Analyzed by developer:  0
--------------------------------------+------------------------------------
 The following sample can be converted with ffmpeg and plays fine with
 mplayer -demuxer mpegps and mplayer -demuxer lavf:
 http://samples.ffmpeg.org/archive/all/mpeg+vc1+ac3++quazgaas_problem.evo
 Playing with ffplay regularly drops frames
 {{{
 $ ffplay mpeg+vc1+ac3++quazgaas_problem.evo -autoexit
 ffplay version N-56671-ge024953 Copyright (c) 2003-2013 the FFmpeg
 developers
   built on Sep 26 2013 15:41:14 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mpeg @ 0x7f2eac000920] DTS discontinuity in stream 0: packet 17 with DTS
 54777, packet 18 with DTS 459063327
 Input #0, mpeg, from 'mpeg+vc1+ac3++quazgaas_problem.evo':
   Duration: 01:25:10.66, start: 0.108133, bitrate: 24 kb/s
     Stream #0:0[0xfd55]: Video: vc1 (Advanced), yuv420p, 1280x1080 [SAR
 3:2 DAR 16:9], 29.97 fps, 29.97 tbr, 90k tbn, 59.94 tbc
     Stream #0:1[0xc0]: Audio: ac3, 48000 Hz, stereo, fltp, 192 kb/s
 [ac3 @ 0x7f2eac0160c0] frame sync errorvq=  304KB sq=    0B f=0/0
 [ac3 @ 0x7f2eac0160c0] incomplete framevq=    0KB sq=    0B f=17/0
 5110.87 A-V:  0.027 fd=  17 aq=    0KB vq=    0KB sq=    0B f=17/0
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3005>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 21:03:53 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 19:03:53 -0000
Subject: [FFmpeg-trac] #2961(avcodec:closed): indeo4: invalid read
In-Reply-To: <038.a8e06b87888c8252939bd0e392876258@avcodec.org>
References: <038.a8e06b87888c8252939bd0e392876258@avcodec.org>
Message-ID: <053.841d22f56516af674890e5c2640b53de@avcodec.org>

#2961: indeo4: invalid read
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  fixed
             Keywords:  iv41 crash   |               Blocked By:
  SIGSEGV regression                 |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Fixed in 8d0b899 / a92538b

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2961#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 22:20:29 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 20:20:29 -0000
Subject: [FFmpeg-trac] #2982(avcodec:closed): mlp: invalid write with
 max_alloc
In-Reply-To: <038.a8e5da78896e34bb8896464b954e436f@avcodec.org>
References: <038.a8e5da78896e34bb8896464b954e436f@avcodec.org>
Message-ID: <053.98b55fd57de9f9e97825411b1eca3d19@avcodec.org>

#2982: mlp: invalid write with max_alloc
------------------------------------+-----------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  closed
             Priority:  important   |                Component:  avcodec
              Version:  git-master  |               Resolution:  fixed
             Keywords:  mlp         |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+-----------------------------------
Changes (by cehoyos):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed by Michael in f31011e.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2982#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 22:45:14 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 20:45:14 -0000
Subject: [FFmpeg-trac] #2865(avformat:new): Front Center, Downmix Left,
 and Downmix Right unlabelled in QTPlayer
In-Reply-To: <037.0a6cd49e992468d01591c610252619d6@avcodec.org>
References: <037.0a6cd49e992468d01591c610252619d6@avcodec.org>
Message-ID: <052.fff01c35b92fc1ed2a9009675de2e321@avcodec.org>

#2865: Front Center, Downmix Left, and Downmix Right unlabelled in QTPlayer
-------------------------------------+------------------------------------
             Reporter:  cjplay93     |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  chan mov     |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------
Changes (by cehoyos):

 * keywords:  chan => chan mov


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2865#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 22:49:04 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 20:49:04 -0000
Subject: [FFmpeg-trac] #3006(FFprobe:new): Print channel layout with ffprobe
 -show_stream
Message-ID: <036.ec68597ea2bc483c44bb3dd0775f1803@avcodec.org>

#3006: Print channel layout with ffprobe -show_stream
---------------------------------------+---------------------------------
               Reporter:  cehoyos      |                  Owner:
                   Type:  enhancement  |                 Status:  new
               Priority:  wish         |              Component:  FFprobe
                Version:  git-master   |               Keywords:
             Blocked By:               |               Blocking:
Reproduced by developer:  0            |  Analyzed by developer:  0
---------------------------------------+---------------------------------
 Using the sample from ticket #2865:
 {{{
 $ ffprobe -show_streams
 SD_IVTC_8channel_ProResHQ_test_withT3.7.8_labels.mov
 ffprobe version N-56673-gf31011e Copyright (c) 2007-2013 the FFmpeg
 developers
   built on Sep 26 2013 22:19:50 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, mov,mp4,m4a,3gp,3g2,mj2, from
 'SD_IVTC_8channel_ProResHQ_test_withT3.7.8_labels.mov':
   Metadata:
     major_brand     : qt
     minor_version   : 537199360
     compatible_brands: qt
     creation_time   : 2013-08-21 17:18:54
     encoder         : Lavf55.11.100
   Duration: 00:00:00.50, start: 0.000000, bitrate: 16436 kb/s
     Stream #0:0(eng): Video: prores (apch / 0x68637061), yuv422p10le,
 720x480, 6505 kb/s, SAR 10:11 DAR 15:11, 23.98 fps, 23.98 tbr, 11988 tbn,
 11988 tbc (default)
     Metadata:
       creation_time   : 2013-08-21 17:18:54
       handler_name    : Apple Alias Data Handler
       timecode        : 00:59:59:00
     Stream #0:1(eng): Audio: pcm_s24le (in24 / 0x34326E69), 48000 Hz, 1
 channels (FL), s32, 1152 kb/s (default)
     Metadata:
       creation_time   : 2013-08-21 17:18:54
       handler_name    : Apple Alias Data Handler
     Stream #0:2(eng): Audio: pcm_s24le (in24 / 0x34326E69), 48000 Hz, 1
 channels (FR), s32, 1152 kb/s (default)
     Metadata:
       creation_time   : 2013-08-21 17:18:54
       handler_name    : Apple Alias Data Handler
     Stream #0:3(eng): Audio: pcm_s24le (in24 / 0x34326E69), 48000 Hz,
 mono, s32, 1152 kb/s (default)
     Metadata:
       creation_time   : 2013-08-21 17:18:54
       handler_name    : Apple Alias Data Handler
     Stream #0:4(eng): Audio: pcm_s24le (in24 / 0x34326E69), 48000 Hz, 1
 channels (LFE), s32, 1152 kb/s (default)
     Metadata:
       creation_time   : 2013-08-21 17:18:54
       handler_name    : Apple Alias Data Handler
     Stream #0:5(eng): Audio: pcm_s24le (in24 / 0x34326E69), 48000 Hz, 1
 channels (BL), s32, 1152 kb/s (default)
     Metadata:
       creation_time   : 2013-08-21 17:18:54
       handler_name    : Apple Alias Data Handler
     Stream #0:6(eng): Audio: pcm_s24le (in24 / 0x34326E69), 48000 Hz, 1
 channels (BR), s32, 1152 kb/s (default)
     Metadata:
       creation_time   : 2013-08-21 17:18:54
       handler_name    : Apple Alias Data Handler
     Stream #0:7(eng): Audio: pcm_s24le (in24 / 0x34326E69), 48000 Hz, 1
 channels (DL), s32, 1152 kb/s (default)
     Metadata:
       creation_time   : 2013-08-21 17:18:54
       handler_name    : Apple Alias Data Handler
     Stream #0:8(eng): Audio: pcm_s24le (in24 / 0x34326E69), 48000 Hz, 1
 channels (DR), s32, 1152 kb/s (default)
     Metadata:
       creation_time   : 2013-08-21 17:18:54
       handler_name    : Apple Alias Data Handler
     Stream #0:9(eng): Data: none (tmcd / 0x64636D74), 0 kb/s (default)
     Metadata:
       creation_time   : 2013-08-21 17:18:54
       handler_name    : Apple Alias Data Handler
       timecode        : 00:59:59:00
 Unsupported codec with id 0 for input stream 9
 [STREAM]
 index=0
 codec_name=prores
 codec_long_name=ProRes
 profile=unknown
 codec_type=video
 codec_time_base=1/11988
 codec_tag_string=apch
 codec_tag=0x68637061
 width=720
 height=480
 has_b_frames=0
 sample_aspect_ratio=10:11
 display_aspect_ratio=15:11
 pix_fmt=yuv422p10le
 level=-99
 timecode=N/A
 id=N/A
 r_frame_rate=2997/125
 avg_frame_rate=2997/125
 time_base=1/11988
 start_pts=0
 start_time=0.000000
 duration_ts=6500
 duration=0.542209
 bit_rate=6505551
 nb_frames=13
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:creation_time=2013-08-21 17:18:54
 TAG:language=eng
 TAG:handler_name=Apple Alias Data Handler
 TAG:timecode=00:59:59:00
 [/STREAM]
 [STREAM]
 index=1
 codec_name=pcm_s24le
 codec_long_name=PCM signed 24-bit little-endian
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=in24
 codec_tag=0x34326e69
 sample_fmt=s32
 sample_rate=48000
 channels=1
 bits_per_sample=24
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=0
 start_time=0.000000
 duration_ts=24048
 duration=0.501000
 bit_rate=1152000
 nb_frames=24048
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:creation_time=2013-08-21 17:18:54
 TAG:language=eng
 TAG:handler_name=Apple Alias Data Handler
 [/STREAM]
 [STREAM]
 index=2
 codec_name=pcm_s24le
 codec_long_name=PCM signed 24-bit little-endian
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=in24
 codec_tag=0x34326e69
 sample_fmt=s32
 sample_rate=48000
 channels=1
 bits_per_sample=24
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=0
 start_time=0.000000
 duration_ts=24048
 duration=0.501000
 bit_rate=1152000
 nb_frames=24048
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:creation_time=2013-08-21 17:18:54
 TAG:language=eng
 TAG:handler_name=Apple Alias Data Handler
 [/STREAM]
 [STREAM]
 index=3
 codec_name=pcm_s24le
 codec_long_name=PCM signed 24-bit little-endian
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=in24
 codec_tag=0x34326e69
 sample_fmt=s32
 sample_rate=48000
 channels=1
 bits_per_sample=24
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=0
 start_time=0.000000
 duration_ts=24048
 duration=0.501000
 bit_rate=1152000
 nb_frames=24048
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:creation_time=2013-08-21 17:18:54
 TAG:language=eng
 TAG:handler_name=Apple Alias Data Handler
 [/STREAM]
 [STREAM]
 index=4
 codec_name=pcm_s24le
 codec_long_name=PCM signed 24-bit little-endian
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=in24
 codec_tag=0x34326e69
 sample_fmt=s32
 sample_rate=48000
 channels=1
 bits_per_sample=24
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=0
 start_time=0.000000
 duration_ts=24048
 duration=0.501000
 bit_rate=1152000
 nb_frames=24048
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:creation_time=2013-08-21 17:18:54
 TAG:language=eng
 TAG:handler_name=Apple Alias Data Handler
 [/STREAM]
 [STREAM]
 index=5
 codec_name=pcm_s24le
 codec_long_name=PCM signed 24-bit little-endian
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=in24
 codec_tag=0x34326e69
 sample_fmt=s32
 sample_rate=48000
 channels=1
 bits_per_sample=24
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=0
 start_time=0.000000
 duration_ts=24048
 duration=0.501000
 bit_rate=1152000
 nb_frames=24048
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:creation_time=2013-08-21 17:18:54
 TAG:language=eng
 TAG:handler_name=Apple Alias Data Handler
 [/STREAM]
 [STREAM]
 index=6
 codec_name=pcm_s24le
 codec_long_name=PCM signed 24-bit little-endian
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=in24
 codec_tag=0x34326e69
 sample_fmt=s32
 sample_rate=48000
 channels=1
 bits_per_sample=24
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=0
 start_time=0.000000
 duration_ts=24048
 duration=0.501000
 bit_rate=1152000
 nb_frames=24048
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:creation_time=2013-08-21 17:18:54
 TAG:language=eng
 TAG:handler_name=Apple Alias Data Handler
 [/STREAM]
 [STREAM]
 index=7
 codec_name=pcm_s24le
 codec_long_name=PCM signed 24-bit little-endian
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=in24
 codec_tag=0x34326e69
 sample_fmt=s32
 sample_rate=48000
 channels=1
 bits_per_sample=24
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=0
 start_time=0.000000
 duration_ts=24048
 duration=0.501000
 bit_rate=1152000
 nb_frames=24048
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:creation_time=2013-08-21 17:18:54
 TAG:language=eng
 TAG:handler_name=Apple Alias Data Handler
 [/STREAM]
 [STREAM]
 index=8
 codec_name=pcm_s24le
 codec_long_name=PCM signed 24-bit little-endian
 profile=unknown
 codec_type=audio
 codec_time_base=1/48000
 codec_tag_string=in24
 codec_tag=0x34326e69
 sample_fmt=s32
 sample_rate=48000
 channels=1
 bits_per_sample=24
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/48000
 start_pts=0
 start_time=0.000000
 duration_ts=24048
 duration=0.501000
 bit_rate=1152000
 nb_frames=24048
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:creation_time=2013-08-21 17:18:54
 TAG:language=eng
 TAG:handler_name=Apple Alias Data Handler
 [/STREAM]
 [STREAM]
 index=9
 codec_name=unknown
 codec_long_name=unknown
 profile=unknown
 codec_type=data
 codec_time_base=1/24
 codec_tag_string=tmcd
 codec_tag=0x64636d74
 id=N/A
 r_frame_rate=0/0
 avg_frame_rate=0/0
 time_base=1/11988
 start_pts=0
 start_time=0.000000
 duration_ts=6006
 duration=0.501001
 bit_rate=3
 nb_frames=1
 nb_read_frames=N/A
 nb_read_packets=N/A
 DISPOSITION:default=1
 DISPOSITION:dub=0
 DISPOSITION:original=0
 DISPOSITION:comment=0
 DISPOSITION:lyrics=0
 DISPOSITION:karaoke=0
 DISPOSITION:forced=0
 DISPOSITION:hearing_impaired=0
 DISPOSITION:visual_impaired=0
 DISPOSITION:clean_effects=0
 DISPOSITION:attached_pic=0
 TAG:creation_time=2013-08-21 17:18:54
 TAG:language=eng
 TAG:handler_name=Apple Alias Data Handler
 TAG:timecode=00:59:59:00
 [/STREAM]
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3006>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Thu Sep 26 22:50:21 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 20:50:21 -0000
Subject: [FFmpeg-trac] #2995(avcodec:closed): flic: deadlock with forced
 codec
In-Reply-To: <038.e13d7c91204554574e810e2719484772@avcodec.org>
References: <038.e13d7c91204554574e810e2719484772@avcodec.org>
Message-ID: <053.eff633ad20ce70917d3a738cb880de38@avcodec.org>

#2995: flic: deadlock with forced codec
---------------------------------------+-----------------------------------
             Reporter:  ami_stuff      |                    Owner:
                 Type:  defect         |                   Status:  closed
             Priority:  important      |                Component:  avcodec
              Version:  git-master     |               Resolution:  fixed
             Keywords:  flic deadlock  |               Blocked By:
             Blocking:                 |  Reproduced by developer:  1
Analyzed by developer:  0              |
---------------------------------------+-----------------------------------
Changes (by cehoyos):

 * keywords:  deadlock => flic deadlock


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2995#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 01:20:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Thu, 26 Sep 2013 23:20:25 -0000
Subject: [FFmpeg-trac] #2828(avformat:new): HLS segment MPEGTS
 continuity counter is being incorrectly set to 0 on each segment
In-Reply-To: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
References: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
Message-ID: <054.33ad4b1e25eeb8e9c8f73d765afed8a0@avcodec.org>

#2828: HLS segment MPEGTS continuity counter is being incorrectly set to 0 on each
segment
-------------------------------------+------------------------------------
             Reporter:  dlevinson5   |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  unspecified  |               Resolution:
             Keywords:  hls mpegts   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by dicroce):

 Any progress on this? I verified it this morning with dvbsnoop that
 continuity counters are 0 for each file. VLC shows "ts warning:
 discontinuity received 0x0 instead of" in its log when playing these
 stream (there is also macro blocking on iOS devices at the same moment,
 and I'm hoping they are related).

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2828#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 03:38:24 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 01:38:24 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.dd6537b00d304b1d9aa2ce5e9fa53e44@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Replying to [comment:182 Kamedo2]:
 > My current impression, from non-blind test of non-samples: {{{v5 abr =
 v6 abr > v6 vbr >> v4 abr}}}

 That's weird ({{{v6 abr > v6 vbr}}}), because my tests showed the
 opposite, and you yourself said v6 vbr had decreased bit usage
 considerably (so it should imply higher efficiency, which is what I
 noticed).

 Do you have an example? Could you describe in that example what you feel
 is inferior compared to abr?

 Also, do you perhaps have something that results in abnormally large
 bitrates in your std calibration sample? That could be forcing you to pick
 a lower q to match the 128k average, and thus decrease overall quality. I
 did fix a few of those in v6, but maybe there's some left, or maybe it has
 to be further constrained.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:184>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 03:56:35 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 01:56:35 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.c9d405de26ca123b3b0ddb762521db08@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 PS: In aaccoder.c:1007, you can change

 {{{
 //if (mb >= ESC_BT) break;
 }}}

 Into

 {{{
 if (mb >= ESC_BT && sce->sf_idx[w*16+g] <= minscaler) break;
 }}}

 I think that could help, because, I believe, those bitrate peaks are due
 to abuse of ESC_BT bands. And that could also be the reason why some faint
 sounds get lost even at high Q, because AAC enforces a maximum dynamic
 range in scalers, and abusing of ESC_BT bands pushes that dynamic range in
 detriment of faint sounds.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:185>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 05:20:26 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 03:20:26 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.71e544acd1458ac377dfb2fe1cb7ac4b@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 Replying to [comment:184 klaussfreire]:
 > Do you have an example? Could you describe in that example what you feel
 is inferior compared to abr?
 In tonal part of the music, the vbr suffers from lower S/N ratio and more
 LPF effect, because the cutoff frequency is lower. 96kbps vs -q:a 0.52 is
 more pronounced.

 > Also, do you perhaps have something that results in abnormally large
 bitrates in your std calibration sample? That could be forcing you to pick
 a lower q to match the 128k average, and thus decrease overall quality. I
 did fix a few of those in v6, but maybe there's some left, or maybe it has
 to be further constrained.
 No, the std calibration sample is from CDs, and it lacks speech samples. I
 tried these:
 http://www.rarewares.org/test_samples/
 and death2, KMFDM-Dogma, male_speech was particularly high in -q:a 0.7
 (128kbps), more than 200kbps. Male speech have more bitrates than the
 female one.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:186>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 05:48:28 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 03:48:28 -0000
Subject: [FFmpeg-trac] #2828(avformat:new): HLS segment MPEGTS
 continuity counter is being incorrectly set to 0 on each segment
In-Reply-To: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
References: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
Message-ID: <054.d2a5f15f2a33c6d7e8f1daead46ef30f@avcodec.org>

#2828: HLS segment MPEGTS continuity counter is being incorrectly set to 0 on each
segment
-------------------------------------+------------------------------------
             Reporter:  dlevinson5   |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  unspecified  |               Resolution:
             Keywords:  hls mpegts   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by cehoyos):

 If you want to help, please provide a simple command line - preferably
 with {{{-f lavfi -i testsrc}}} if possible - together with the complete,
 uncut console output and explain how the problem can be verified.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2828#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 06:14:46 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 04:14:46 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.b7bf2b58da9edda2e5aa5fafe5801f26@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Well, I've got something that might work, but since it means
 unconstraining vbr, it'll need some testing at lower bitrates. It'll take
 me time.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:187>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 08:42:36 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 06:42:36 -0000
Subject: [FFmpeg-trac] #3004(build system:new): OpenCL Version detection
 broken (at least on OSX)
In-Reply-To: <043.4908636919a9698e48ecafc7f532a395@avcodec.org>
References: <043.4908636919a9698e48ecafc7f532a395@avcodec.org>
Message-ID: <058.ba422d646900dc399624b67b90f2d8fd@avcodec.org>

#3004: OpenCL Version detection broken (at least on OSX)
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  thilo.borgmann                     |                   Status:  new
                 Type:  defect       |                Component:  build
             Priority:  important    |  system
              Version:  git-master   |               Resolution:
             Keywords:  regression   |               Blocked By:
  opencl                             |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:  opencl configure => regression opencl
 * priority:  normal => important
 * version:  unspecified => git-master


Comment:

 Probably a regression since 1235e91b, related to ticket #2422.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3004#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 08:46:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 06:46:49 -0000
Subject: [FFmpeg-trac] #3002(avcodec:open): wmalossless: crash with
 forced codec
In-Reply-To: <038.79d811cc672b411b896384e6e0a37c37@avcodec.org>
References: <038.79d811cc672b411b896384e6e0a37c37@avcodec.org>
Message-ID: <053.e2658e2aca42df167c4178ff7cee2736@avcodec.org>

#3002: wmalossless: crash with forced codec
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  wmalossless  |               Blocked By:
  crash SIGSEGV                      |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => wmalossless crash SIGSEGV


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3002#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 08:55:09 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 06:55:09 -0000
Subject: [FFmpeg-trac] #3001(avformat:open): amr: abort with forced codec
In-Reply-To: <038.1ba0f7991a77ea98940095457d37e342@avcodec.org>
References: <038.1ba0f7991a77ea98940095457d37e342@avcodec.org>
Message-ID: <053.2a36e271cf01122fdbfc5f74e59318bf@avcodec.org>

#3001: amr: abort with forced codec
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  amr crash    |               Blocked By:
  abort                              |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * keywords:   => amr crash abort
 * status:  new => open
 * version:  unspecified => git-master
 * component:  undetermined => avformat
 * reproduced:  0 => 1


Comment:

 Patch sent.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3001#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 08:56:37 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 06:56:37 -0000
Subject: [FFmpeg-trac] #2993(swresample:open): swr ssse3: invalid read
 with forced mp3adu
In-Reply-To: <038.96a2428a228a15d85b1a7ef64dba0d9b@avcodec.org>
References: <038.96a2428a228a15d85b1a7ef64dba0d9b@avcodec.org>
Message-ID: <053.37c3838b30a396654b195d92751778a7@avcodec.org>

#2993: swr ssse3: invalid read with forced mp3adu
------------------------------------+--------------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  swresample
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+--------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * version:  unspecified => git-master
 * component:  undetermined => swresample
 * reproduced:  0 => 1


Comment:

 The invalid read is reproducible, I don't know if it can be triggered
 easily.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2993#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 09:02:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 07:02:40 -0000
Subject: [FFmpeg-trac] #2997(avcodec:closed): tak: deadlock with fuzzed
 file (and max_alloc)
In-Reply-To: <038.2e371f700d3b6bb79add3c75ae90ff6e@avcodec.org>
References: <038.2e371f700d3b6bb79add3c75ae90ff6e@avcodec.org>
Message-ID: <053.727c53f6eaf080ccd2f6ceaac5861c3e@avcodec.org>

#2997: tak: deadlock with fuzzed file (and max_alloc)
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avcodec
              Version:  git-master   |               Resolution:  duplicate
             Keywords:  tak          |               Blocked By:
  deadlock                           |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => closed
 * component:  undetermined => avcodec
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => tak deadlock
 * resolution:   => duplicate


Comment:

 This was a duplicate of ticket #2982.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2997#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 12:15:50 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 10:15:50 -0000
Subject: [FFmpeg-trac] #3004(build system:new): OpenCL Version detection
 broken (at least on OSX)
In-Reply-To: <043.4908636919a9698e48ecafc7f532a395@avcodec.org>
References: <043.4908636919a9698e48ecafc7f532a395@avcodec.org>
Message-ID: <058.36e22286c30225897d427359490c8958@avcodec.org>

#3004: OpenCL Version detection broken (at least on OSX)
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  thilo.borgmann                     |                   Status:  new
                 Type:  defect       |                Component:  build
             Priority:  important    |  system
              Version:  git-master   |               Resolution:
             Keywords:  regression   |               Blocked By:
  opencl                             |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by thilo.borgmann):

 Indeed, reverting 1235e91b results in proper OpenCL version check.
 I still can't find any reason why 1235e91b does not work as expected.
 Thus I'm still lacking an idea for a solution.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3004#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 13:26:56 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 11:26:56 -0000
Subject: [FFmpeg-trac] #2211(undetermined:reopened): Not possible to
 override bogus FPS in raw h264 streams
In-Reply-To: <036.edaaaa5f0723fc0d3596cb2af121944c@avcodec.org>
References: <036.edaaaa5f0723fc0d3596cb2af121944c@avcodec.org>
Message-ID: <051.0ce27a1369b1be5d7f261483c70721d3@avcodec.org>

#2211: Not possible to override bogus FPS in raw h264 streams
-------------------------------------+-------------------------------------
             Reporter:  jaanusk      |                    Owner:
                 Type:  defect       |                   Status:  reopened
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  h264         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------

Comment (by jaanusk):

 git head also broken:

 {{{
 $ /usr/local/bin/ffmpeg -r 15 -i sample.h264 -vcodec copy out.mp4
 ffmpeg version N-56677-g689a1bd Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 27 2013 07:16:18 with gcc 4.8.1 (GCC) 20130603 (Red Hat
 4.8.1-1)
   configuration: --enable-libx264 --enable-gpl
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.103 / 55. 18.103
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Input #0, h264, from 'sample.h264':
   Duration: N/A, bitrate: N/A
     Stream #0:0: Video: h264 (High), yuv420p, 960x720, 25 fps, 25 tbr,
 1200k tbn, 50 tbc
 Output #0, mp4, to 'out.mp4':
   Metadata:
     encoder         : Lavf55.18.103
     Stream #0:0: Video: h264 ([33][0][0][0] / 0x0021), yuv420p, 960x720,
 q=2-31, 25 fps, 15360 tbn, 15 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (copy)
 Press [q] to stop, [?] for help
 frame=  140 fps=0.0 q=-1.0 Lsize=     201kB time=00:00:09.33 bitrate=
 176.7kbits/s
 video:200kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 0.675293%
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2211#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 14:47:39 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 12:47:39 -0000
Subject: [FFmpeg-trac] #2211(undetermined:reopened): Not possible to
 override bogus FPS in raw h264 streams
In-Reply-To: <036.edaaaa5f0723fc0d3596cb2af121944c@avcodec.org>
References: <036.edaaaa5f0723fc0d3596cb2af121944c@avcodec.org>
Message-ID: <051.295dc72527fdbe3d6a7325198206d240@avcodec.org>

#2211: Not possible to override bogus FPS in raw h264 streams
-------------------------------------+-------------------------------------
             Reporter:  jaanusk      |                    Owner:
                 Type:  defect       |                   Status:  reopened
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  h264         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 I tested your sample and command line the other day and it appeared to me
 that out.mp4 is created with the the intended 15fps. Which application do
 you use for testing / how does ffplay play the output file for you?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2211#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 15:33:29 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 13:33:29 -0000
Subject: [FFmpeg-trac] #2211(undetermined:reopened): Not possible to
 override bogus FPS in raw h264 streams
In-Reply-To: <036.edaaaa5f0723fc0d3596cb2af121944c@avcodec.org>
References: <036.edaaaa5f0723fc0d3596cb2af121944c@avcodec.org>
Message-ID: <051.3f9f81a99c21682fac178d24144f69d2@avcodec.org>

#2211: Not possible to override bogus FPS in raw h264 streams
-------------------------------------+-------------------------------------
             Reporter:  jaanusk      |                    Owner:
                 Type:  defect       |                   Status:  reopened
             Priority:  normal       |                Component:
              Version:  git-master   |  undetermined
             Keywords:  h264         |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------

Comment (by jaanusk):

 Replying to [comment:8 cehoyos]:
 > I tested your sample and command line the other day and it appeared to
 me that out.mp4 is created with the the intended 15fps. Which application
 do you use for testing / how does ffplay play the output file for you?
 Indeed, mplayer shows the actual produced file to be 15fps.

 Text output is still misleading "25 fps" though.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2211#comment:9>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 15:36:16 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 13:36:16 -0000
Subject: [FFmpeg-trac] #3004(build system:new): OpenCL Version detection
 broken (at least on OSX)
In-Reply-To: <043.4908636919a9698e48ecafc7f532a395@avcodec.org>
References: <043.4908636919a9698e48ecafc7f532a395@avcodec.org>
Message-ID: <058.c30f674bda71a4e8a370b858d44c53e4@avcodec.org>

#3004: OpenCL Version detection broken (at least on OSX)
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  thilo.borgmann                     |                   Status:  new
                 Type:  defect       |                Component:  build
             Priority:  important    |  system
              Version:  git-master   |               Resolution:
             Keywords:  regression   |               Blocked By:
  opencl                             |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 I can't test atm but isn't replacing {{{} &&}}} with {{{} ||}}} sufficient
 to fix the bug?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3004#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 17:51:05 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 15:51:05 -0000
Subject: [FFmpeg-trac] #3007(undetermined:new): param0 and param1 are
 ignored for bicubic scaler.
Message-ID: <040.241ab88f054f8123e2d00617e51ade2b@avcodec.org>

#3007: param0 and param1 are ignored for bicubic scaler.
-------------------------------------+-------------------------------------
             Reporter:  YellowOnion  |                     Type:  defect
               Status:  new          |                 Priority:  normal
            Component:               |                  Version:
  undetermined                       |  unspecified
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 I've tried settings these parameters but the bicubic scaler produces the
 exact same png files no matter what parameter I set for either.

 reports included.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3007>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 18:51:37 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 16:51:37 -0000
Subject: [FFmpeg-trac] #3008(FFmpeg:new): ffmpeg converts video to grayscale
 if yadif filter used
Message-ID: <037.bef299f0dd5af5ff9272e3b30c90ef5f@avcodec.org>

#3008: ffmpeg converts video to grayscale if yadif filter used
-------------------------------------+-------------------------------------
             Reporter:  tborisow     |                     Type:  defect
               Status:  new          |                 Priority:  normal
            Component:  FFmpeg       |                  Version:  2.0.1
             Keywords:  yadif        |               Blocked By:
  grayscale ffmpeg                   |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 Summary of the bug: Standard Windows clock video gets converted to
 grayscale if yadif filter is used
 How to reproduce:
 {{{
 % ffmpeg -i orig -s 200x200 -filter:v yadif=deint=interlaced -vcodec flv
 -ar 22050 -y 0.flv
 ffmpeg version 2.0.1
 built on 09/24/2013

 Without yadif filter or output size params (-s 200x200) everything is OK
 }}}
 Patches should be submitted to the ffmpeg-devel mailing list and not this
 bug tracker.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3008>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 19:09:52 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 17:09:52 -0000
Subject: [FFmpeg-trac] #2992(avformat:closed): mxf: FPE with forced g772
In-Reply-To: <038.cee992228e933056f253dc32254d879b@avcodec.org>
References: <038.cee992228e933056f253dc32254d879b@avcodec.org>
Message-ID: <053.41f94ae38255acceb7b7db14366a2834@avcodec.org>

#2992: mxf: FPE with forced g772
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:  avformat
              Version:  git-master   |               Resolution:  fixed
             Keywords:  mxf crash    |               Blocked By:
  fpe                                |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in 65ea3951580f7d6479978f49678bcc35c7b22d3c

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2992#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 20:26:11 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 18:26:11 -0000
Subject: [FFmpeg-trac] #2986(undetermined:closed): truehd: deadlock with
 fuzzed file
In-Reply-To: <038.154fe0b3b134bff275c7a8de394c2f84@avcodec.org>
References: <038.154fe0b3b134bff275c7a8de394c2f84@avcodec.org>
Message-ID: <053.c96dfe52458d701f0bb6ae5a0abdd50b@avcodec.org>

#2986: truehd: deadlock with fuzzed file
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  deadlock     |               Resolution:  fixed
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in f7bea731d955ec25a726abcd31862d3bd0183d58

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2986#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 20:40:38 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 18:40:38 -0000
Subject: [FFmpeg-trac] #2994(undetermined:closed): mlp: deadlock with
 forced codec
In-Reply-To: <038.520728a843fef40d32f40d566817e49e@avcodec.org>
References: <038.520728a843fef40d32f40d566817e49e@avcodec.org>
Message-ID: <053.a3ba80cbd1dc8f346b827281be01442f@avcodec.org>

#2994: mlp: deadlock with forced codec
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  important    |                Component:
              Version:  git-master   |  undetermined
             Keywords:  deadlock     |               Resolution:  duplicate
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => duplicate


Comment:

 Duplicate of Ticket2986 i think (cant reproduce it anymore)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2994#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 22:14:39 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 20:14:39 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.817038f879dabcb7c2e751c85681a0ba@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 The bitrate distribution of the encoders.
 [[Image(http://i44.tinypic.com/28kj5nm.png)]]

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:188>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 22:36:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 20:36:49 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.93aa0cf91d3dd413efb8a87af7844ba9@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Nice, this will be useful.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:189>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 22:50:42 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 20:50:42 -0000
Subject: [FFmpeg-trac] #2828(avformat:new): HLS segment MPEGTS
 continuity counter is being incorrectly set to 0 on each segment
In-Reply-To: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
References: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
Message-ID: <054.a43dd50cedd0f055b94c950a9431ab16@avcodec.org>

#2828: HLS segment MPEGTS continuity counter is being incorrectly set to 0 on each
segment
-------------------------------------+------------------------------------
             Reporter:  dlevinson5   |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  unspecified  |               Resolution:
             Keywords:  hls mpegts   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by dicroce):

 The problem is the bug does not result in a failure of the ffmpeg tool. It
 splits the files, and the files are even playable. The problem is that for
 clients to play smoothly from file to file certain counters in the ts
 headers are supposed to increment linearly across the sequence of files.
 In the current code, they are always 0. The failure to increment these
 counters results in a small macroblock effect on iOS devices.

 Further, I am not actually using the ffmpeg tool. I am writing software
 and using libavcodec and libavformat directly. I am not actually that
 familiar with how to tell the ffmpeg binary to segment files.... Tho, I
 can tell you how how to do it from a C program.

 The original posters attached "mpegtsenc.c" file does actually fix the
 problem (if you enable his fix via AVOptions). The problem is that it uses
 3 static globals to preserve the counters from call to call. I suspect
 this code will fail horribly in a multithreaded environment.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2828#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Fri Sep 27 23:21:01 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 21:21:01 -0000
Subject: [FFmpeg-trac] #2996(avcodec:closed): iac: deadlock with forced
 codec
In-Reply-To: <038.91b5af7f340106dc17cc57fa9bf2a84d@avcodec.org>
References: <038.91b5af7f340106dc17cc57fa9bf2a84d@avcodec.org>
Message-ID: <053.db381b354ff5a757c57d008cb3ad0467@avcodec.org>

#2996: iac: deadlock with forced codec
--------------------------------------+-----------------------------------
             Reporter:  ami_stuff     |                    Owner:
                 Type:  defect        |                   Status:  closed
             Priority:  important     |                Component:  avcodec
              Version:  git-master    |               Resolution:  fixed
             Keywords:  iac deadlock  |               Blocked By:
             Blocking:                |  Reproduced by developer:  1
Analyzed by developer:  0             |
--------------------------------------+-----------------------------------
Changes (by michael):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Fixed in 3e0c78bac63c213649c3e8c2fa49e9f3c9848d5a

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2996#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 01:43:30 2013
From: trac at avcodec.org (FFmpeg)
Date: Fri, 27 Sep 2013 23:43:30 -0000
Subject: [FFmpeg-trac] #2828(avformat:new): HLS segment MPEGTS
 continuity counter is being incorrectly set to 0 on each segment
In-Reply-To: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
References: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
Message-ID: <054.850420d5126301d3e2b0ac14209102ef@avcodec.org>

#2828: HLS segment MPEGTS continuity counter is being incorrectly set to 0 on each
segment
-------------------------------------+------------------------------------
             Reporter:  dlevinson5   |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  unspecified  |               Resolution:
             Keywords:  hls mpegts   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by dlevinson5):

 I have a feeling this issue will never be corrected. I have provided a
 command-line sample on how to generate segments, provided the active
 functions and code locations for the issue and also provided a work
 around.

 My work around is certainly a hack and NOT thread safe. The parameters
 need to be added to a context. Given that each segment is treated as a
 separate file encoding with a different mark in/out point I could not find
 a simple way to pass the counter between encodings. I needed a quick fix
 and the static variable works since I am using ffmpeg in a command-line
 situation. I suppose I could have added the value to the AVContext which
 would be cleaner.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2828#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 02:08:55 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 00:08:55 -0000
Subject: [FFmpeg-trac] #2828(avformat:new): HLS segment MPEGTS
 continuity counter is being incorrectly set to 0 on each segment
In-Reply-To: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
References: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
Message-ID: <054.4e23e3dd3a773b67f53d9473ba5d3856@avcodec.org>

#2828: HLS segment MPEGTS continuity counter is being incorrectly set to 0 on each
segment
-------------------------------------+------------------------------------
             Reporter:  dlevinson5   |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  unspecified  |               Resolution:
             Keywords:  hls mpegts   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by dicroce):

 Replying to [comment:6 dlevinson5]:
 > I have a feeling this issue will never be corrected. I have provided a
 command-line sample on how to generate segments, provided the active
 functions and code locations for the issue and also provided a work
 around.
 >
 > My work around is certainly a hack and NOT thread safe. The parameters
 need to be added to a context. Given that each segment is treated as a
 separate file encoding with a different mark in/out point I could not find
 a simple way to pass the counter between encodings. I needed a quick fix
 and the static variable works since I am using ffmpeg in a command-line
 situation. I suppose I could have added the value to the AVContext which
 would be cleaner.
 >

 I totally appreciate your work on this. It gets me a little farther down
 the road! The issue is that I'm going to need a more permanent solution. I
 don't really mind applying a patch on top of ffmpeg (if they won't fix
 this), but it does need to be thread safe. I'll take a look at adding your
 statics to AVContext this weekend.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2828#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 05:46:16 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 03:46:16 -0000
Subject: [FFmpeg-trac] #3009(FFmpeg:new): AVC codec in m2ts file not
 recognized by ffmpeg
Message-ID: <037.674e8902f1763db0455497bd97e7c486@avcodec.org>

#3009: AVC codec in m2ts file not recognized by ffmpeg
-----------------------------------+----------------------------------
             Reporter:  skifreak   |                     Type:  defect
               Status:  new        |                 Priority:  normal
            Component:  FFmpeg     |                  Version:  2.0.1
             Keywords:  AVC, m2ts  |               Blocked By:
             Blocking:             |  Reproduced by developer:  0
Analyzed by developer:  1          |
-----------------------------------+----------------------------------
 Summary of the bug:Trying to analyze the
 AVC_codec_not_recognized_right_video_sample.m2ts. ffmpeg does not
 recognize the AVC codec in the m2ts file.

 Was using the command
 $ ffmpeg -probesize 10240 -analyzeduration 1000 -i
 AVC_codec_not_recognized_right_video_sample.m2ts
 ffmpeg -probesize 10240 -analyzeduration 1000 -i right_video_sample.m2ts
 ffmpeg version N-56704-g3e0c78b Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 27 2013 16:48:11 with gcc 4.7.3 (Gentoo 4.7.3 p1.2,
 pie-0.5.5)
   configuration: --prefix=/usr --libdir=/usr/lib64 --shlibdir=/usr/lib64
 --mandir=/usr/share/man --enable-shared --cc=x86_64-pc-linux-gnu-gcc
 --cxx=x86_64-pc-linux-gnu-g++ --ar=x86_64-pc-linux-gnu-ar
 --optflags='-march=native -O2 -pipe -g' --extra-cflags='-march=native -O2
 -pipe -g' --extra-cxxflags='-march=native -O2 -pipe -g' --disable-static
 --enable-gpl --enable-postproc --enable-avfilter --enable-avresample
 --disable-stripping --enable-version3 --disable-indev=oss --disable-
 indev=jack --disable-outdev=oss --enable-version3 --enable-bzlib
 --disable-runtime-cpudetect --disable-debug --disable-doc --disable-gnutls
 --enable-hardcoded-tables --enable-iconv --disable-network --disable-
 openssl --enable-ffplay --disable-vaapi --disable-vdpau --enable-zlib
 --enable-libvo-aacenc --disable-libvo-amrwbenc --enable-libmp3lame
 --disable-libfdk-aac --disable-libaacplus --disable-libfaac --enable-
 libtheora --disable-libtwolame --disable-libwavpack --enable-libx264
 --enable-libxvid --disable-libcdio --disable-libiec61883 --enable-
 libdc1394 --disable-libcaca --enable-openal --disable-libv4l2 --disable-
 libpulse --enable-x11grab --disable-libflite --disable-frei0r --disable-
 fontconfig --disable-libass --enable-libfreetype --disable-libsoxr
 --enable-pthreads --enable-libopencore-amrwb --enable-libopencore-amrnb
 --enable-libopenjpeg --disable-libbluray --disable-libcelt --disable-
 libgme --disable-libgsm --disable-libmodplug --disable-libopus --disable-
 libquvi --disable-librtmp --disable-libschroedinger --disable-libspeex
 --enable-libvorbis --disable-libvpx --disable-amd3dnow --disable-
 amd3dnowext --disable-altivec --disable-vis --disable-neon --cpu=host
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.101 / 55. 33.101
   libavformat    55. 18.104 / 55. 18.104
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libavresample   1.  1.  0 /  1.  1.  0
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mpegts @ 0x220a320] probed stream 0 failed
 [mpegts @ 0x220a320] Could not find codec parameters for stream 0
 (Unknown: none (HDMV / 0x564D4448)): unknown codec
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 right_video_sample.m2ts: could not find codec parameters


 mediainfo is able to recognize the AVC codec
 $ mediainfo AVC_codec_not_recognized_right_video_sample.m2ts
 General
 ID                                       : 0 (0x0)
 Complete name                            : right_video_sample.m2ts
 Format                                   : BDAV
 Format/Info                              : Blu-ray Video
 File size                                : 9.77 MiB
 Duration                                 : 4s 593ms
 Overall bit rate mode                    : Variable
 Overall bit rate                         : 17.7 Mbps
 Maximum Overall bit rate                 : 48.0 Mbps

 Video
 ID                                       : 4114 (0x1012)
 Menu ID                                  : 1 (0x1)
 Format                                   : AVC
 Format/Info                              : Advanced Video Codec
 Format profile                           : Stereo High at L4.1
 MultiView_Count                          : 2
 Format settings, CABAC                   : Yes
 Format settings, ReFrames                : 4 frames
 Codec ID                                 : 32
 Duration                                 : 4s 296ms
 Bit rate mode                            : Variable
 Bit rate                                 : 17.0 Mbps
 Maximum bit rate                         : 22.6 Mbps
 Width                                    : 1 920 pixels
 Height                                   : 1 080 pixels
 Display aspect ratio                     : 16:9
 Frame rate                               : 23.976 fps
 Color space                              : YUV
 Chroma subsampling                       : 4:2:0
 Bit depth                                : 8 bits
 Scan type                                : Progressive
 Bits/(Pixel*Frame)                       : 0.341
 Stream size                              : 8.68 MiB (89%)

 The output of
 $ ffmpeg -v 9 -loglevel 99 -i
 AVC_codec_not_recognized_right_video_sample.m2ts
 is show below

 In comparison, the left video file from the same 3D source, is recognized

 $ ffmpeg -i AVC_codec_recognized_left_video_sample.m2ts
 ffmpeg version N-56704-g3e0c78b Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 27 2013 16:48:11 with gcc 4.7.3 (Gentoo 4.7.3 p1.2,
 pie-0.5.5)
   configuration: --prefix=/usr --libdir=/usr/lib64 --shlibdir=/usr/lib64
 --mandir=/usr/share/man --enable-shared --cc=x86_64-pc-linux-gnu-gcc
 --cxx=x86_64-pc-linux-gnu-g++ --ar=x86_64-pc-linux-gnu-ar
 --optflags='-march=native -O2 -pipe -g' --extra-cflags='-march=native -O2
 -pipe -g' --extra-cxxflags='-march=native -O2 -pipe -g' --disable-static
 --enable-gpl --enable-postproc --enable-avfilter --enable-avresample
 --disable-stripping --enable-version3 --disable-indev=oss --disable-
 indev=jack --disable-outdev=oss --enable-version3 --enable-bzlib
 --disable-runtime-cpudetect --disable-debug --disable-doc --disable-gnutls
 --enable-hardcoded-tables --enable-iconv --disable-network --disable-
 openssl --enable-ffplay --disable-vaapi --disable-vdpau --enable-zlib
 --enable-libvo-aacenc --disable-libvo-amrwbenc --enable-libmp3lame
 --disable-libfdk-aac --disable-libaacplus --disable-libfaac --enable-
 libtheora --disable-libtwolame --disable-libwavpack --enable-libx264
 --enable-libxvid --disable-libcdio --disable-libiec61883 --enable-
 libdc1394 --disable-libcaca --enable-openal --disable-libv4l2 --disable-
 libpulse --enable-x11grab --disable-libflite --disable-frei0r --disable-
 fontconfig --disable-libass --enable-libfreetype --disable-libsoxr
 --enable-pthreads --enable-libopencore-amrwb --enable-libopencore-amrnb
 --enable-libopenjpeg --disable-libbluray --disable-libcelt --disable-
 libgme --disable-libgsm --disable-libmodplug --disable-libopus --disable-
 libquvi --disable-librtmp --disable-libschroedinger --disable-libspeex
 --enable-libvorbis --disable-libvpx --disable-amd3dnow --disable-
 amd3dnowext --disable-altivec --disable-vis --disable-neon --cpu=host
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.101 / 55. 33.101
   libavformat    55. 18.104 / 55. 18.104
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libavresample   1.  1.  0 /  1.  1.  0
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [mpegts @ 0x244e0a0] Stream #2: not enough frames to estimate rate;
 consider increasing probesize
 [NULL @ 0x2453540] start time is not set in estimate_timings_from_pts
 [mpegts @ 0x244e0a0] PES packet size mismatch
 [mpegts @ 0x244e0a0] Could not find codec parameters for stream 2
 (Subtitle: hdmv_pgs_subtitle ([144][0][0][0] / 0x0090)): unspecified size
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 Input #0, mpegts, from 'AVC_codec_recognized_left_video_sample.m2ts':
   Duration: 00:00:02.88, start: 11.608967, bitrate: 28465 kb/s
   Program 1
     Stream #0:0[0x1011]: Video: h264 (High) (HDMV / 0x564D4448), yuv420p,
 1920x1080 [SAR 1:1 DAR 16:9], 23.98 fps, 23.98 tbr, 90k tbn, 47.95 tbc
     Stream #0:1[0x1100]: Audio: dts (DTS-HD MA) ([134][0][0][0] / 0x0086),
 48000 Hz, 5.1(side), fltp, 1536 kb/s
     Stream #0:2[0x1200]: Subtitle: hdmv_pgs_subtitle ([144][0][0][0] /
 0x0090)

 $ mediainfo AVC_codec_recognized_left_video_sample.m2ts
 General
 ID                                       : 0 (0x0)
 Complete name                            :
 AVC_codec_recognized_left_video_sample.m2ts
 Format                                   : BDAV
 Format/Info                              : Blu-ray Video
 File size                                : 9.77 MiB
 Duration                                 : 2s 791ms
 Overall bit rate mode                    : Variable
 Overall bit rate                         : 28.8 Mbps
 Maximum Overall bit rate                 : 48.0 Mbps

 Video
 ID                                       : 4113 (0x1011)
 Menu ID                                  : 1 (0x1)
 Format                                   : AVC
 Format/Info                              : Advanced Video Codec
 Format profile                           : High at L4.1
 Format settings, CABAC                   : Yes
 Format settings, ReFrames                : 4 frames
 Codec ID                                 : 27
 Duration                                 : 2s 878ms
 Bit rate mode                            : Variable
 Maximum bit rate                         : 33.9 Mbps
 Width                                    : 1 920 pixels
 Height                                   : 1 080 pixels
 Display aspect ratio                     : 16:9
 Frame rate                               : 23.976 fps
 Color space                              : YUV
 Chroma subsampling                       : 4:2:0
 Bit depth                                : 8 bits
 Scan type                                : Progressive

 Audio
 ID                                       : 4352 (0x1100)
 Menu ID                                  : 1 (0x1)
 Format                                   : DTS
 Format/Info                              : Digital Theater Systems
 Format profile                           : MA / Core
 Mode                                     : 16
 Format settings, Endianness              : Big
 Muxing mode                              : Stream extension
 Codec ID                                 : 134
 Duration                                 : 2s 763ms
 Bit rate mode                            : Variable
 Bit rate                                 : Unknown / 1 509 Kbps
 Channel count                            : 6 channels
 Channel positions                        : Front: L C R, Side: L R, LFE
 Sampling rate                            : 48.0 KHz
 Bit depth                                : 24 bits
 Compression mode                         : Lossless / Lossy

 Text
 ID                                       : 4608 (0x1200)
 Menu ID                                  : 1 (0x1)
 Format                                   : PGS
 Codec ID                                 : 144


 All files have been submitted to the ftp server in
 incoming/AVC_codec_in_m2ts_not_recognized


 How to reproduce:
 {{{
 Run
 $ ffmpeg -i AVC_codec_not_recognized_right_video_sample.m2ts

 $ ffmpeg -v 9 -loglevel 99 -i
 AVC_codec_not_recognized_right_video_sample.m2ts
 ffmpeg version N-56704-g3e0c78b Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 27 2013 16:48:11 with gcc 4.7.3 (Gentoo 4.7.3 p1.2,
 pie-0.5.5)
   configuration: --prefix=/usr --libdir=/usr/lib64 --shlibdir=/usr/lib64
 --mandir=/usr/share/man --enable-shared --cc=x86_64-pc-linux-gnu-gcc
 --cxx=x86_64-pc-linux-gnu-g++ --ar=x86_64-pc-linux-gnu-ar
 --optflags='-march=native -O2 -pipe -g' --extra-cflags='-march=native -O2
 -pipe -g' --extra-cxxflags='-march=native -O2 -pipe -g' --disable-static
 --enable-gpl --enable-postproc --enable-avfilter --enable-avresample
 --disable-stripping --enable-version3 --disable-indev=oss --disable-
 indev=jack --disable-outdev=oss --enable-version3 --enable-bzlib
 --disable-runtime-cpudetect --disable-debug --disable-doc --disable-gnutls
 --enable-hardcoded-tables --enable-iconv --disable-network --disable-
 openssl --enable-ffplay --disable-vaapi --disable-vdpau --enable-zlib
 --enable-libvo-aacenc --disable-libvo-amrwbenc --enable-libmp3lame
 --disable-libfdk-aac --disable-libaacplus --disable-libfaac --enable-
 libtheora --disable-libtwolame --disable-libwavpack --enable-libx264
 --enable-libxvid --disable-libcdio --disable-libiec61883 --enable-
 libdc1394 --disable-libcaca --enable-openal --disable-libv4l2 --disable-
 libpulse --enable-x11grab --disable-libflite --disable-frei0r --disable-
 fontconfig --disable-libass --enable-libfreetype --disable-libsoxr
 --enable-pthreads --enable-libopencore-amrwb --enable-libopencore-amrnb
 --enable-libopenjpeg --disable-libbluray --disable-libcelt --disable-
 libgme --disable-libgsm --disable-libmodplug --disable-libopus --disable-
 libquvi --disable-librtmp --disable-libschroedinger --disable-libspeex
 --enable-libvorbis --disable-libvpx --disable-amd3dnow --disable-
 amd3dnowext --disable-altivec --disable-vis --disable-neon --cpu=host
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.101 / 55. 33.101
   libavformat    55. 18.104 / 55. 18.104
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libavresample   1.  1.  0 /  1.  1.  0
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Splitting the commandline.
 Reading option '-v' ... matched as option 'v' (set logging level) with
 argument '9'.
 Reading option '-loglevel' ... matched as option 'loglevel' (set logging
 level) with argument '99'.
 Reading option '-i' ... matched as input file with argument
 'right_video_sample.m2ts'.
 Finished splitting the commandline.
 Parsing a group of options: global .
 Applying option v (set logging level) with argument 9.
 Successfully parsed a group of options.
 Parsing a group of options: input file right_video_sample.m2ts.
 Successfully parsed a group of options.
 Opening an input file: right_video_sample.m2ts.
 [mpegts @ 0xffe0e0] Format mpegts probed with size=2048 and score=100
 [mpegts @ 0xffe0e0] stream=0 stream_type=20 pid=1012 prog_reg_desc=HDMV
 [mpegts @ 0xffe0e0] File position before avformat_find_stream_info() is 0
 [mpegts @ 0xffe0e0] parser not found for codec none, packets or times may
 be invalid.
 [mpegts @ 0xffe0e0] probing stream 0 pp:2500
 [mpegts @ 0xffe0e0] probing stream 0 pp:2499
 [mpegts @ 0xffe0e0] probing stream 0 pp:2498
 [mpegts @ 0xffe0e0] probing stream 0 pp:2497
 [mpegts @ 0xffe0e0] probing stream 0 pp:2496
 [mpegts @ 0xffe0e0] probing stream 0 pp:2495
 [mpegts @ 0xffe0e0] probing stream 0 pp:2494
 [mpegts @ 0xffe0e0] probing stream 0 pp:2493
 [mpegts @ 0xffe0e0] probing stream 0 pp:2492
 [mpegts @ 0xffe0e0] probing stream 0 pp:2491
 [mpegts @ 0xffe0e0] probing stream 0 pp:2490
 [mpegts @ 0xffe0e0] probing stream 0 pp:2489
 [mpegts @ 0xffe0e0] probing stream 0 pp:2488
 [mpegts @ 0xffe0e0] probing stream 0 pp:2487
 [mpegts @ 0xffe0e0] probing stream 0 pp:2486
 [mpegts @ 0xffe0e0] probing stream 0 pp:2485
 [mpegts @ 0xffe0e0] probing stream 0 pp:2484
 [mpegts @ 0xffe0e0] probing stream 0 pp:2483
 [mpegts @ 0xffe0e0] probing stream 0 pp:2482
 [mpegts @ 0xffe0e0] probing stream 0 pp:2481
 [mpegts @ 0xffe0e0] probing stream 0 pp:2480
 [mpegts @ 0xffe0e0] probing stream 0 pp:2479
 [mpegts @ 0xffe0e0] probing stream 0 pp:2478
 [mpegts @ 0xffe0e0] probing stream 0 pp:2477
 [mpegts @ 0xffe0e0] probing stream 0 pp:2476
 [mpegts @ 0xffe0e0] probing stream 0 pp:2475
 [mpegts @ 0xffe0e0] probing stream 0 pp:2474
 [mpegts @ 0xffe0e0] probing stream 0 pp:2473
 [mpegts @ 0xffe0e0] probing stream 0 pp:2472
 [mpegts @ 0xffe0e0] probing stream 0 pp:2471
 [mpegts @ 0xffe0e0] probing stream 0 pp:2470
 [mpegts @ 0xffe0e0] probing stream 0 pp:2469
 [mpegts @ 0xffe0e0] probing stream 0 pp:2468
 [mpegts @ 0xffe0e0] probing stream 0 pp:2467
 [mpegts @ 0xffe0e0] probing stream 0 pp:2466
 [mpegts @ 0xffe0e0] probing stream 0 pp:2465
 [mpegts @ 0xffe0e0] probing stream 0 pp:2464
 [mpegts @ 0xffe0e0] probing stream 0 pp:2463
 [mpegts @ 0xffe0e0] probing stream 0 pp:2462
 [mpegts @ 0xffe0e0] probing stream 0 pp:2461
 [mpegts @ 0xffe0e0] probing stream 0 pp:2460
 [mpegts @ 0xffe0e0] probing stream 0 pp:2459
 [mpegts @ 0xffe0e0] probed stream 0 failed
 [mpegts @ 0xffe0e0] parser not found for codec none, packets or times may
 be invalid.
 [mpegts @ 0xffe0e0] Probe buffer size limit of 5000000 bytes reached
 [mpegts @ 0xffe0e0] Could not find codec parameters for stream 0 (Unknown:
 none (HDMV / 0x564D4448)): unknown codec
 Consider increasing the value for the 'analyzeduration' and 'probesize'
 options
 [mpegts @ 0xffe0e0] File position after avformat_find_stream_info() is 0
 right_video_sample.m2ts: could not find codec parameters
 [AVIOContext @ 0x10067a0] Statistics: 5558420 bytes read, 3 seeks

 }}}
 Patches should be submitted to the ffmpeg-devel mailing list and not this
 bug tracker.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3009>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 09:07:05 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 07:07:05 -0000
Subject: [FFmpeg-trac] #3009(avcodec:open): Support mvc (was: AVC codec
 in m2ts file not recognized by ffmpeg)
In-Reply-To: <037.674e8902f1763db0455497bd97e7c486@avcodec.org>
References: <037.674e8902f1763db0455497bd97e7c486@avcodec.org>
Message-ID: <052.20f32d473dc7b2d078cd543ed13ace8a@avcodec.org>

#3009: Support mvc
-------------------------------------+-------------------------------------
             Reporter:  skifreak     |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264 mvc     |               Blocked By:
  mpegts                             |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  FFmpeg => avcodec
 * priority:  normal => wish
 * version:  2.0.1 => git-master
 * keywords:  AVC, m2ts => h264 mvc mpegts
 * type:  defect => enhancement


Comment:

 Please explain how the samples were created (did you use software to
 separate the two streams or do you have a device that produces two
 separate streams) and please provide both samples.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3009#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 09:15:07 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 07:15:07 -0000
Subject: [FFmpeg-trac] #2828(avformat:new): HLS segment MPEGTS
 continuity counter is being incorrectly set to 0 on each segment
In-Reply-To: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
References: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
Message-ID: <054.299aed39a6ddebd5d404e5981f564cb7@avcodec.org>

#2828: HLS segment MPEGTS continuity counter is being incorrectly set to 0 on each
segment
-------------------------------------+------------------------------------
             Reporter:  dlevinson5   |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  unspecified  |               Resolution:
             Keywords:  hls mpegts   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by cehoyos):

 Please understand that if you want this problem fixed, two things will
 certainly help:
 * A simple command line that allows to produce such a "bad" stream
 together with complete, uncut console output, if possible without using
 external libraries (ie without using libx264) and using internal source
 (-f lavfi -i testsrc). Both make testing very significantly easier.
 * Steps how to reproduce that the resulting output is "bad".

 On a general note, please understand that while an analysis of the problem
 is nice, it is certainly not (never) required and it definitely should
 never replace the actual report (that contains a simple command line,
 complete, uncut console output and a short explanation what the problem is
 or how the problem can be seen). Patches are even better but please do not
 send them to this bug tracker, except if you just want to test them.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2828#comment:8>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 09:27:27 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 07:27:27 -0000
Subject: [FFmpeg-trac] #3009(avcodec:open): Support mvc
In-Reply-To: <037.674e8902f1763db0455497bd97e7c486@avcodec.org>
References: <037.674e8902f1763db0455497bd97e7c486@avcodec.org>
Message-ID: <052.f5efdc88dd8e5f0cd0e74664f99fa239@avcodec.org>

#3009: Support mvc
-------------------------------------+-------------------------------------
             Reporter:  skifreak     |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264 mvc     |               Blocked By:
  mpegts                             |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by skifreak):

 Replying to [comment:1 cehoyos]:
 > Please explain how the samples were created (did you use software to
 separate the two streams or do you have a device that produces two
 separate streams) and please provide both samples.

 I obtained the samples through a passthrough bluray rip using DVDFab from
 a 3D bluray. These streams have not been altered from the bluray in any
 way. I provided both samples, as stated in the bug report, under
 incoming/AVC_codec_in_m2ts_not_recognized/. Inside there are three files:

 AVC_codec_not_recognized_README.txt
 AVC_codec_not_recognized_right_video_sample.m2ts
 AVC_codec_recognized_left_video_sample.m2ts

 As stated before, AVC_codec_recognized_left_video_sample.m2ts's codec is
 recognized with ffmpeg and playable with mplayer, while
 AVC_codec_not_recognized_right_video_sample.m2ts 's (same AVC) codec
  is not recognized by ffmpeg. mediainfo is able to recognize the codec in
 both files.

 Please let me know if I can provide any more information. I greatly
 appreciate all of your assistance and help in this matter.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3009#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 09:39:53 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 07:39:53 -0000
Subject: [FFmpeg-trac] #3009(avcodec:open): Support mvc
In-Reply-To: <037.674e8902f1763db0455497bd97e7c486@avcodec.org>
References: <037.674e8902f1763db0455497bd97e7c486@avcodec.org>
Message-ID: <052.b4e0bebbc6d4198a2c6e637b417b3b25@avcodec.org>

#3009: Support mvc
-------------------------------------+-------------------------------------
             Reporter:  skifreak     |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264 mvc     |               Blocked By:
  mpegts                             |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 (Sorry that I missed the uploaded files)

 Am I correct that the original files on the Bluray are named 00001.MTS,
 00002.MTS, ... and that they contain two video streams (the "left" and the
 "right" one) in one file and that DVDFab created the files you uploaded by
 separating the video streams? Or do I misunderstand? (Sorry, I don't have
 a bluray player.)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3009#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 10:40:45 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 08:40:45 -0000
Subject: [FFmpeg-trac] #3009(avcodec:open): Support mvc
In-Reply-To: <037.674e8902f1763db0455497bd97e7c486@avcodec.org>
References: <037.674e8902f1763db0455497bd97e7c486@avcodec.org>
Message-ID: <052.2a3056a1b01a12e5d145caba3890100d@avcodec.org>

#3009: Support mvc
-------------------------------------+-------------------------------------
             Reporter:  skifreak     |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  h264 mvc     |               Blocked By:
  mpegts                             |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  1            |
-------------------------------------+-------------------------------------

Comment (by skifreak):

 Replying to [comment:3 cehoyos]:
 > (Sorry that I missed the uploaded files)
 >
 > Am I correct that the original files on the Bluray are named 00001.MTS,
 00002.MTS, ... and that they contain two video streams (the "left" and the
 "right" one) in one file and that DVDFab created the files you uploaded by
 separating the video streams? Or do I misunderstand? (Sorry, I don't have
 a bluray player.)

 The (full, not sample) files are named 0014.m2ts (left I believe) and
 0015.m2ts (right I believe). Each contains one video stream, the left
 containing sound and subtitle, the right containing neither. I'm not
 certain how the files are exactly contained on the disk, if separation was
 involved or not when they were created. From my past experience in
 passthrough with the software though, it would seem the files are exact
 duplicates of the contents on the disk. (There isn't a way I know of to
 check this for certain, since the disc needs to be decrypted to be viewed
 and DVDFab will not let me look at exactly which m2ts file(s) represent
 each stream.) You understand correctly, from what I can gather. (I don't
 have a bluray "player" in the sense either, just a bluray sata drive.)
 Thanks again for all of your work, I greatly appreciate your and all of
 the developers' help. ffmpeg has, and always will be, my one stop software
 for encoding.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3009#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 15:06:38 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 13:06:38 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.53b7d5f85b658ba18f8bf1c85e7e0b13@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 comment:185 was tested, along with qaac(Apple AAC). Apple AAC is a very
 good encoder, so the bitrate it uses must be close to the optimal.
 [[Image(http://i40.tinypic.com/2cok3rn.png)]]
 -q:a 0.3 vs -q:a 0.7 vs -q:a 0.7 vs -vbr 3 vs --tvbr 63 vs -V5
 Std.bitrate is 127.5, 127.0, 126.9, 126.9, 126.2, 129.9, all of them are
 very close to 128k.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:190>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 15:08:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 13:08:32 -0000
Subject: [FFmpeg-trac] #2828(avformat:new): HLS segment MPEGTS
 continuity counter is being incorrectly set to 0 on each segment
In-Reply-To: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
References: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
Message-ID: <054.5f90498284f386534955c97c0b61d774@avcodec.org>

#2828: HLS segment MPEGTS continuity counter is being incorrectly set to 0 on each
segment
-------------------------------------+------------------------------------
             Reporter:  dlevinson5   |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  unspecified  |               Resolution:
             Keywords:  hls mpegts   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by dlevinson5):

 => command-line to replicate (as noted in the original report)

 ffmpeg -i <source> -c copy -map 0 -vbsf h264_mp4toannexb -initial_offset
 10 -segment_list_type m3u8 -flags +global_header -f segment
 -segment_list_flags +live -segment_list_type m3u8 -segment_list
 \"{1}.m3u8\" -segment_time 10 -segment_format mpegts <output>_%d.ts

 => version of ffmpeg used => fmpeg version v2.0 /  N-54901-g55db06a /
 Win32/64

 => to validate the segment continuity I used tstools available from the
 link below. I used the tsreport -cnt <pid> <.ts file> which generates a
 continuity counter file. If you run this for each segment created from the
 prior command like you will see that each starts at 0 when it should
 continue from the prior segment which is the same as if you I was to use
 ffmpeg to create a full length mpeg2 file.

 http://code.google.com/p/tstools/

 You could also use ffprobe to dump out the continuity counter for each
 frame but you would need to modify the ffprobe source to output this value
 since I could not find a way to do this via the command-line.

 => This issue was raised by Apple engineers and from what I understand
 ffmpeg does not produce HLS complaint iOS content due to this break in the
 mpeg-ts specification.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2828#comment:9>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 15:38:25 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 13:38:25 -0000
Subject: [FFmpeg-trac] #2828(avformat:new): HLS segment MPEGTS
 continuity counter is being incorrectly set to 0 on each segment
In-Reply-To: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
References: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
Message-ID: <054.75dd511f78bf88e0bde3e280b17c640b@avcodec.org>

#2828: HLS segment MPEGTS continuity counter is being incorrectly set to 0 on each
segment
-------------------------------------+------------------------------------
             Reporter:  dlevinson5   |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  unspecified  |               Resolution:
             Keywords:  hls mpegts   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by cehoyos):

 You seem to believe that I cannot read: That is - afaict - not the case.

 Does the following allow to reproduce the problem?
 {{{
 $ ffmpeg -f lavfi -i testsrc -t 120 out.m3u8
 }}}
 If yes, please explain how to use tsreport, dvbsnoop or vlc to verify the
 problem. If not, try to add the absolutely necessary options.

 Generally, please do not post command lines that contain variables, always
 post actual command lines, and always post the complete, uncut console
 output together with the command line. If a problem is reproducible
 without x264, don't use it, if x264 is needed, add a short explanation
 why.

 I don't know how difficult it will be to export the continuity counter
 from the mpegts muxer to the hls muxer and to set the mpegts continuity
 counter from the hls muxer but I guess new functions
 ff_get_continuity_counter() and ff_set_continuity_counter() should allow
 that. In any case, please try to understand that it will take time to
 implement it, since time is the only limiting factor in FFmpeg
 development, I suggest you try hard to reduce the time by providing (very
 simple) fool-proof explanations how to reproduce the problem (for any
 ticket).

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2828#comment:10>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 15:54:28 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 13:54:28 -0000
Subject: [FFmpeg-trac] #2981(FFplay:open): ffplay cannot show 1pixel
 wide images
In-Reply-To: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
References: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
Message-ID: <049.a0ca4b4102561149d70e3820dd042f50@avcodec.org>

#2981: ffplay cannot show 1pixel wide images
------------------------------------+----------------------------------
             Reporter:  cyril       |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  minor       |                Component:  FFplay
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+----------------------------------

Comment (by cyril):

 I don't know how to reproduce with FFmpeg but I've just attached a small
 VC++ 2010 console main source file that triggers the bug every time in
 debug mode.
 Simply create a Win32 console application called JpegTest, use the file
 JpegTest.cpp attached, and configure the project for VS to find the FFmpeg
 headers, lib and dll files.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2981#comment:6>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 15:56:36 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 13:56:36 -0000
Subject: [FFmpeg-trac] #2981(FFplay:open): ffplay cannot show 1pixel
 wide images
In-Reply-To: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
References: <034.5ee407e61f0d5ca37fe916daf86ff76f@avcodec.org>
Message-ID: <049.c15659ec56c68970c66f116cbb8b8b0a@avcodec.org>

#2981: ffplay cannot show 1pixel wide images
------------------------------------+----------------------------------
             Reporter:  cyril       |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  minor       |                Component:  FFplay
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+----------------------------------

Comment (by cyril):

 VS also needs inttypes.h as it doesn't have one, contrary to gcc.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2981#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 16:00:35 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 14:00:35 -0000
Subject: [FFmpeg-trac] #2828(avformat:new): HLS segment MPEGTS
 continuity counter is being incorrectly set to 0 on each segment
In-Reply-To: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
References: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
Message-ID: <054.ca3ce4118e7366e836c34f8049fe8730@avcodec.org>

#2828: HLS segment MPEGTS continuity counter is being incorrectly set to 0 on each
segment
-------------------------------------+------------------------------------
             Reporter:  dlevinson5   |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  unspecified  |               Resolution:
             Keywords:  hls mpegts   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by saste):

 Replying to [comment:1 cehoyos]:
 > Please provide an actual failing command line together with the
 complete, uncut console output to make this a valid ticket.
 > If you have a patch fixing the problem, please send it (with git format-
 patch or as unified diff) to the ffmpeg-devel mailing list.

 +1 for the patch. The whole C file is not useful, since we can't spot the
 difference with your reference, nor it is easy to check the difference
 with the actual version since other unrelated changes may be present in
 the new version.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2828#comment:11>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 17:02:09 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 15:02:09 -0000
Subject: [FFmpeg-trac] #3010(undetermined:new): vqf: deadlock with forced
 format
Message-ID: <038.4efba7faa3ef6f11b72868560487e596@avcodec.org>

#3010: vqf: deadlock with forced format
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://samples.mplayerhq.hu/A-codecs/DSS/DS230002.DSS

 {{{
 (gdb) r -f vqf -i ./DS230002.DSS -f null -
 Starting program: /media/sdb1/ffmpeg-HEAD-5dc6c0e/ffmpeg_g -f vqf -i
 ./DS230002.DSS -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-5dc6c0e Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 26 2013 20:30:42 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffserver --disable-
 ffprobe
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100

 Program received signal SIGINT, Interrupt.
 0xb7f8ed1e in __read_nocancel () at ../sysdeps/unix/syscall-template.S:82
 82      ../sysdeps/unix/syscall-template.S: No such file or directory.
 (gdb) bt
 #0  0xb7f8ed1e in __read_nocancel () at ../sysdeps/unix/syscall-
 template.S:82
 #1  0x08168f6e in file_read (h=0x911c2c0, buf=0x911c380 "\002dss\001",
     size=<optimized out>) at libavformat/file.c:86
 #2  0x0815282d in retry_transfer_wrapper (transfer_func=0x8168f40
 <file_read>,
     size_min=1, size=32768, buf=0x911c380 "\002dss\001", h=0x911c2c0)
     at libavformat/avio.c:278
 #3  ffurl_read (h=0x911c2c0, buf=0x911c380 "\002dss\001", size=32768)
     at libavformat/avio.c:309
 #4  0x081533ca in fill_buffer (s=s at entry=0x91243c0)
     at libavformat/aviobuf.c:428
 #5  0x081562d2 in url_feof (s=0x91243c0) at libavformat/aviobuf.c:286
 #6  avio_read (s=0x91243c0, buf=0x9126760 "\240\257\022\t8f\022\t",
     size=<optimized out>) at libavformat/aviobuf.c:523
 #7  0x08246c41 in add_metadata (remaining=549346547, tag_len=0, tag=0,
     s=0x911bd80) at libavformat/vqf.c:61
 #8  vqf_read_header (s=0x911bd80) at libavformat/vqf.c:160
 #9  0x08242d65 in avformat_open_input (ps=ps at entry=0xbffff430,
     filename=filename at entry=0xbffffb65 "./DS230002.DSS",
     fmt=fmt at entry=0x8b060e0, options=0x910ff54) at libavformat/utils.c:521
 #10 0x080a67a4 in open_input_file (o=o at entry=0xbffff52c,
     filename=<optimized out>) at ffmpeg_opt.c:792
 #11 0x080a5107 in open_files (inout=inout at entry=0x88eccdb "input",
     open_file=open_file at entry=0x80a6500 <open_input_file>,
 ---Type <return> to continue, or q <return> to quit---
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>)
     at ffmpeg_opt.c:2494
 #12 0x080ad319 in ffmpeg_parse_options (argc=argc at entry=8,
     argv=argv at entry=0xbffff9b4) at ffmpeg_opt.c:2531
 #13 0x080a280a in main (argc=8, argv=0xbffff9b4) at ffmpeg.c:3393
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3010>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 17:02:38 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 15:02:38 -0000
Subject: [FFmpeg-trac] #3011(undetermined:new): mtv: deadlock and mem eater
 with forced format
Message-ID: <038.ee3b44b9f01c4a6a32c668035ee00169@avcodec.org>

#3011: mtv: deadlock and mem eater with forced format
-------------------------------------+-------------------------------------
               Reporter:  ami_stuff  |                  Owner:
                   Type:  defect     |                 Status:  new
               Priority:  normal     |              Component:
                Version:             |  undetermined
  unspecified                        |               Keywords:
             Blocked By:             |               Blocking:
Reproduced by developer:  0          |  Analyzed by developer:  0
-------------------------------------+-------------------------------------
 http://samples.mplayerhq.hu/A-codecs/Nelly_Moser/h264_NellyMoser.mp4

 {{{
 (gdb) r -f mtv -i ./h264_NellyMoser.mp4 -f null -
 The program being debugged has been started already.
 Start it from the beginning? (y or n) y

 Starting program: /media/sdb1/ffmpeg-HEAD-5dc6c0e/ffmpeg_g -f mtv -i
 ./h264_NellyMoser.mp4 -f null -
 [Thread debugging using libthread_db enabled]
 Using host libthread_db library "/lib/i386-linux-gnu/libthread_db.so.1".
 ffmpeg version 2.0-5dc6c0e Copyright (c) 2000-2013 the FFmpeg developers
   built on Sep 26 2013 20:30:42 with gcc 4.7 (Debian 4.7.2-5)
   configuration: --disable-yasm --enable-gpl --disable-ffserver --disable-
 ffprobe
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.100 / 55. 33.100
   libavformat    55. 18.102 / 55. 18.102
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 87.100 /  3. 87.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 Ignoring attempt to set invalid timebase 1/0 for st:0
 [NULL @ 0x9124760] [IMGUTILS @ 0xbfffed94] Picture size 28116x13897 is
 invalid
 [NULL @ 0x9124760] Ignoring invalid width/height values
 [IMGUTILS @ 0xbfffed34] Picture size 0x0 is invalid

 Program received signal SIGINT, Interrupt.
 0xb7ea76b4 in _int_malloc (av=<optimized out>, bytes=<optimized out>)
     at malloc.c:4636
 4636    malloc.c: No such file or directory.
 (gdb) bt
 #0  0xb7ea76b4 in _int_malloc (av=<optimized out>, bytes=<optimized out>)
     at malloc.c:4636
 #1  0xb7ea8297 in _int_memalign (av=<optimized out>, alignment=32,
 bytes=12)
     at malloc.c:5492
 #2  0xb7ea99b7 in *__GI___libc_memalign (alignment=32, bytes=12)
     at malloc.c:3880
 #3  0xb7ea9bd9 in __posix_memalign (memptr=memptr at entry=0xbfffeddc,
     alignment=511434760, alignment at entry=32, size=511368808,
 size at entry=12)
     at malloc.c:6315
 #4  0x08875e78 in av_malloc (size=12) at libavutil/mem.c:93
 #5  av_mallocz (size=size at entry=12) at libavutil/mem.c:243
 #6  0x088689dd in av_buffer_create (flags=0, opaque=0x0,
     free=0x88682d0 <av_buffer_default_free>, size=16,
     data=0x29161208 "\340\017\026)") at libavutil/buffer.c:47
 #7  av_buffer_realloc (pbuf=pbuf at entry=0xbfffee4c, size=size at entry=16)
     at libavutil/buffer.c:168
 #8  0x0827c6d3 in packet_alloc (size=0, buf=0xbfffee4c)
     at libavcodec/avpacket.c:74
 #9  av_new_packet (size=0, pkt=0xbffff058) at libavcodec/avpacket.c:86
 #10 av_grow_packet (pkt=pkt at entry=0xbffff058, grow_by=grow_by at entry=0)
     at libavcodec/avpacket.c:116
 #11 0x08237c54 in append_packet_chunked (s=s at entry=0x91243e0,
     pkt=pkt at entry=0xbffff058, size=size at entry=0) at
 libavformat/utils.c:156
 ---Type <return> to continue, or q <return> to quit---
 #12 0x08237db1 in av_get_packet (s=s at entry=0x91243e0,
     pkt=pkt at entry=0xbffff058, size=size at entry=0) at
 libavformat/utils.c:184
 #13 0x081cb924 in mtv_read_packet (s=0x911bd80, pkt=0xbffff058)
     at libavformat/mtv.c:186
 #14 0x08238ad7 in ff_read_packet (s=s at entry=0x911bd80,
     pkt=pkt at entry=0xbffff058) at libavformat/utils.c:652
 #15 0x0823b419 in read_frame_internal (s=s at entry=0x911bd80,
     pkt=pkt at entry=0xbffff238) at libavformat/utils.c:1310
 #16 0x0823f055 in avformat_find_stream_info (ic=0x911bd80,
 options=0x911c320)
     at libavformat/utils.c:2795
 #17 0x080a68e5 in open_input_file (o=o at entry=0xbffff51c,
     filename=<optimized out>) at ffmpeg_opt.c:809
 #18 0x080a5107 in open_files (inout=inout at entry=0x88eccdb "input",
     open_file=open_file at entry=0x80a6500 <open_input_file>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>,
     l=<error reading variable: Unhandled dwarf expression opcode 0xfa>)
     at ffmpeg_opt.c:2494
 #19 0x080ad319 in ffmpeg_parse_options (argc=argc at entry=8,
     argv=argv at entry=0xbffff9a4) at ffmpeg_opt.c:2531
 #20 0x080a280a in main (argc=8, argv=0xbffff9a4) at ffmpeg.c:3393
 (gdb)
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3011>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 18:10:41 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 16:10:41 -0000
Subject: [FFmpeg-trac] #3010(avformat:closed): vqf: deadlock with forced
 format
In-Reply-To: <038.4efba7faa3ef6f11b72868560487e596@avcodec.org>
References: <038.4efba7faa3ef6f11b72868560487e596@avcodec.org>
Message-ID: <053.1371b0ffbbd936f4254b141d78d3f342@avcodec.org>

#3010: vqf: deadlock with forced format
--------------------------------------+------------------------------------
             Reporter:  ami_stuff     |                    Owner:
                 Type:  defect        |                   Status:  closed
             Priority:  important     |                Component:  avformat
              Version:  git-master    |               Resolution:  fixed
             Keywords:  deadlock vqf  |               Blocked By:
             Blocking:                |  Reproduced by developer:  1
Analyzed by developer:  0             |
--------------------------------------+------------------------------------
Changes (by richardpl):

 * status:  new => closed
 * reproduced:  0 => 1
 * component:  undetermined => avformat
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => deadlock vqf
 * resolution:   => fixed


Comment:

 Fixed in 07da0854fe98793b17a7125ff96c54b206e452a4.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3010#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 18:18:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 16:18:40 -0000
Subject: [FFmpeg-trac] #2993(swresample:open): swr ssse3: invalid read
 with forced mp3adu
In-Reply-To: <038.96a2428a228a15d85b1a7ef64dba0d9b@avcodec.org>
References: <038.96a2428a228a15d85b1a7ef64dba0d9b@avcodec.org>
Message-ID: <053.ef7c863869353ab31daef650f7f00dc1@avcodec.org>

#2993: swr ssse3: invalid read with forced mp3adu
------------------------------------+--------------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  swresample
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+--------------------------------------

Comment (by ami_stuff):

 I was able to prepare a file to reproduce this.

 http://www1.datafilehost.com/d/ad6be63f

 {{{
 knoppix at Microknoppix:/media/sdb1$ valgrind --leak-check=full ffmpeg-HEAD-
 5dc6c0e/ffmpeg_g -i ./out.mov -loglevel 0 -f null -
 ==6738== Memcheck, a memory error detector
 ==6738== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
 ==6738== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
 ==6738== Command: ffmpeg-HEAD-5dc6c0e/ffmpeg_g -i ./out.mov -loglevel 0 -f
 null -
 ==6738==
 ==6738== Invalid read of size 8
 ==6738==    at 0x8824807: swri_resample_int16_ssse3
 (resample_template.c:122)
 ==6738==    by 0x8824FDF: multiple_resample (resample.c:321)
 ==6738==    by 0x881BF04: resample (swresample.c:569)
 ==6738==    by 0x437C69F: ???
 ==6738==  Address 0x4305b1c is 764 bytes inside a block of size 768
 alloc'd
 ==6738==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==6738==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==6738==    by 0x8875B97: av_malloc (mem.c:93)
 ==6738==    by 0x88682F8: av_buffer_alloc (buffer.c:70)
 ==6738==    by 0x8868B28: av_buffer_pool_get (buffer.c:305)
 ==6738==    by 0x8677CD0: audio_get_buffer (utils.c:540)
 ==6738==    by 0x8679850: get_buffer_internal (utils.c:876)
 ==6738==    by 0x8679DE3: ff_get_buffer (utils.c:888)
 ==6738==    by 0x8569A78: mp_decode_frame (mpegaudiodec.c:1633)
 ==6738==    by 0x856A050: decode_frame (mpegaudiodec.c:1709)
 ==6738==    by 0x867C0F4: avcodec_decode_audio4 (utils.c:2136)
 ==6738==    by 0x80B5859: decode_audio (ffmpeg.c:1526)
 ==6738==
 ==6738== Invalid read of size 8
 ==6738==    at 0x8824807: swri_resample_int16_ssse3
 (resample_template.c:122)
 ==6738==    by 0x8824FDF: multiple_resample (resample.c:321)
 ==6738==    by 0x881BF04: resample (swresample.c:569)
 ==6738==    by 0x456D15F: ???
 ==6738==  Address 0x449045c is 764 bytes inside a block of size 768
 alloc'd
 ==6738==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==6738==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==6738==    by 0x8875B97: av_malloc (mem.c:93)
 ==6738==    by 0x88682F8: av_buffer_alloc (buffer.c:70)
 ==6738==    by 0x8868B28: av_buffer_pool_get (buffer.c:305)
 ==6738==    by 0x8677CD0: audio_get_buffer (utils.c:540)
 ==6738==    by 0x8679850: get_buffer_internal (utils.c:876)
 ==6738==    by 0x8679DE3: ff_get_buffer (utils.c:888)
 ==6738==    by 0x8569A78: mp_decode_frame (mpegaudiodec.c:1633)
 ==6738==    by 0x856A050: decode_frame (mpegaudiodec.c:1709)
 ==6738==    by 0x867C0F4: avcodec_decode_audio4 (utils.c:2136)
 ==6738==    by 0x80B5859: decode_audio (ffmpeg.c:1526)
 ==6738==
 ==6738== Invalid read of size 8
 ==6738==    at 0x8824807: swri_resample_int16_ssse3
 (resample_template.c:122)
 ==6738==    by 0x8824FDF: multiple_resample (resample.c:321)
 ==6738==    by 0x881BF04: resample (swresample.c:569)
 ==6738==    by 0xABF4DFF: ???
 ==6738==  Address 0xab84c9c is 764 bytes inside a block of size 768
 alloc'd
 ==6738==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==6738==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==6738==    by 0x8875B97: av_malloc (mem.c:93)
 ==6738==    by 0x88682F8: av_buffer_alloc (buffer.c:70)
 ==6738==    by 0x8868B28: av_buffer_pool_get (buffer.c:305)
 ==6738==    by 0x8677CD0: audio_get_buffer (utils.c:540)
 ==6738==    by 0x8679850: get_buffer_internal (utils.c:876)
 ==6738==    by 0x8679DE3: ff_get_buffer (utils.c:888)
 ==6738==    by 0x8569A78: mp_decode_frame (mpegaudiodec.c:1633)
 ==6738==    by 0x856A050: decode_frame (mpegaudiodec.c:1709)
 ==6738==    by 0x867C0F4: avcodec_decode_audio4 (utils.c:2136)
 ==6738==    by 0x80B5859: decode_audio (ffmpeg.c:1526)
 ==6738==
 ==6738== Invalid read of size 8
 ==6738==    at 0x8824807: swri_resample_int16_ssse3
 (resample_template.c:122)
 ==6738==    by 0x8824FDF: multiple_resample (resample.c:321)
 ==6738==    by 0x881BF04: resample (swresample.c:569)
 ==6738==    by 0xAC6969F: ???
 ==6738==  Address 0xab84c9c is 764 bytes inside a block of size 768
 alloc'd
 ==6738==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==6738==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==6738==    by 0x8875B97: av_malloc (mem.c:93)
 ==6738==    by 0x88682F8: av_buffer_alloc (buffer.c:70)
 ==6738==    by 0x8868B28: av_buffer_pool_get (buffer.c:305)
 ==6738==    by 0x8677CD0: audio_get_buffer (utils.c:540)
 ==6738==    by 0x8679850: get_buffer_internal (utils.c:876)
 ==6738==    by 0x8679DE3: ff_get_buffer (utils.c:888)
 ==6738==    by 0x8569A78: mp_decode_frame (mpegaudiodec.c:1633)
 ==6738==    by 0x856A050: decode_frame (mpegaudiodec.c:1709)
 ==6738==    by 0x867C0F4: avcodec_decode_audio4 (utils.c:2136)
 ==6738==    by 0x80B5859: decode_audio (ffmpeg.c:1526)
 ==6738==
 ==6738== Invalid read of size 8
 ==6738==    at 0x8824807: swri_resample_int16_ssse3
 (resample_template.c:122)
 ==6738==    by 0x8824FDF: multiple_resample (resample.c:321)
 ==6738==    by 0x881BF04: resample (swresample.c:569)
 ==6738==    by 0xAF0FABF: ???
 ==6738==  Address 0xae8c93c is 764 bytes inside a block of size 768
 alloc'd
 ==6738==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==6738==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==6738==    by 0x8875B97: av_malloc (mem.c:93)
 ==6738==    by 0x88682F8: av_buffer_alloc (buffer.c:70)
 ==6738==    by 0x8868B28: av_buffer_pool_get (buffer.c:305)
 ==6738==    by 0x8677CD0: audio_get_buffer (utils.c:540)
 ==6738==    by 0x8679850: get_buffer_internal (utils.c:876)
 ==6738==    by 0x8679DE3: ff_get_buffer (utils.c:888)
 ==6738==    by 0x8569A78: mp_decode_frame (mpegaudiodec.c:1633)
 ==6738==    by 0x856A050: decode_frame (mpegaudiodec.c:1709)
 ==6738==    by 0x867C0F4: avcodec_decode_audio4 (utils.c:2136)
 ==6738==    by 0x80B5859: decode_audio (ffmpeg.c:1526)
 ==6738==
 ==6738== Invalid read of size 8
 ==6738==    at 0x8824807: swri_resample_int16_ssse3
 (resample_template.c:122)
 ==6738==    by 0x8824FDF: multiple_resample (resample.c:321)
 ==6738==    by 0x881BF04: resample (swresample.c:569)
 ==6738==    by 0xB162FFF: ???
 ==6738==  Address 0xb10ce9c is 764 bytes inside a block of size 768
 alloc'd
 ==6738==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==6738==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==6738==    by 0x8875B97: av_malloc (mem.c:93)
 ==6738==    by 0x88682F8: av_buffer_alloc (buffer.c:70)
 ==6738==    by 0x8868B28: av_buffer_pool_get (buffer.c:305)
 ==6738==    by 0x8677CD0: audio_get_buffer (utils.c:540)
 ==6738==    by 0x8679850: get_buffer_internal (utils.c:876)
 ==6738==    by 0x8679DE3: ff_get_buffer (utils.c:888)
 ==6738==    by 0x8569A78: mp_decode_frame (mpegaudiodec.c:1633)
 ==6738==    by 0x856A050: decode_frame (mpegaudiodec.c:1709)
 ==6738==    by 0x867C0F4: avcodec_decode_audio4 (utils.c:2136)
 ==6738==    by 0x80B5859: decode_audio (ffmpeg.c:1526)
 ==6738==
 ==6738== Invalid read of size 8
 ==6738==    at 0x8824807: swri_resample_int16_ssse3
 (resample_template.c:122)
 ==6738==    by 0x8824FDF: multiple_resample (resample.c:321)
 ==6738==    by 0x881BF04: resample (swresample.c:569)
 ==6738==    by 0xB4CB01F: ???
 ==6738==  Address 0xb4477fc is 764 bytes inside a block of size 768
 alloc'd
 ==6738==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==6738==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==6738==    by 0x8875B97: av_malloc (mem.c:93)
 ==6738==    by 0x88682F8: av_buffer_alloc (buffer.c:70)
 ==6738==    by 0x8868B28: av_buffer_pool_get (buffer.c:305)
 ==6738==    by 0x8677CD0: audio_get_buffer (utils.c:540)
 ==6738==    by 0x8679850: get_buffer_internal (utils.c:876)
 ==6738==    by 0x8679DE3: ff_get_buffer (utils.c:888)
 ==6738==    by 0x8569A78: mp_decode_frame (mpegaudiodec.c:1633)
 ==6738==    by 0x856A050: decode_frame (mpegaudiodec.c:1709)
 ==6738==    by 0x867C0F4: avcodec_decode_audio4 (utils.c:2136)
 ==6738==    by 0x80B5859: decode_audio (ffmpeg.c:1526)
 ==6738==
 ==6738== Invalid read of size 8
 ==6738==    at 0x8824807: swri_resample_int16_ssse3
 (resample_template.c:122)
 ==6738==    by 0x8824FDF: multiple_resample (resample.c:321)
 ==6738==    by 0x881BF04: resample (swresample.c:569)
 ==6738==    by 0xB6E83BF: ???
 ==6738==  Address 0xb635f3c is 764 bytes inside a block of size 768
 alloc'd
 ==6738==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==6738==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==6738==    by 0x8875B97: av_malloc (mem.c:93)
 ==6738==    by 0x88682F8: av_buffer_alloc (buffer.c:70)
 ==6738==    by 0x8868B28: av_buffer_pool_get (buffer.c:305)
 ==6738==    by 0x8677CD0: audio_get_buffer (utils.c:540)
 ==6738==    by 0x8679850: get_buffer_internal (utils.c:876)
 ==6738==    by 0x8679DE3: ff_get_buffer (utils.c:888)
 ==6738==    by 0x8569A78: mp_decode_frame (mpegaudiodec.c:1633)
 ==6738==    by 0x856A050: decode_frame (mpegaudiodec.c:1709)
 ==6738==    by 0x867C0F4: avcodec_decode_audio4 (utils.c:2136)
 ==6738==    by 0x80B5859: decode_audio (ffmpeg.c:1526)
 ==6738==
 ==6738== Invalid read of size 8
 ==6738==    at 0x8824807: swri_resample_int16_ssse3
 (resample_template.c:122)
 ==6738==    by 0x8824FDF: multiple_resample (resample.c:321)
 ==6738==    by 0x881BF04: resample (swresample.c:569)
 ==6738==    by 0xB8249FF: ???
 ==6738==  Address 0xb7b17bc is 764 bytes inside a block of size 768
 alloc'd
 ==6738==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==6738==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==6738==    by 0x8875B97: av_malloc (mem.c:93)
 ==6738==    by 0x88682F8: av_buffer_alloc (buffer.c:70)
 ==6738==    by 0x8868B28: av_buffer_pool_get (buffer.c:305)
 ==6738==    by 0x8677CD0: audio_get_buffer (utils.c:540)
 ==6738==    by 0x8679850: get_buffer_internal (utils.c:876)
 ==6738==    by 0x8679DE3: ff_get_buffer (utils.c:888)
 ==6738==    by 0x8569A78: mp_decode_frame (mpegaudiodec.c:1633)
 ==6738==    by 0x856A050: decode_frame (mpegaudiodec.c:1709)
 ==6738==    by 0x867C0F4: avcodec_decode_audio4 (utils.c:2136)
 ==6738==    by 0x80B5859: decode_audio (ffmpeg.c:1526)
 ==6738==
 ==6738== Invalid read of size 8
 ==6738==    at 0x8824807: swri_resample_int16_ssse3
 (resample_template.c:122)
 ==6738==    by 0x8824FDF: multiple_resample (resample.c:321)
 ==6738==    by 0x881BF04: resample (swresample.c:569)
 ==6738==    by 0xB9F1FBF: ???
 ==6738==  Address 0xb9e6d9c is 2,300 bytes inside a block of size 2,304
 alloc'd
 ==6738==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==6738==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==6738==    by 0x8875B97: av_malloc (mem.c:93)
 ==6738==    by 0x88682F8: av_buffer_alloc (buffer.c:70)
 ==6738==    by 0x8868B28: av_buffer_pool_get (buffer.c:305)
 ==6738==    by 0x8677CD0: audio_get_buffer (utils.c:540)
 ==6738==    by 0x8679850: get_buffer_internal (utils.c:876)
 ==6738==    by 0x8679DE3: ff_get_buffer (utils.c:888)
 ==6738==    by 0x8569A78: mp_decode_frame (mpegaudiodec.c:1633)
 ==6738==    by 0x856A050: decode_frame (mpegaudiodec.c:1709)
 ==6738==    by 0x867C0F4: avcodec_decode_audio4 (utils.c:2136)
 ==6738==    by 0x80B5859: decode_audio (ffmpeg.c:1526)
 ==6738==
 ==6738== Invalid read of size 8
 ==6738==    at 0x8824807: swri_resample_int16_ssse3
 (resample_template.c:122)
 ==6738==    by 0x8824FDF: multiple_resample (resample.c:321)
 ==6738==    by 0x881BF04: resample (swresample.c:569)
 ==6738==    by 0xBB3025F: ???
 ==6738==  Address 0xbaaabdc is 764 bytes inside a block of size 768
 alloc'd
 ==6738==    at 0x40268A4: memalign (vg_replace_malloc.c:694)
 ==6738==    by 0x402695E: posix_memalign (vg_replace_malloc.c:835)
 ==6738==    by 0x8875B97: av_malloc (mem.c:93)
 ==6738==    by 0x88682F8: av_buffer_alloc (buffer.c:70)
 ==6738==    by 0x8868B28: av_buffer_pool_get (buffer.c:305)
 ==6738==    by 0x8677CD0: audio_get_buffer (utils.c:540)
 ==6738==    by 0x8679850: get_buffer_internal (utils.c:876)
 ==6738==    by 0x8679DE3: ff_get_buffer (utils.c:888)
 ==6738==    by 0x8569A78: mp_decode_frame (mpegaudiodec.c:1633)
 ==6738==    by 0x856A050: decode_frame (mpegaudiodec.c:1709)
 ==6738==    by 0x867C0F4: avcodec_decode_audio4 (utils.c:2136)
 ==6738==    by 0x80B5859: decode_audio (ffmpeg.c:1526)
 ==6738==
 ==6738==
 ==6738== HEAP SUMMARY:
 ==6738==     in use at exit: 0 bytes in 0 blocks
 ==6738==   total heap usage: 50,508 allocs, 50,508 frees, 19,762,456 bytes
 allocated
 ==6738==
 ==6738== All heap blocks were freed -- no leaks are possible
 ==6738==
 ==6738== For counts of detected and suppressed errors, rerun with: -v
 ==6738== ERROR SUMMARY: 136 errors from 11 contexts (suppressed: 59 from
 6)
 knoppix at Microknoppix:/media/sdb1$
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2993#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 19:16:04 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 17:16:04 -0000
Subject: [FFmpeg-trac] #1275(FFserver:open): ffserver x264 presets
In-Reply-To: <034.2c961ca874092bf9501c317198042273@avcodec.org>
References: <034.2c961ca874092bf9501c317198042273@avcodec.org>
Message-ID: <049.124dfa0238403dc3e9354a9218e203e3@avcodec.org>

#1275: ffserver x264 presets
------------------------------------+------------------------------------
             Reporter:  burek       |                    Owner:  mastered
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  FFserver
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by burek):

 According to this ticket #2954 "-pix_fmt yuv420p" should be:
 {{{
 PixelFormat yuv420p
 }}}
 I'm not sure about "-preset" (actually "-preset:v")

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1275#comment:12>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 20:18:41 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 18:18:41 -0000
Subject: [FFmpeg-trac] #2993(swresample:open): swr ssse3: invalid read
 with forced mp3adu
In-Reply-To: <038.96a2428a228a15d85b1a7ef64dba0d9b@avcodec.org>
References: <038.96a2428a228a15d85b1a7ef64dba0d9b@avcodec.org>
Message-ID: <053.1b6e4106d8e5a4cbc45d620853197c8a@avcodec.org>

#2993: swr ssse3: invalid read with forced mp3adu
------------------------------------+--------------------------------------
             Reporter:  ami_stuff   |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  swresample
              Version:  git-master  |               Resolution:
             Keywords:              |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+--------------------------------------

Comment (by cehoyos):

 I can reproduce the invalid reads with valgrind (both 32- and 64bit), no
 crash here on Windows.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2993#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sat Sep 28 21:08:52 2013
From: trac at avcodec.org (FFmpeg)
Date: Sat, 28 Sep 2013 19:08:52 -0000
Subject: [FFmpeg-trac] #3012(documentation:new): Incorrect examples for
 image2 demuxer regarding frame rate
Message-ID: <034.46b63538b049ba387a3f23194a165396@avcodec.org>

#3012: Incorrect examples for image2 demuxer regarding frame rate
-------------------------------------+-------------------------------------
             Reporter:  slhck        |                     Type:  defect
               Status:  new          |                 Priority:  normal
            Component:               |                  Version:  git-
  documentation                      |  master
             Keywords:  image2       |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
 [http://ffmpeg.org/ffmpeg-all.html#Examples-59 The documentation mentions]
 that in the following example "an input frame rate of 10 is assumed":

 {{{
 ffmpeg -i 'img-%03d.jpeg' -r 10 out.mkv
 }}}

 This, however, appears wrong to me. The frame rate according to which the
 input is read needs to be specified before `-i`. In the given examples,
 `-r 10` reads the input at 25 fps (default) and drops frames to achieve
 the final 10 fps output frame rate.

 [http://ffmpeg.org/trac/ffmpeg/wiki/Create%20a%20video%20slideshow%20from%20images
 The Wiki has a good explanation], so maybe the documentation could be
 updated in that regard.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3012>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 29 09:25:49 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 29 Sep 2013 07:25:49 -0000
Subject: [FFmpeg-trac] #3008(avfilter:open): ffmpeg converts video to
 grayscale if yadif filter used
In-Reply-To: <037.bef299f0dd5af5ff9272e3b30c90ef5f@avcodec.org>
References: <037.bef299f0dd5af5ff9272e3b30c90ef5f@avcodec.org>
Message-ID: <052.675a37405f0440dbf17a8cf3c85f9d9c@avcodec.org>

#3008: ffmpeg converts video to grayscale if yadif filter used
------------------------------------+------------------------------------
             Reporter:  tborisow    |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  important   |                Component:  avfilter
              Version:  git-master  |               Resolution:
             Keywords:  regression  |               Blocked By:
             Blocking:              |  Reproduced by developer:  1
Analyzed by developer:  0           |
------------------------------------+------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  FFmpeg => avfilter
 * priority:  normal => important
 * version:  2.0.1 => git-master
 * keywords:  yadif grayscale ffmpeg => regression


Comment:

 For future tickets: Please always test current git head and please always
 add the complete, uncut console output.

 Several work-arounds exist:
 {{{
 $ ffmpeg -i out format=yuv420p,yadif,scale=200x200 -ar 22050 0.flv
 }}}

 I originally thought that this is a duplicate of ticket #2559 but since
 this is a regression since 6adf97f, I don't think so.

 The scale filter has to be inserted twice because yadif does not support
 the input pixel format and you generally cannot resize before
 deinterlacing. For the specific case (input pal8, yadif, resize, output
 yuv420p), the problem can be fixed imo because the trivial choice works,
 for other encoders, it would be more difficult to see the right pix_fmt.
 {{{
 $ ffmpeg -loglevel verbose -i fate-suite/cram/skating.avi -vf
 yadif,scale=200x200 out.flv
 ffmpeg version N-56717-gface578 Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 29 2013 08:41:46 with gcc 4.7 (SUSE Linux)
   configuration: --enable-gpl
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.101 / 55. 33.101
   libavformat    55. 18.104 / 55. 18.104
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 88.100 /  3. 88.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
   libpostproc    52.  3.100 / 52.  3.100
 [avi @ 0x2809880] parser not found for codec msvideo1, packets or times
 may be invalid.
     Last message repeated 1 times
 Input #0, avi, from 'fate-suite/cram/skating.avi':
   Duration: 00:00:07.50, start: 0.000000, bitrate: 648 kb/s
     Stream #0:0: Video: msvideo1 (CRAM / 0x4D415243), pal8, 160x120, 30
 tbr, 30 tbn, 30 tbc
 [Parsed_scale_1 @ 0x280d800] w:200 h:200 flags:'0x4' interl:0
 [graph 0 input from stream 0:0 @ 0x280ea60] w:160 h:120 pixfmt:pal8
 tb:10000/300003 fr:300003/10000 sar:0/1 sws_param:flags=2
 [auto-inserted scaler 0 @ 0x27f48a0] w:iw h:ih flags:'0x4' interl:0
 [Parsed_yadif_0 @ 0x280d0e0] auto-inserting filter 'auto-inserted scaler
 0' between the filter 'graph 0 input from stream 0:0' and the filter
 'Parsed_yadif_0'
 [auto-inserted scaler 0 @ 0x27f48a0] w:160 h:120 fmt:pal8 sar:0/1 -> w:160
 h:120 fmt:gray sar:0/1 flags:0x4
 [Parsed_scale_1 @ 0x280d800] w:160 h:120 fmt:gray sar:0/1 -> w:200 h:200
 fmt:yuv420p sar:0/1 flags:0x4
 Output #0, flv, to 'out.flv':
   Metadata:
     encoder         : Lavf55.18.104
     Stream #0:0: Video: flv1 (flv) ([2][0][0][0] / 0x0002), yuv420p,
 200x200, q=2-31, 200 kb/s, 1k tbn, 30 tbc
 Stream mapping:
   Stream #0:0 -> #0:0 (msvideo1 -> flv)
 Press [q] to stop, [?] for help
 No more output streams to write to, finishing.
 frame=  225 fps=0.0 q=5.7 Lsize=     254kB time=00:00:07.50 bitrate=
 276.9kbits/s
 video:250kB audio:0kB subtitle:0 global headers:0kB muxing overhead
 1.490064%
 }}}
 out.flv is gray because the first inserted scaler uses pix_fmt gray.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3008#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 29 09:53:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 29 Sep 2013 07:53:32 -0000
Subject: [FFmpeg-trac] #3011(avformat:open): mtv: deadlock and mem eater
 with forced format
In-Reply-To: <038.ee3b44b9f01c4a6a32c668035ee00169@avcodec.org>
References: <038.ee3b44b9f01c4a6a32c668035ee00169@avcodec.org>
Message-ID: <053.d23c8a92bdd51c5d274ed40e78d57d44@avcodec.org>

#3011: mtv: deadlock and mem eater with forced format
--------------------------------------+------------------------------------
             Reporter:  ami_stuff     |                    Owner:
                 Type:  defect        |                   Status:  open
             Priority:  important     |                Component:  avformat
              Version:  git-master    |               Resolution:
             Keywords:  mtv deadlock  |               Blocked By:
             Blocking:                |  Reproduced by developer:  1
Analyzed by developer:  0             |
--------------------------------------+------------------------------------
Changes (by cehoyos):

 * status:  new => open
 * reproduced:  0 => 1
 * component:  undetermined => avformat
 * priority:  normal => important
 * version:  unspecified => git-master
 * keywords:   => mtv deadlock


Comment:

 Patch sent.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3011#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 29 15:04:19 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 29 Sep 2013 13:04:19 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.aada2065102c4861e06d46233d93a93f@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 Which version should I test? With or without comment:185? Or should I wait
 for something? I'm doing a batch encode, so I can redo anything without
 much effort.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:191>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 29 15:38:40 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 29 Sep 2013 13:38:40 -0000
Subject: [FFmpeg-trac] #3013(FFmpeg:new): Determination of brightness or
 light level
Message-ID: <035.5565a1ee18c9121a3edd550c12060b6f@avcodec.org>

#3013: Determination of brightness or light level
-------------------------------------+-------------------------------------
             Reporter:  kps1ny       |                     Type:
               Status:  new          |  sponsoring request
            Component:  FFmpeg       |                 Priority:  normal
             Keywords:               |                  Version:
  brightness,light level             |  unspecified
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------
 Hello. It would be of great help if FFmpeg could analyze a still image (or
 frame) and output a number representing its overall brightness or light
 level.

 Here's the problem I'm trying to solve:

 1) A camera takes one photo every five minutes each day.

 2) The image closest to noon from each day is appended to a growing
 continuous timelapse movie.

 The problem is that those noon photos vary a lot in terms of light levels,
 because of clouds (or the lack of them). I'd like to be able to have
 FFmpeg look through all the photos from 11am to 1pm and grab the one
 closest to a consistent specified light level.

 I can write the script to loop through potential photos, but I don't know
 whether or how FFmpeg can analyze and report some value on which to choose
 the best image from amongst the files we have.

 After posting on the general FFmpeg forum for help and receiving no
 responses, someone suggested requesting this capability as a feature.


 Thanks for your consideration,
 -Ken

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3013>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 29 17:07:34 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 29 Sep 2013 15:07:34 -0000
Subject: [FFmpeg-trac] #3014(swscale:new): sws_scale() renders a frame
 buffer invalid for memory freeing in a specific situation
Message-ID: <034.2c602a57de94a3ee70d70fae4c7dd2e0@avcodec.org>

#3014: sws_scale() renders a frame buffer invalid for memory freeing in a specific
situation
---------------------------------+--------------------------------------
             Reporter:  cyril    |                     Type:  defect
               Status:  new      |                 Priority:  normal
            Component:  swscale  |                  Version:  git-master
             Keywords:           |               Blocked By:
             Blocking:           |  Reproduced by developer:  0
Analyzed by developer:  0        |
---------------------------------+--------------------------------------
 Summary of the bug:
 After reading small jpegs and then converting them to the BGRA color space
 using sws_scale(), the resulting frame buffer is corrupted and freeing
 memory taken by the buffer lead to a debug error.

 How to reproduce:
 1/ Under Windows 7 and Visual Studio 2010, create a C++ Win32 console app
 called JpegTest (I'm using VS Pro but it should be ok with VS Express).
 2/ Copy-paste the attached JpegTest.cpp within the resulting solution.
 3/ Compile the latest FFmpeg to obtain .lib and .dll (or download the
 latest Zeranoe dev and shared zip)
 4/ Configure the solution so it can compile with FFmpeg by configuring the
 lib and include path (Project > Properties > VC++ Directories).
 5/ Don't forget to put the attached inttypes.h in the include path.
 6/ Put the dlls in the generated Debug folder
 7/ Change JpegTest.cpp so that it properly refers to the root_banner.jpg
 file.
 8/ Launch in debug mode, during execution, you should get a debug
 breakpoint because of heap corruptions.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3014>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 29 18:01:03 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 29 Sep 2013 16:01:03 -0000
Subject: [FFmpeg-trac] #2828(avformat:new): HLS segment MPEGTS
 continuity counter is being incorrectly set to 0 on each segment
In-Reply-To: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
References: <039.2bf7af10ff8a4a49227544671e70b4f2@avcodec.org>
Message-ID: <054.58e6a11929dc1d3b9053d887f01d4d69@avcodec.org>

#2828: HLS segment MPEGTS continuity counter is being incorrectly set to 0 on each
segment
-------------------------------------+------------------------------------
             Reporter:  dlevinson5   |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:  avformat
              Version:  unspecified  |               Resolution:
             Keywords:  hls mpegts   |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by dicroce):

 I have extracted your changes from your original mpegtsenc.c... Once I did
 that it was pretty straightforward to move the counters into
 AVFormatContext, which appears to have totally fixed the problem. I'd
 offer up the patch files, but something tells me the community might not
 be too thrilled by 3 new members for AVFormatContext just to support
 mpegts files.

 On the other hand, if ff_get_continuity_counter() and
 ff_set_continuity_counter() actually existed, that might be a cleaner
 solution for everyone...

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2828#comment:12>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 29 18:56:09 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 29 Sep 2013 16:56:09 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.f5b23500759c160964355d993c40a270@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 My current plan:
 {{{
 bin\ffmpeg55212_v4patch -y -i in.wav -c:a aac -strict experimental -b:a
 128k out.mp4

 bin\ffmpeg56667_v6patch_c185 -y -i in.wav -c:a aac -strict experimental
 -b:a 128k out.mp4

 bin\ffmpeg56667_v6patch_c185 -y -i in.wav -c:a aac -strict experimental
 -q:a 0.7 out.mp4

 bin\ffmpeg56667 -y -i in.wav -c:a libfdk_aac -vbr 3 out.mp4

 bin\ffmpeg56667 -y -i in.wav -c:a libfaac -q:a 97 out.mp4

 bin\ffmpeg56667 -y -i in.wav -c:a libmp3lame -q:a 5 out.mp3

 bin\ffmpeg56667 -y -i in.wav -c:a ac3 -b:a 128k out.ac3
 }}}
 Many people were asking the quality of faac. Weird, but maybe I should
 include it if many people are wondering. Expect the test to slow down.

 The bitrate distribution of vbr encoders. Even when the comment:185 was
 applied, the speech samples takes up a lot of space.
 [[Image(http://i39.tinypic.com/2h8be3o.png)]]


 My current FFmpeg configuration:
 {{{
 $ ./configure --enable-gpl --enable-version3 --enable-nonfree --enable-
 libfdk-a
 ac --enable-libfaac --enable-libmp3lame --extra-ldflags=-static --extra-
 cflags=
 '-march=nocona -mfpmath=sse' --optflags=-O2
 }}}
 Is there a way to expose more bugs so that we can fix it before the test?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:192>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 29 20:07:57 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 29 Sep 2013 18:07:57 -0000
Subject: [FFmpeg-trac] #3001(avformat:closed): amr: abort with forced
 codec
In-Reply-To: <038.1ba0f7991a77ea98940095457d37e342@avcodec.org>
References: <038.1ba0f7991a77ea98940095457d37e342@avcodec.org>
Message-ID: <053.7e6107bb70a4785bc750e3861ff97882@avcodec.org>

#3001: amr: abort with forced codec
-------------------------------------+-------------------------------------
             Reporter:  ami_stuff    |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  normal       |                Component:  avformat
              Version:  git-master   |               Resolution:  fixed
             Keywords:  amr crash    |               Blocked By:
  abort                              |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Should be fixed in d87ff55.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3001#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Sun Sep 29 20:08:16 2013
From: trac at avcodec.org (FFmpeg)
Date: Sun, 29 Sep 2013 18:08:16 -0000
Subject: [FFmpeg-trac] #3012(documentation:open): Incorrect examples for
 image2 demuxer regarding frame rate
In-Reply-To: <034.46b63538b049ba387a3f23194a165396@avcodec.org>
References: <034.46b63538b049ba387a3f23194a165396@avcodec.org>
Message-ID: <049.a5d22956ba2c606e59b41d3e3f24c6ff@avcodec.org>

#3012: Incorrect examples for image2 demuxer regarding frame rate
-------------------------------------+-------------------------------------
             Reporter:  slhck        |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  minor        |                Component:
              Version:  git-master   |  documentation
             Keywords:  image2       |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by cehoyos):

 * priority:  normal => minor
 * status:  new => open
 * reproduced:  0 => 1


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3012#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 10:36:23 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 08:36:23 -0000
Subject: [FFmpeg-trac] #3012(documentation:closed): Incorrect examples
 for image2 demuxer regarding frame rate
In-Reply-To: <034.46b63538b049ba387a3f23194a165396@avcodec.org>
References: <034.46b63538b049ba387a3f23194a165396@avcodec.org>
Message-ID: <049.53dec10c7199b589c0cbb6fcdacc0b69@avcodec.org>

#3012: Incorrect examples for image2 demuxer regarding frame rate
-------------------------------------+-------------------------------------
             Reporter:  slhck        |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  minor        |                Component:
              Version:  git-master   |  documentation
             Keywords:  image2       |               Resolution:  fixed
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------
Changes (by richardpl):

 * status:  open => closed
 * resolution:   => fixed


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3012#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 10:40:09 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 08:40:09 -0000
Subject: [FFmpeg-trac] #3012(documentation:closed): Incorrect examples
 for image2 demuxer regarding frame rate
In-Reply-To: <034.46b63538b049ba387a3f23194a165396@avcodec.org>
References: <034.46b63538b049ba387a3f23194a165396@avcodec.org>
Message-ID: <049.0e209cc73764c45223c628b1ea6c2938@avcodec.org>

#3012: Incorrect examples for image2 demuxer regarding frame rate
-------------------------------------+-------------------------------------
             Reporter:  slhck        |                    Owner:
                 Type:  defect       |                   Status:  closed
             Priority:  minor        |                Component:
              Version:  git-master   |  documentation
             Keywords:  image2       |               Resolution:  fixed
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  1
-------------------------------------+-------------------------------------

Comment (by ubitux):

 I suppose in 5a47f12390d2419ab502276869b388c871dde338.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3012#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 11:04:32 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 09:04:32 -0000
Subject: [FFmpeg-trac] #3015(avfilter:new): conversion never ends with
 'apad' filter
Message-ID: <037.50f5bc24d49994f2a3e32b91e9b6e1ba@avcodec.org>

#3015: conversion never ends with 'apad' filter
----------------------------------+--------------------------------------
             Reporter:  tborisow  |                     Type:  defect
               Status:  new       |                 Priority:  important
            Component:  avfilter  |                  Version:  git-master
             Keywords:  apad      |               Blocked By:
             Blocking:            |  Reproduced by developer:  0
Analyzed by developer:  0         |
----------------------------------+--------------------------------------
 Summary of the bug: if 'apad' filter used, conversion never ends for some
 videos (where 'Non-monotonous DTS in output stream')
 How to reproduce:
 {{{
 % ffmpeg -i test_video -filter:a apad -f flv -vcodec flv -ar 22050 -y
 out.flv

 ffmpeg version N-56777-g5c7d86c Copyright (c) 2000-2013 the FFmpeg
 developers
   built on Sep 30 2013 09:42:21 with gcc 4.7 (Ubuntu/Linaro
 4.7.3-1ubuntu1)
   configuration: --enable-filters --enable-libmp3lame
   libavutil      52. 46.100 / 52. 46.100
   libavcodec     55. 33.101 / 55. 33.101
   libavformat    55. 18.104 / 55. 18.104
   libavdevice    55.  3.100 / 55.  3.100
   libavfilter     3. 88.100 /  3. 88.100
   libswscale      2.  5.100 /  2.  5.100
   libswresample   0. 17.103 /  0. 17.103
 Guessed Channel Layout for  Input Stream #0.1 : mono
 Input #0, avi, from '/home/tobo/Desktop/test-data/VIDEO-4719':
   Duration: 00:00:03.42, start: 0.000000, bitrate: 1043 kb/s
     Stream #0:0: Video: mjpeg (MJPG / 0x47504A4D), yuvj422p(pc), 320x240,
 15.17 fps, 15.20 tbr, 15.20 tbn, 15.20 tbc
     Stream #0:1: Audio: pcm_mulaw ([7][0][0][0] / 0x0007), 8000 Hz, mono,
 s16, 64 kb/s
 [swscaler @ 0x2c6a040] deprecated pixel format used, make sure you did set
 range correctly
 Output #0, flv, to 'out.flv':
   Metadata:
     encoder         : Lavf55.18.104
     Stream #0:0: Video: flv1 (flv) ([2][0][0][0] / 0x0002), yuv420p,
 320x240, q=2-31, 200 kb/s, 1k tbn, 15.20 tbc
     Stream #0:1: Audio: mp3 (libmp3lame) ([2][0][0][0] / 0x0002), 22050
 Hz, mono, s16p
 Stream mapping:
   Stream #0:0 -> #0:0 (mjpeg -> flv)
   Stream #0:1 -> #0:1 (pcm_mulaw -> libmp3lame)
 Press [q] to stop, [?] for help
 [libmp3lame @ 0x2c837a0] Queue input is backward in time
 [flv @ 0x2c83000] Non-monotonous DTS in output stream 0:1; previous: 2,
 current: -418293516410647401; changing to 2. This may result in incorrect
 timestamps in the output file.
 [flv @ 0x2c83000] Non-monotonous DTS in output stream 0:1; previous: 2,
 current: -418293516410647375; changing to 2. This may result in incorrect
 timestamps in the output file.
 [flv @ 0x2c83000] Non-monotonous DTS in output stream 0:1; previous: 2,
 current: -418293516410647348; changing to 2. This may result in incorrect
 timestamps in the output file.
 [flv @ 0x2c83000] Non-monotonous DTS in output stream 0:1; previous: 2,
 current: -418293516410647322; changing to 2. This may result in incorrect
 timestamps in the output file.
 ...
 }}}

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3015>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 11:39:15 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 09:39:15 -0000
Subject: [FFmpeg-trac] #3015(avfilter:new): conversion never ends with
 'apad' filter
In-Reply-To: <037.50f5bc24d49994f2a3e32b91e9b6e1ba@avcodec.org>
References: <037.50f5bc24d49994f2a3e32b91e9b6e1ba@avcodec.org>
Message-ID: <052.e2285baa98b364bd925c08843aed35ad@avcodec.org>

#3015: conversion never ends with 'apad' filter
------------------------------------+------------------------------------
             Reporter:  tborisow    |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avfilter
              Version:  git-master  |               Resolution:
             Keywords:  apad        |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------
Changes (by cehoyos):

 * priority:  important => normal


Comment:

 Does the conversion work if you don't use the apad filter?

 Is this a regression?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3015#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 11:46:07 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 09:46:07 -0000
Subject: [FFmpeg-trac] #3011(avformat:closed): mtv: deadlock and mem
 eater with forced format
In-Reply-To: <038.ee3b44b9f01c4a6a32c668035ee00169@avcodec.org>
References: <038.ee3b44b9f01c4a6a32c668035ee00169@avcodec.org>
Message-ID: <053.c14f97142eef0883f48e3a84284f0c3c@avcodec.org>

#3011: mtv: deadlock and mem eater with forced format
--------------------------------------+------------------------------------
             Reporter:  ami_stuff     |                    Owner:
                 Type:  defect        |                   Status:  closed
             Priority:  important     |                Component:  avformat
              Version:  git-master    |               Resolution:  fixed
             Keywords:  mtv deadlock  |               Blocked By:
             Blocking:                |  Reproduced by developer:  1
Analyzed by developer:  0             |
--------------------------------------+------------------------------------
Changes (by cehoyos):

 * status:  open => closed
 * resolution:   => fixed


Comment:

 Should be fixed in b0b5012, thank you for the report!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3011#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 11:46:16 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 09:46:16 -0000
Subject: [FFmpeg-trac] #3015(avfilter:new): conversion never ends with
 'apad' filter
In-Reply-To: <037.50f5bc24d49994f2a3e32b91e9b6e1ba@avcodec.org>
References: <037.50f5bc24d49994f2a3e32b91e9b6e1ba@avcodec.org>
Message-ID: <052.d018927fa8c36a458639475d47743f70@avcodec.org>

#3015: conversion never ends with 'apad' filter
------------------------------------+------------------------------------
             Reporter:  tborisow    |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avfilter
              Version:  git-master  |               Resolution:
             Keywords:  apad        |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by tborisow):

 Yes, it works without apad filter.
 Regression? Hmm... I don't think so

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3015#comment:2>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 11:51:37 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 09:51:37 -0000
Subject: [FFmpeg-trac] #3015(avfilter:new): conversion never ends with
 'apad' filter
In-Reply-To: <037.50f5bc24d49994f2a3e32b91e9b6e1ba@avcodec.org>
References: <037.50f5bc24d49994f2a3e32b91e9b6e1ba@avcodec.org>
Message-ID: <052.50514f60cc764a62f13c11b5ab5c95d7@avcodec.org>

#3015: conversion never ends with 'apad' filter
------------------------------------+------------------------------------
             Reporter:  tborisow    |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avfilter
              Version:  git-master  |               Resolution:
             Keywords:  apad        |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by cehoyos):

 Replying to [comment:2 tborisow]:
 > Yes, it works without apad filter.

 I agree that it seems the filter does not react as expected (especially
 since the documentation does not warn about the behaviour).

 But my question is: Did you encounter this problem when testing an actual
 use-case (and just sent a shorter sample) or did you test what happens if
 you use the apad filter in a conversion that does not need additional
 padding (which definitely is also helpful)?

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3015#comment:3>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 11:59:10 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 09:59:10 -0000
Subject: [FFmpeg-trac] #3007(undetermined:new): param0 and param1 are
 ignored for bicubic scaler.
In-Reply-To: <040.241ab88f054f8123e2d00617e51ade2b@avcodec.org>
References: <040.241ab88f054f8123e2d00617e51ade2b@avcodec.org>
Message-ID: <055.87047ed3bff4b22d69d8f53488e962b8@avcodec.org>

#3007: param0 and param1 are ignored for bicubic scaler.
-------------------------------------+-------------------------------------
             Reporter:  YellowOnion  |                    Owner:
                 Type:  defect       |                   Status:  new
             Priority:  normal       |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 It should be used as follows:
 {{{
 $ ffmpeg  -i "Inception.2010.720p.BluRay.DTS.x264-ESiR.mkv" -ss 14 -vf
 scale=854x356:flags=bicubic+print_info:param0=1/3:param1=1/3 -frames 1
 Blah-N.png
 }}}
 This unfortunately crashes with fpe here.
 See http://thread.gmane.org/gmane.comp.video.ffmpeg.devel/168974 for a
 related discussion.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3007#comment:1>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 11:59:20 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 09:59:20 -0000
Subject: [FFmpeg-trac] #3015(avfilter:new): conversion never ends with
 'apad' filter
In-Reply-To: <037.50f5bc24d49994f2a3e32b91e9b6e1ba@avcodec.org>
References: <037.50f5bc24d49994f2a3e32b91e9b6e1ba@avcodec.org>
Message-ID: <052.2f0bb3ba4f4286bb9f4ba1eaaed80627@avcodec.org>

#3015: conversion never ends with 'apad' filter
------------------------------------+------------------------------------
             Reporter:  tborisow    |                    Owner:
                 Type:  defect      |                   Status:  new
             Priority:  normal      |                Component:  avfilter
              Version:  git-master  |               Resolution:
             Keywords:  apad        |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------

Comment (by tborisow):

 I was trying to use this filter for all files uploaded by users (because I
 don't know whether some  new file needs an audio padding)

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3015#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 12:02:30 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 10:02:30 -0000
Subject: [FFmpeg-trac] #3015(avfilter:open): conversion never ends with
 'apad' filter
In-Reply-To: <037.50f5bc24d49994f2a3e32b91e9b6e1ba@avcodec.org>
References: <037.50f5bc24d49994f2a3e32b91e9b6e1ba@avcodec.org>
Message-ID: <052.f773f463a096d18c8cc13697fa811cdf@avcodec.org>

#3015: conversion never ends with 'apad' filter
------------------------------------+------------------------------------
             Reporter:  tborisow    |                    Owner:
                 Type:  defect      |                   Status:  open
             Priority:  normal      |                Component:  avfilter
              Version:  git-master  |               Resolution:
             Keywords:  apad        |               Blocked By:
             Blocking:              |  Reproduced by developer:  0
Analyzed by developer:  0           |
------------------------------------+------------------------------------
Changes (by cehoyos):

 * status:  new => open


Comment:

 Thank you for the clarification!

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3015#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 16:55:23 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 14:55:23 -0000
Subject: [FFmpeg-trac] #1753(undetermined:new): Delay output for X
 seconds
In-Reply-To: <034.91c02c0db192afd145c9555fdc5f0071@avcodec.org>
References: <034.91c02c0db192afd145c9555fdc5f0071@avcodec.org>
Message-ID: <049.74eb0226acc2a660968b4f2d1736c6cf@avcodec.org>

#1753: Delay output for X seconds
-------------------------------------+-------------------------------------
             Reporter:  burek        |                    Owner:
                 Type:  enhancement  |                   Status:  new
             Priority:  wish         |                Component:
              Version:  unspecified  |  undetermined
             Keywords:               |               Resolution:
             Blocking:               |               Blocked By:
Analyzed by developer:  0            |  Reproduced by developer:  0
-------------------------------------+-------------------------------------

Comment (by richardpl):

 This is just filter that buffers frames from input and drop older frames
 from buffer
 when they appear to not be needed any more.

 When something interesting happens (for example another sensor filter
 finds something),
 filter would just stop buffering and will start returning all frames from
 cache and any other frames from input.

 Both encoding and sensor filter would need to be done in realtime anyway
 as caching have limits.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1753#comment:10>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 16:57:13 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 14:57:13 -0000
Subject: [FFmpeg-trac] #1753(avfilter:open): Delay output for X seconds
In-Reply-To: <034.91c02c0db192afd145c9555fdc5f0071@avcodec.org>
References: <034.91c02c0db192afd145c9555fdc5f0071@avcodec.org>
Message-ID: <049.8ff32ea3978cb657b23b8e444f069f1f@avcodec.org>

#1753: Delay output for X seconds
-------------------------------------+------------------------------------
             Reporter:  burek        |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avfilter
              Version:  git-master   |               Resolution:
             Keywords:               |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------
Changes (by richardpl):

 * status:  new => open
 * version:  unspecified => git-master
 * component:  undetermined => avfilter


-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/1753#comment:11>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 17:06:10 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 15:06:10 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.515c1b15b1df7e010c5d345e0d6930ef@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by klaussfreire):

 Sorry about the delay. I wanted to give you a 6b patch, since I was making
 good progress, but I got stalled yesterday.

 I managed to remove (or, rather, ameliorate) those bitrate outliers,
 without constraining VBR. I noticed they were related to silence parts. It
 seems in the absence of any significant signal, it will try to encode the
 noise, and being noise, it's quite hard to encode.

 What I did is I modeled the absolute hearing threshold in aacpsy, and now
 that's performing better. But there's still a tendency to waste bits on
 noisy transients. I couldn't quite yet confirm it's a waste, all my
 attempts at saving bits in those, run afoul quality-wise. As if those bits
 were really needed. But I suspect there's still some work to be done in
 that regard.

 So in essence, I achieved some extra efficiency by modeling absolute
 hearing thresholds. Since you never know what SPL will the sample be
 playing at, I matched the masking curve's lowest point to 16-bit
 quantization noise. That should correctly match most playback situations,
 but I'd like people to comment if there was an explicit reason why
 absolute thresholds haven't been accounted for.

 As for your testing plans, you tell me. I can give you the current state
 of the encoder (I don't expect to do any more progress quickly, I tried
 lots of things and failed to improve it, so unless I get some kind of
 inspiration the encoder will remain as is for a while), or you can test
 the current one. Bitrate-wise, they're similar. The newest one performs a
 little better since it's unconstrained, but it still has a disadvantage
 against ABR regarding tonal, quiet passages.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:193>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 17:19:05 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 15:19:05 -0000
Subject: [FFmpeg-trac] #3004(build system:new): OpenCL Version detection
 broken (at least on OSX)
In-Reply-To: <043.4908636919a9698e48ecafc7f532a395@avcodec.org>
References: <043.4908636919a9698e48ecafc7f532a395@avcodec.org>
Message-ID: <058.c63250bb7a4fbf73a4ad7721ac6f78ab@avcodec.org>

#3004: OpenCL Version detection broken (at least on OSX)
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  thilo.borgmann                     |                   Status:  new
                 Type:  defect       |                Component:  build
             Priority:  important    |  system
              Version:  git-master   |               Resolution:
             Keywords:  regression   |               Blocked By:
  opencl                             |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by thilo.borgmann):

 I don't think you want to OR the version condition... "enable_any || die"
 does not make sense.

 You might verify that any following {} blocks are skipped after the
 {enable_any ...} block - no need for actually having a CL machine.

 I don't see the reason in the logics but I'm not used to so much script
 magic anyway...

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3004#comment:4>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 17:30:33 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 15:30:33 -0000
Subject: [FFmpeg-trac] #3004(build system:new): OpenCL Version detection
 broken (at least on OSX)
In-Reply-To: <043.4908636919a9698e48ecafc7f532a395@avcodec.org>
References: <043.4908636919a9698e48ecafc7f532a395@avcodec.org>
Message-ID: <058.73a830b2df7189c63e5617cd6a6aaf9f@avcodec.org>

#3004: OpenCL Version detection broken (at least on OSX)
-------------------------------------+-------------------------------------
             Reporter:               |                    Owner:
  thilo.borgmann                     |                   Status:  new
                 Type:  defect       |                Component:  build
             Priority:  important    |  system
              Version:  git-master   |               Resolution:
             Keywords:  regression   |               Blocked By:
  opencl                             |  Reproduced by developer:  0
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by cehoyos):

 Untested patch attached.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/3004#comment:5>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 17:48:31 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 15:48:31 -0000
Subject: [FFmpeg-trac] #2686(avcodec:open): Native AAC encoder collapses
 at high bitrates on some samples
In-Reply-To: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
References: <036.46e6f0dcfe0fbeeeee1e7460dc88b12a@avcodec.org>
Message-ID: <051.c13435b30766cd3339721cb64847adc2@avcodec.org>

#2686: Native AAC encoder collapses at high bitrates on some samples
-------------------------------------+-------------------------------------
             Reporter:  Kamedo2      |                    Owner:
                 Type:  defect       |                   Status:  open
             Priority:  normal       |                Component:  avcodec
              Version:  git-master   |               Resolution:
             Keywords:  aac          |               Blocked By:
  regression                         |  Reproduced by developer:  1
             Blocking:               |
Analyzed by developer:  0            |
-------------------------------------+-------------------------------------

Comment (by Kamedo2):

 I think it's not a major problem to boost rate on noisy transients,
 they're rare in actual encoding situations, unlike speech samples.

 The v6 patch is already a very good one, so I'm very satisfied with the
 current quality, but fairness can be a problem, so if you have the version
 that reduces bitrate on speech samples, I'd like to test the one with
 reduced bitrate.

 I'd like to test a version that is worthy to commit, so please be careful
 of stability issues like memory leaks and such, rather than the quality.
 I'll try my best to find problems before the test.


 BTW, I decided to use cbr for the fdk-aac. The cbr sounds clearer.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2686#comment:194>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker

From trac at avcodec.org  Mon Sep 30 20:38:01 2013
From: trac at avcodec.org (FFmpeg)
Date: Mon, 30 Sep 2013 18:38:01 -0000
Subject: [FFmpeg-trac] #2573(avformat:open): Remuxed XDCAM mov does not
 play correctly in Quicktime player
In-Reply-To: <032.f9dc1b31fc6befe68f7177909b6d9c4a@avcodec.org>
References: <032.f9dc1b31fc6befe68f7177909b6d9c4a@avcodec.org>
Message-ID: <047.150ec0486103864c6602b838f8e2fcc1@avcodec.org>

#2573: Remuxed XDCAM mov does not play correctly in Quicktime player
-------------------------------------+------------------------------------
             Reporter:  rmk          |                    Owner:
                 Type:  enhancement  |                   Status:  open
             Priority:  wish         |                Component:  avformat
              Version:  git-master   |               Resolution:
             Keywords:  mov          |               Blocked By:
             Blocking:               |  Reproduced by developer:  0
Analyzed by developer:  0            |
-------------------------------------+------------------------------------

Comment (by nele):

 This thread helped me solve something I was working on, so here is what I
 did that you can duplicate in your code. The problem here is that frames
 here get packed so that you have I frame at the beginning, then two B
 frames and so on. The I frame's display time is actually shifted to the
 future so the B frame just behind it has to be displayed first. If you set
 the media_time to that frame's time, it should be just fine. For example,
 if I have 29.97 video, and my frames times are at 0/30000, 1001/30000,
 2002/30000 and so on, the media_time has to be set to 1001. Hope this
 helps. Cheers.

-- 
Ticket URL: <https://ffmpeg.org/trac/ffmpeg/ticket/2573#comment:7>
FFmpeg <http://ffmpeg.org>
FFmpeg issue tracker
